(function(t){function e(e){for(var i,a,s=e[0],l=e[1],h=e[2],d=0,u=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(u.length)u.shift()();return o.push.apply(o,h||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},1:function(t,e){},"1cb3":function(t,e,n){},2:function(t,e){},"746a":function(t,e,n){},"7faf":function(t,e,n){"use strict";var i=n("b8ff"),r=n.n(i);r.a},"8fca":function(t,e,n){"use strict";var i=n("746a"),r=n.n(i);r.a},b8ff:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=n("0874"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"app-header"},[n("h1",{staticClass:"title"},[t._v("Graph Visualizer")]),n("div",{staticClass:"settings"},[t.desktopLayout?n("div",{staticClass:"settings-item"},[n("span",{staticClass:"settings-item-title",class:{"setting-item-active":t.settingsOpen},on:{click:function(e){t.settingsOpen=!t.settingsOpen}}},[t._v(" 侧栏 ")])]):t._e()])]),n("main",t._g({staticClass:"main-panes",class:{"main-panes-show-sidebarmain-panes-show-sidebar":t.settingsOpen&&t.desktopLayout}},Object.assign({},t.sizerMouseActive?{mouseup:t.onMainSizerMouseUp,mousemove:t.onMainSizerMouseMove}:{},t.sizerTouchActive?{touchend:t.onMainSizerTouchEnd,touchmove:t.onMainSizerTouchMove}:{})),[n("div",{staticClass:"main-container main-container-graph",class:{"main-container-graph-size-active":!t.sizerMouseActive&&!t.sizerTouchActive},style:{width:t.desktopLayout?t.settingsOpen?"calc(100% - "+t.settingsWidth+"px)":"100%":"auto"}},[n("div",{ref:"canvas",staticClass:"main-pane main-pane-graph"},[t.parseError?n("div",{staticClass:"error-pane"},[n("pre",[n("code",[t._v(t._s(t.parseError))])])]):t._e(),n("Graph",{ref:"graph",attrs:{width:t.canvasWidth,height:t.canvasHeight,data:t.rendered}})],1)]),n("transition",{attrs:{name:"sizer-slide-x",duration:300}},[t.settingsOpen&&t.desktopLayout?n("div",{staticClass:"main-sizer main-client-settings-sizer",style:{left:"calc(100% - "+t.settingsWidth+"px)"},on:{mousedown:t.onMainSizerMouseDown,touchstart:t.onMainSizerTouchStart}},[n("div",{staticClass:"main-sizer-handlebar"})]):t._e()]),n("transition",{attrs:{name:"settings-slide-x",duration:300}},[t.settingsOpen||!t.desktopLayout?n("div",{staticClass:"main-container main-container-settings",style:{width:t.desktopLayout?t.settingsWidth+"px":"auto"}},[n("div",{staticClass:"main-pane main-pane-settings"},[n("CollapsiblePane",{staticClass:"main-pane-subpane",attrs:{title:"输入"}},[n("div",{staticClass:"settings-input-file"},[n("label",{attrs:{for:"input-file"}},[n("v-icon",{attrs:{name:"upload",scale:"0.8"}}),t._v("打开文件 ")],1),n("input",{attrs:{type:"file",id:"input-file"},on:{change:t.inputFileChange}})]),n("div",{staticClass:"settings-input-format"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.parser,expression:"parser"}],attrs:{id:"input-format"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.parser=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"json",selected:""}},[t._v("JSON")]),n("option",{attrs:{value:"graphviz"}},[t._v("Graphviz")]),n("option",{attrs:{value:"xdot"}},[t._v("Xdot")])])]),n("button",{staticClass:"setting-input-redraw",on:{click:t.redraw}},[n("v-icon",{attrs:{name:"sync",scale:"0.8"}}),t._v("重绘 ")],1),n("div",{staticClass:"settings-input-examples"},[n("span",{staticClass:"settings-input-example-label"},[t._v("示例：")]),t._l(t.examples,(function(e,i){return n("span",{key:e.name,staticClass:"settings-input-example",on:{click:function(e){return t.selectExample(i)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),n("div",{staticClass:"settings-input-display"},[n("div",{staticClass:"settings-input-raw"},[n("label",{attrs:{for:"input-raw"}},[t._v("输入数据：")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rawInput,expression:"rawInput"}],attrs:{id:"input-raw",rows:"10"},domProps:{value:t.rawInput},on:{input:function(e){e.target.composing||(t.rawInput=e.target.value)}}})])])]),n("CollapsiblePane",{staticClass:"main-pane-subpane",attrs:{title:"设置"}},[n("h4",[t._v("以下设置是通用的")]),n("div",{staticClass:"settings-settings-draggable"},[n("label",{attrs:{for:"enableDraggable"}},[t._v("启用拖拽：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.enableDraggable,expression:"enableDraggable"}],attrs:{type:"checkbox",id:"enableDraggable",checked:""},domProps:{checked:Array.isArray(t.enableDraggable)?t._i(t.enableDraggable,null)>-1:t.enableDraggable},on:{change:function(e){var n=t.enableDraggable,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);i.checked?a<0&&(t.enableDraggable=n.concat([o])):a>-1&&(t.enableDraggable=n.slice(0,a).concat(n.slice(a+1)))}else t.enableDraggable=r}}})]),n("h4",[t._v("以下设置仅适用于Xdot格式")]),n("div",{staticClass:"settings-settings-highlight"},[n("label",{attrs:{for:"enable-highlight"}},[t._v("高亮模式：")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.highlightMode,expression:"highlightMode"}],attrs:{id:"enable-highlight"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.highlightMode=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"no",selected:""}},[t._v("不启用")]),n("option",{attrs:{value:"directInput"}},[t._v("直接输入")]),n("option",{attrs:{value:"directOutput"}},[t._v("直接输出")]),n("option",{attrs:{value:"allInput"}},[t._v("所有输入")]),n("option",{attrs:{value:"allOutput"}},[t._v("所有输出")])])]),n("h4",[t._v("以下设置仅适用于Graphviz格式")]),n("div",{staticClass:"settings-settings-layout"},[n("label",{attrs:{for:"initial-layout"}},[t._v("初始布局：")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.initialLayout,expression:"initialLayout"}],attrs:{id:"initial-layout"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.initialLayout=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"none"}},[t._v("不启用")]),n("option",{attrs:{value:"KamadaKawai",selected:""}},[t._v("KamadaKawai")])])]),n("div",{staticClass:"settings-settings-physics"},[n("label",{attrs:{for:"physics-layout"}},[t._v("物理布局：")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.physicsLayout,expression:"physicsLayout"}],attrs:{id:"physics-layout"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.physicsLayout=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"none"}},[t._v("不启用")]),n("option",{attrs:{value:"BarnesHut",selected:""}},[t._v("默认")])])]),n("div",{staticClass:"settings-settings-component"},[n("label",{attrs:{for:"component-layout"}},[t._v("连通分量布局：")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.componentLayout,expression:"componentLayout"}],attrs:{id:"component-layout"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.componentLayout=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"default",selected:""}},[t._v("默认")]),n("option",{attrs:{value:"linearLR"}},[t._v("自左至右")]),n("option",{attrs:{value:"linearRL"}},[t._v("自右至左")]),n("option",{attrs:{value:"linearTD"}},[t._v("自上至下")]),n("option",{attrs:{value:"linearDT"}},[t._v("自下至上")])])]),n("div",{staticClass:"settings-settings-direction"},[n("label",{attrs:{for:"preferred-direction"}},[t._v("大体方向")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.preferredDirection,expression:"preferredDirection"}],attrs:{id:"preferred-direction"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.preferredDirection=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"default"}},[t._v("默认")]),n("option",{attrs:{value:"left"}},[t._v("向左")]),n("option",{attrs:{value:"right",selected:""}},[t._v("向右")]),n("option",{attrs:{value:"top"}},[t._v("向上")]),n("option",{attrs:{value:"down"}},[t._v("向下")])])]),n("div",{staticClass:"settings-settings-edge-type"},[n("label",{attrs:{for:"edge-type"}},[t._v("边的形状：")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.edgeShape,expression:"edgeShape"}],attrs:{id:"edge-type"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.edgeShape=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"straight"}},[t._v("直线")]),n("option",{attrs:{value:"quadratic",selected:""}},[t._v("二次")])])])])],1)]):t._e()])],1)])},a=[],s=(n("fb6a"),n("d4ec")),l=n("bee2"),h=n("99de"),c=n("7e84"),d=n("262e"),u=n("9ab4"),p=n("60a3"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"pane-title",on:{click:t.click}},[t._v(" "+t._s(t.title)+" "),n("v-icon",{staticClass:"pane-arrow",class:{"pane-arrow-expand":t.expand},attrs:{name:"angle-up"}})],1),n("div",{ref:"paneContent",staticClass:"pane-content",style:null!==t.animationHeight?{height:t.animationHeight+"px"}:{}},[t._t("default")],2)])},g=[],y=(n("ea4b"),function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(h["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.expand=!0,t.realHeight=0,t.animationHeight=null,t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"mounted",value:function(){var t=this.$refs.paneContent;this.realHeight=t.offsetHeight,t.addEventListener("transitionend",this.transitionEnd.bind(this))}},{key:"click",value:function(){var t=this;if(this.expand=!this.expand,this.expand)this.animationHeight=0,setTimeout((function(){t.animationHeight=t.realHeight}));else{var e=this.$refs.paneContent;this.realHeight=e.offsetHeight,this.animationHeight=this.realHeight,setTimeout((function(){t.animationHeight=0}))}}},{key:"transitionEnd",value:function(){0!==this.animationHeight&&(this.animationHeight=null)}}]),e}(p["d"]));Object(u["a"])([Object(p["b"])(String)],y.prototype,"title",void 0),y=Object(u["a"])([p["a"]],y);var v=y,b=v,m=(n("fe74"),n("2877")),w=Object(m["a"])(b,f,g,!1,null,"08120549",null),x=w.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"graph-container"},[n("my-canvas",{ref:"mainCanvas",attrs:{width:t.width,height:t.height,data:t.mainCanvasData},on:{mousedown:t.mousedown,mouseup:t.mouseup,mousemove:t.mousemove,wheel:t.wheel}}),n("div",{staticClass:"thumbnail",style:{width:t.thumbnailWidth+"px",height:t.thumbnailHeight+"px"}},[n("my-canvas",t._g({ref:"thumbnailCanvas",attrs:{width:t.thumbnailWidth,height:t.thumbnailHeight,data:t.thumbnailCanvasData},on:{mousedown:t.thumbnailMousedown}},t.thumbnailMouseDragActive?{mouseup:t.thumbnailMouseup,mousemove:t.thumbnailMousemove}:{}))],1)],1)},S=[],_=(n("d81d"),n("a9e3"),n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("4de4"),n("dca8"),n("d3b7"),n("ac1f"),n("6062"),n("3ca3"),n("1276"),n("c7cd"),n("ddb0"),n("2909")),O=(n("c975"),n("a434"),function(){function t(){Object(s["a"])(this,t),this.events={}}return Object(l["a"])(t,[{key:"addEventListener",value:function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this.events[t]){var n=this.events[t].indexOf(e);n>-1&&this.events[t].splice(n,1)}}},{key:"emit",value:function(t){if(void 0!==this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=!0,o=!1,a=void 0;try{for(var s,l=this.events[t][Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var h=s.value;h.apply(this,n)}}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}}}]),t}()),C=(n("4ec9"),n("cb29"),n("3835")),T=n("45eb"),j=function(){function t(e){Object(s["a"])(this,t),this.parent=e,this.fixed=!1,this.position={x:0,y:0}}return Object(l["a"])(t,[{key:"setPosition",value:function(t){this.position=t}},{key:"getPosition",value:function(){return this.position}},{key:"getAbsolutePosition",value:function(t){var e=0,n=0,i=this;while(i!==t){if(null===i)throw new Error("Incorrect parent parameter");e+=i.position.x,n+=i.position.y,i=i.parent}return{x:e,y:n}}}]),t}(),P=function(t){function e(t,n){var i;return Object(s["a"])(this,e),i=Object(h["a"])(this,Object(c["a"])(e).call(this,n)),i.graph=t,i.data={ports:[],edges:[],children:[]},i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"solve",value:function(t,e,n){this.data=e}},{key:"informAllEdgesFullyUpdatePosition",value:function(){if(this.data){var t=!0,e=!1,n=void 0;try{for(var i,r=this.data.edges[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;o.edge.fullyUpdatePosition()}}catch(a){e=!0,n=a}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}}}},{key:"render",value:function(){return{is:"group",x:this.position.x,y:this.position.y,children:this.data.children.map((function(t){return t.render()}))}}},{key:"getContentSize",value:function(){return{width:0,height:0}}}]),e}(j),N=function(t){function e(t,n){var i;return Object(s["a"])(this,e),i=Object(h["a"])(this,Object(c["a"])(e).call(this,t,n)),i.contentSize={width:0,height:0},i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"solve",value:function(t,n,i){Object(T["a"])(Object(c["a"])(e.prototype),"solve",this).call(this,t,n,i);for(var r=Object.assign({},e.defaultConfig,t),o=new Map,a=0;a<n.ports.length;++a)o.set(n.ports[a],a);var s=!0,l=!1,h=void 0;try{for(var d,u=n.ports[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var p=d.value;p.initialPlaced||(p.position={x:r.springLength*(Math.random()-.5),y:r.springLength*(Math.random()-.5)},p.initialPlaced=!0)}}catch(be){l=!0,h=be}finally{try{s||null==u.return||u.return()}finally{if(l)throw h}}for(var f=[],g=0;g<n.ports.length;++g)f.push(Array(n.ports.length).fill(1/0)),f[f.length-1][g]=0;var y=!0,v=!1,b=void 0;try{for(var m,w=n.edges[Symbol.iterator]();!(y=(m=w.next()).done);y=!0){var x=m.value,k=x.fromBelonging,S=x.toBelonging,_=o.get(k),O=o.get(S);f[_][O]=1,f[O][_]=1}}catch(be){v=!0,b=be}finally{try{y||null==w.return||w.return()}finally{if(v)throw b}}for(var j=0;j<n.ports.length;++j)for(var P=0;P<n.ports.length;++P)for(var N=0;N<n.ports.length;++N){var E=f[P][j]+f[j][N];f[P][N]>E&&(f[P][N]=E)}for(var z=[],M=0;M<n.ports.length;++M){for(var R=[],B=0;B<n.ports.length;++B)R.push(r.springLength*f[M][B]);z.push(R)}for(var A=[],L=0;L<n.ports.length;++L){for(var D=[],I=0;I<n.ports.length;++I)D.push(r.springConstant*Math.pow(f[L][I],-2));A.push(D)}var F=[],H=!0,W=!1,G=void 0;try{for(var U,Y=n.ports[Symbol.iterator]();!(H=(U=Y.next()).done);H=!0){U.value;F.push(Array(n.ports.length))}}catch(be){W=!0,G=be}finally{try{H||null==Y.return||Y.return()}finally{if(W)throw G}}for(var J=0;J<n.ports.length;++J){var X=n.ports[J].position;F[J][J]=[0,0];for(var $=J+1;$<n.ports.length;++$){var K=n.ports[$].position,q=1/Math.sqrt(Math.pow(X.x-K.x,2)+Math.pow(X.y-K.y,2));F[J][$]=[A[J][$]*(X.x-K.x)*(1-z[J][$]*q),A[J][$]*(X.y-K.y)*(1-z[J][$]*q)],F[$][J]=[-F[J][$][0],-F[J][$][1]]}}for(var V=[],Q=0;Q<n.ports.length;++Q){for(var Z=[0,0],tt=0;tt<n.ports.length;++tt)Z[0]+=F[Q][tt][0],Z[1]+=F[Q][tt][1];V.push(Z)}var et,nt=.01,it=Math.max(1e3,Math.min(10*n.ports.length,6e3)),rt=5,ot=0;while(ot<it){ot+=1;var at=0,st=0,lt=0;et=-1;for(var ht=0;ht<n.ports.length;++ht){var ct=Math.sqrt(Math.pow(V[ht][0],2)+Math.pow(V[ht][1],2));ct>et&&(at=ht,st=V[ht][0],lt=V[ht][1],et=ct)}if(et<=nt)break;var dt=n.ports[at].position,ut=et,pt=0;while(ut>nt&&pt<rt){pt+=1;for(var ft=0,gt=0,yt=0,vt=0;vt<n.ports.length;++vt)if(vt!==at){var bt=n.ports[vt].position,mt=1/Math.pow(Math.pow(dt.x-bt.x,2)+Math.pow(dt.y-bt.y,2),1.5),wt=A[at][vt],xt=z[at][vt];ft+=wt*(1-xt*Math.pow(dt.y-bt.y,2)*mt),gt+=wt*xt*(dt.x-bt.x)*(dt.y-bt.y)*mt,yt+=wt*(1-xt*Math.pow(dt.x-bt.x,2)*mt)}var kt=ft*yt-Math.pow(gt,2),St=(gt*lt-yt*st)/kt,_t=(gt*st-ft*lt)/kt;dt.x+=St,dt.y+=_t;for(var Ot=0,Ct=0,Tt=0;Tt<n.ports.length;++Tt)if(Tt!==at){var jt=Object(C["a"])(F[at][Tt],2),Pt=jt[0],Nt=jt[1],Et=n.ports[Tt].position,zt=1/Math.sqrt(Math.pow(dt.x-Et.x,2)+Math.pow(dt.y-Et.y,2)),Mt=A[at][Tt]*(dt.x-Et.x)*(1-z[at][Tt]*zt),Rt=A[at][Tt]*(dt.y-Et.y)*(1-z[at][Tt]*zt);F[at][Tt]=[Mt,Rt],F[Tt][at]=[-Mt,-Rt],V[Tt][0]+=Pt-Mt,V[Tt][1]+=Nt-Rt,Ot+=Mt,Ct+=Rt}V[at]=[Ot,Ct],ut=Math.sqrt(Math.pow(V[at][0],2)+Math.pow(V[at][1],2)),st=V[at][0],lt=V[at][1]}}if("number"===typeof r.preferredEdgeDirection){var Bt=r.preferredEdgeDirection/180*Math.PI,At=0,Lt=0,Dt=!0,It=!1,Ft=void 0;try{for(var Ht,Wt=n.edges[Symbol.iterator]();!(Dt=(Ht=Wt.next()).done);Dt=!0){var Gt=Ht.value;At+=Gt.toBelonging.position.x-Gt.fromBelonging.position.x,Lt+=Gt.toBelonging.position.y-Gt.fromBelonging.position.y}}catch(be){It=!0,Ft=be}finally{try{Dt||null==Wt.return||Wt.return()}finally{if(It)throw Ft}}var Ut=Math.atan2(Lt,At),Yt=Bt-Ut,Jt=[[Math.cos(Yt),-Math.sin(Yt)],[Math.sin(Yt),Math.cos(Yt)]],Xt=!0,$t=!1,Kt=void 0;try{for(var qt,Vt=n.ports[Symbol.iterator]();!(Xt=(qt=Vt.next()).done);Xt=!0){var Qt=qt.value;Qt.position={x:Jt[0][0]*Qt.position.x+Jt[0][1]*Qt.position.y,y:Jt[1][0]*Qt.position.x+Jt[1][1]*Qt.position.y}}}catch(be){$t=!0,Kt=be}finally{try{Xt||null==Vt.return||Vt.return()}finally{if($t)throw Kt}}}var Zt=[1/0,1/0],te=[-1/0,-1/0],ee=!0,ne=!1,ie=void 0;try{for(var re,oe=n.ports[Symbol.iterator]();!(ee=(re=oe.next()).done);ee=!0){var ae=re.value,se=ae.position,le=ae.getBoundingBoxSize(),he=le.width/2,ce=le.height/2;se.x-he<Zt[0]&&(Zt[0]=se.x-he),se.x+he>te[0]&&(te[0]=se.x+he),se.y-ce<Zt[1]&&(Zt[1]=se.y-ce),se.y+ce>te[1]&&(te[1]=se.y+ce)}}catch(be){ne=!0,ie=be}finally{try{ee||null==oe.return||oe.return()}finally{if(ne)throw ie}}var de={x:(Zt[0]+te[0])/2,y:(Zt[1]+te[1])/2};this.contentSize={width:te[0]-Zt[0],height:te[1]-Zt[1]};var ue=!0,pe=!1,fe=void 0;try{for(var ge,ye=n.ports[Symbol.iterator]();!(ue=(ge=ye.next()).done);ue=!0){var ve=ge.value;ve.position.x-=de.x,ve.position.y-=de.y}}catch(be){pe=!0,fe=be}finally{try{ue||null==ye.return||ye.return()}finally{if(pe)throw fe}}this.informAllEdgesFullyUpdatePosition()}},{key:"getContentSize",value:function(){return this.contentSize}}]),e}(P);N.defaultConfig={springLength:150,springConstant:.05,preferredEdgeDirection:"any"};var E=function(t){function e(){return Object(s["a"])(this,e),Object(h["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(P);function z(t){switch(t&&t.type){case"none":return E;default:return N}}var M=function(t){function e(t,n){var i;return Object(s["a"])(this,e),i=Object(h["a"])(this,Object(c["a"])(e).call(this,n)),i.graph=t,i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){}},{key:"render",value:function(){return{is:"group",x:this.position.x,y:this.position.y,children:this.graph.layouts.map((function(t){return t.render()}))}}},{key:"getContentSize",value:function(){return{width:0,height:0}}}]),e}(j),R=function(t){function e(t,n){var i;return Object(s["a"])(this,e),i=Object(h["a"])(this,Object(c["a"])(e).call(this,t,n)),i.contentSize={width:0,height:0},i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){var n=Object.assign({},e.defaultConfig,t),i=this.graph.layouts,r=i.map((function(t){return t.getContentSize()}));if("LR"===n.direction||"RL"===n.direction){this.contentSize={width:r.map((function(t){return t.width})).reduce((function(t,e){return t+e}),0)+Math.max(i.length-1,0)*n.spaceBetween,height:Math.max.apply(Math,Object(_["a"])(r.map((function(t){return t.height}))).concat([0]))};for(var o="LR"===n.direction?-this.contentSize.width/2:this.contentSize.width/2,a=0;a<i.length;++a){var s=("LR"===n.direction?r[a].width/2:-r[a].width/2)+o;i[a].position={x:s,y:0},"LR"===n.direction?o+=r[a].width+n.spaceBetween:o-=r[a].width+n.spaceBetween}}else{this.contentSize={width:Math.max.apply(Math,Object(_["a"])(r.map((function(t){return t.width}))).concat([0])),height:r.map((function(t){return t.height})).reduce((function(t,e){return t+e}),0)+Math.max(i.length-1,0)*n.spaceBetween};for(var l="DT"===n.direction?this.contentSize.height/2:-this.contentSize.height/2,h=0;h<i.length;++h){var c=("DT"===n.direction?-r[h].height/2:r[h].height/2)+l;i[h].position={x:0,y:c},"DT"===n.direction?l-=r[h].height+n.spaceBetween:l+=r[h].height+n.spaceBetween}}}},{key:"getContentSize",value:function(){return this.contentSize}}]),e}(M);R.defaultConfig={direction:"TD",spaceBetween:12};var B=function(t){function e(){return Object(s["a"])(this,e),Object(h["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(M);function A(t){switch(t&&t.type){case"none":return B;default:return R}}var L=function(){function t(e){Object(s["a"])(this,t),this.parent=e}return Object(l["a"])(t,[{key:"getBoundingBoxSize",value:function(){return{width:0,height:0}}},{key:"distanceToBorder",value:function(t){return 0}},{key:"onSelect",value:function(t){return!1}}]),t}(),D=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"box"!==n.shape)throw new Error("Expect box shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){var n=Object.assign({},e.defaultConfig,t);delete n.layout,delete n.children;var i=!this.config||this.config.label!==n.label||this.config.fontSize!==n.fontSize||this.config.fontFamily!==n.fontFamily||this.config.lineHeight!==n.lineHeight;if(i){var r=this.parent.root.ctx;r.font="".concat(n.fontSize,"px ").concat(n.fontFamily);var o=n.label?n.label.split("\n"):[];this.textSize={width:Math.max.apply(Math,Object(_["a"])(o.map((function(t){return r.measureText(t).width}))).concat([0])),height:o.length*n.fontSize*n.lineHeight}}var a=this.parent.componentLayout.getContentSize();this.contentSize={width:a.width+2*n.padding,height:a.height+2*n.padding},this.parent.componentLayout.position={x:0,y:0},this.textPosition={x:0,y:0},n.label&&("left"===n.labelPosition||"right"===n.labelPosition?(this.contentSize.width+=this.textSize.width+n.spaceBetween,this.textSize.height>a.height&&(this.contentSize.height=this.textSize.height+2*n.padding),"left"===n.labelPosition?(this.parent.componentLayout.position.x=(this.textSize.width+n.spaceBetween)/2,this.textPosition.x=-(a.width+n.spaceBetween)/2):(this.parent.componentLayout.position.x=-(this.textSize.width+n.spaceBetween)/2,this.textPosition.x=(a.width+n.spaceBetween)/2)):(this.contentSize.height+=this.textSize.height+n.spaceBetween,this.textSize.width>a.width&&(this.contentSize.width=this.textSize.width+2*n.padding),"bottom"===n.labelPosition?(this.parent.componentLayout.position.y=-(this.textSize.height+n.spaceBetween)/2,this.textPosition.y=(a.height+n.spaceBetween)/2):(this.parent.componentLayout.position.y=(this.textSize.height+n.spaceBetween)/2,this.textPosition.y=-(a.height+n.spaceBetween)/2))),this.borderSize={width:this.contentSize.width+n.strokeWidth,height:this.contentSize.height+n.strokeWidth},this.config=n}},{key:"render",value:function(){var t=[];if(this.config.style&&"none"!==this.config.style){var e={is:"rect",x:-this.contentSize.width/2,y:-this.contentSize.height/2,width:this.contentSize.width,height:this.contentSize.height,fill:"filled"===this.config.style?this.config.fillColor:void 0,stroke:this.config.strokeWidth>0?this.config.strokeColor:void 0,strokeWidth:this.config.strokeWidth};t.push(e)}if(this.config.label){var n={is:"text",x:-this.textSize.width/2,y:this.textPosition.y-this.textSize.height/2,text:this.config.label,fontSize:this.config.fontSize,fontFamily:this.config.fontFamily,lineHeight:this.config.lineHeight,align:this.config.align};t.push(n)}return t.push(this.parent.componentLayout.render()),t}},{key:"getBoundingBoxSize",value:function(){return this.borderSize}},{key:"distanceToBorder",value:function(t){return Math.min(Math.abs(this.borderSize.width/2/Math.cos(t)),Math.abs(this.borderSize.height/2/Math.sin(t)))}}]),e}(L);D.defaultConfig={label:null,labelPosition:"top",style:"none",fillColor:"white",strokeColor:"black",strokeWidth:0,fontSize:12,fontFamily:"sans-serif",lineHeight:1.2,padding:6,align:"center",spaceBetween:12};n("b64b");var I={color:[0,255,255,1],fillcolor:[0,0,0,1],linewidth:2,fontsize:14,fontname:"Times-Roman",bold:!1,italic:!1,underline:!1,superscript:!1,subscript:!1,strikethrough:!1,overline:!1,dash:[6]},F=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"xdot"!==n.shape)throw new Error("Expect xdot shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){var e;this.shapes=t.shapes?(e=[]).concat.apply(e,Object(_["a"])(Object.keys(t.shapes).map((function(e){return t.shapes[e]})))):[],t.boundingBox?(this.size={width:t.boundingBox[2]-t.boundingBox[0],height:t.boundingBox[3]-t.boundingBox[1]},this.boundingBox=t.boundingBox):this.size={width:0,height:0},this.selected=!1}},{key:"render",value:function(){var t=this,e=this.shapes.map((function(e){return Object.assign({},e,{pen:t.parent.root.applyHighlighted(e.pen,t.parent.highlighted)})}));return e.push(this.parent.componentLayout.render()),this.selected&&this.boundingBox?e.concat({is:"xdot",type:"polygon",pen:I,points:[[this.boundingBox[0],this.boundingBox[1]],[this.boundingBox[2],this.boundingBox[1]],[this.boundingBox[2],this.boundingBox[3]],[this.boundingBox[0],this.boundingBox[3]]],filled:!1}):e}},{key:"getBoundingBoxSize",value:function(){return this.size}},{key:"onSelect",value:function(t){return this.selected=t,!!this.boundingBox}}]),e}(L);function H(t){switch(t.shape){case"xdot":return F;default:return t.shape="box",D}}var W=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(s["a"])(this,e),n=Object(h["a"])(this,Object(c["a"])(e).call(this,i)),n.root=t,n.initialPlaced=!1,n.id="",n}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"findPort",value:function(t){return 0===t.length?this:null}},{key:"onHover",value:function(t){return!1}},{key:"onSelect",value:function(t){return!1}}]),e}(j),G=function t(e,n){Object(s["a"])(this,t),this.graph=e,this.layout=n},U=function(t){function e(t,n){var i;return Object(s["a"])(this,e),i=Object(h["a"])(this,Object(c["a"])(e).call(this,t,n)),i.config=e.defaultConfig,i.layoutData={ports:[],edges:[],children:[]},i.nodeToIndex=new Map,i.nodes=[],i.forces=[],i.velocities=[],i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"solve",value:function(t,n){this.config=Object.assign({},e.defaultConfig,t),this.layoutData=n,this.nodeToIndex=new Map,this.nodes=[];for(var i=0;i<this.layoutData.ports.length;++i)this.nodeToIndex.set(this.layoutData.ports[i],i),this.nodes.push(this.layoutData.ports[i]);var r=!0,o=!1,a=void 0;try{for(var s,l=this.layoutData.edges[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var h=s.value,c=h.edge.getControlPoints(),d=!0,u=!1,p=void 0;try{for(var f,g=c[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var y=f.value;this.nodeToIndex.set(y,i),this.nodes.push(y),++i}}catch(v){u=!0,p=v}finally{try{d||null==g.return||g.return()}finally{if(u)throw p}}}}catch(v){o=!0,a=v}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}for(this.forces=[],this.velocities=[],i=0;i<this.nodeToIndex.size;++i)this.forces.push({x:0,y:0}),this.velocities.push({x:0,y:0})}},{key:"formBarnesHutTree",value:function(){if(this.nodes.length<1)throw new Error("Expect at least one node to form Barnes Hut tree");for(var t=this.nodes[0].position.x,n=this.nodes[0].position.x,i=this.nodes[0].position.y,r=this.nodes[0].position.y,o=1;o<this.nodes.length;++o){var a=this.nodes[o],s=a.position;s.x<t&&(t=s.x),s.x>n&&(n=s.x),s.y<i&&(i=s.y),s.y>r&&(r=s.y)}var l=Math.abs(n-t)-Math.abs(r-i);l>0?(i-=.5*l,r+=.5*l):(t+=.5*l,n-=.5*l);var h=Math.abs(n-t),c=.5*h,d=.5*(t+n),u=.5*(i+r),p={centerOfMass:{x:0,y:0},mass:0,range:{minX:d-c,maxX:d+c,minY:u-c,maxY:u+c},size:h};e.splitBranch(p);var f=!0,g=!1,y=void 0;try{for(var v,b=this.nodes[Symbol.iterator]();!(f=(v=b.next()).done);f=!0){var m=v.value;e.placeInTree(p,m)}}catch(w){g=!0,y=w}finally{try{f||null==b.return||b.return()}finally{if(g)throw y}}return p}},{key:"step",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.forces[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;o.x=0,o.y=0}}catch(Z){e=!0,n=Z}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}for(var a=this,s=0;s<this.nodes.length;++s){var l=this.nodes[s],h=-l.position.x,c=-l.position.y,d=Math.sqrt(h*h+c*c),u=0===d?0:this.config.centralGravity/d;this.forces[s].x=h*u,this.forces[s].y=c*u}if(this.nodes.length){var p=function(t,e,n,i){0===t&&0===e&&(t=.1);var r=1,o=Math.sqrt(t*t+e*e),s=a.config.gravitationalConstant*i.mass*r/Math.pow(o,3),l=a.forces[a.nodeToIndex.get(n)];l.x+=t*s,l.y+=e*s},f=function(t,e){if(!t.children)throw new Error("Get force contributions can be only called on a split branch");g(t.children.NW,e),g(t.children.NE,e),g(t.children.SW,e),g(t.children.SE,e)},g=function(t,e){if(t.children||t.data){var n=t.centerOfMass.x-e.position.x,i=t.centerOfMass.y-e.position.y,r=Math.sqrt(n*n+i*i);t.size/r<a.config.theta?p(n,i,e,t):t.children?f(t,e):t.data!==e&&p(n,i,e,t)}},y=this.formBarnesHutTree(),v=!0,b=!1,m=void 0;try{for(var w,x=this.nodes[Symbol.iterator]();!(v=(w=x.next()).done);v=!0){var k=w.value;f(y,k)}}catch(Z){b=!0,m=Z}finally{try{v||null==x.return||x.return()}finally{if(b)throw m}}}var S=!0,O=!1,C=void 0;try{for(var T,j=this.layoutData.edges[Symbol.iterator]();!(S=(T=j.next()).done);S=!0){var P=T.value;if(P.fromBelonging!==P.toBelonging)for(var N=[P.fromBelonging].concat(Object(_["a"])(P.edge.getControlPoints()),[P.toBelonging]),E=0;E<N.length-1;++E){var z=N[E],M=N[E+1],R=this.config.springLength/(N.length-1),B=z.position.x-M.position.x,A=z.position.y-M.position.y,L=Math.max(Math.sqrt(B*B+A*A),.01),D=this.config.springConstant*(R-L)/L,I=B*D,F=A*D;this.forces[this.nodeToIndex.get(z)].x+=I,this.forces[this.nodeToIndex.get(z)].y+=F,this.forces[this.nodeToIndex.get(M)].x-=I,this.forces[this.nodeToIndex.get(M)].y-=F}}}catch(Z){O=!0,C=Z}finally{try{S||null==j.return||j.return()}finally{if(O)throw C}}function H(t,e,n){var i=a.config.damping*t,r=(e-i)/n;return t+=r,Math.abs(t)>a.config.maxVelocity&&(t=t>0?a.config.maxVelocity:-a.config.maxVelocity),t}for(var W=0;W<this.nodes.length;++W){var G=this.nodes[W],U=G.position,Y=this.forces[W],J=this.velocities[W];G.fixed?(J.x=0,J.y=0):(J.x=H(J.x,Y.x,1),J.y=H(J.y,Y.y,1)),G.position={x:U.x+J.x,y:U.y+J.y}}var X=!0,$=!1,K=void 0;try{for(var q,V=this.layoutData.edges[Symbol.iterator]();!(X=(q=V.next()).done);X=!0){var Q=q.value;Q.edge.updatePosition()}}catch(Z){$=!0,K=Z}finally{try{X||null==V.return||V.return()}finally{if($)throw K}}return!0}}],[{key:"splitBranch",value:function(t){if(t.children)throw new Error("Cannot split branch on an already split branch");var e=t.data;e&&(t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),delete t.data;var n=.5*t.size;t.children={NW:{centerOfMass:{x:0,y:0},mass:0,range:{minX:t.range.minX,maxX:t.range.minX+n,minY:t.range.minY,maxY:t.range.minY+n},size:n},NE:{centerOfMass:{x:0,y:0},mass:0,range:{minX:t.range.minX+n,maxX:t.range.maxX,minY:t.range.minY,maxY:t.range.minY+n},size:n},SW:{centerOfMass:{x:0,y:0},mass:0,range:{minX:t.range.minX,maxX:t.range.minX+n,minY:t.range.minY+n,maxY:t.range.maxY},size:n},SE:{centerOfMass:{x:0,y:0},mass:0,range:{minX:t.range.minX+n,maxX:t.range.maxX,minY:t.range.minY+n,maxY:t.range.maxY},size:n}},e&&this.placeInTree(t,e)}},{key:"placeInTree",value:function(t,e){if(!t.children)throw new Error("Place in tree can be only called on a split branch");this.updateBranchMass(t,e);var n,i=t.children.NW.range,r=e.position;n=i.maxX>r.x?i.maxY>r.y?"NW":"SW":i.maxY>r.y?"NE":"SE";var o=t.children[n];o.children?this.placeInTree(o,e):o.data?o.data.position.x===r.x&&o.data.position.y===r.y?(r.x+=Math.random()-.5,r.y+=Math.random()-.5):(this.splitBranch(o),this.placeInTree(o,e)):(o.data=e,this.updateBranchMass(o,e))}},{key:"updateBranchMass",value:function(t,e){var n=1,i=t.mass+n;t.centerOfMass.x=(t.centerOfMass.x*t.mass+e.position.x*n)/i,t.centerOfMass.y=(t.centerOfMass.y*t.mass+e.position.y*n)/i,t.mass=i}}]),e}(G);U.defaultConfig={theta:1,gravitationalConstant:-2e3,centralGravity:.05,springLength:150,springConstant:.04,damping:.09,maxVelocity:50};var Y=function(t){function e(){return Object(s["a"])(this,e),Object(h["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"solve",value:function(t,e){}},{key:"step",value:function(){return!1}}]),e}(G);function J(t){switch(t&&t.type){case"none":return Y;default:return U}}var X=function(t){function e(t,n,i,r,o){var a;if(Object(s["a"])(this,e),"graph"!==r.type)throw new Error("Expect node type");return a=Object(h["a"])(this,Object(c["a"])(e).call(this,t,i)),a.graph=n,a.updateData(r,o),a}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t,n){var i=this;this.id=e.getId(t);new Map;this.depth=n?n.depth+1:0,this.fullId=n?"".concat(n.parentId,":").concat(this.id):this.id,this.highlighted=!1,this.fromEdges=new Set,this.toEdges=new Set;var r=this.children;if(this.children=new Map,this.edges=new Map,this.ports=new Map,this.subgraphs=new Map,t.children){var o=!0,a=!1,s=void 0;try{for(var l,h=t.children[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value,d=pt(c),u=d.getId(c);if(this.children.has(u))console.log(new Error("Duplicated id ".concat(u)));else{var p=void 0;r&&r.has(u)&&r.get(u).constructor===d?(p=r.get(u),p.updateData(c,{parentId:this.fullId,depth:this.depth})):p=new d(this.root,this,null,c,{parentId:this.fullId,depth:this.depth}),this.children.set(u,p),p instanceof ut?this.edges.set(u,p):(this.ports.set(u,p),p instanceof e&&this.subgraphs.set(u,p))}}}catch(wt){a=!0,s=wt}finally{try{o||null==h.return||h.return()}finally{if(a)throw s}}}var f=new Map,g=[],y=!0,v=!1,b=void 0;try{for(var m,w=this.edges.values()[Symbol.iterator]();!(y=(m=w.next()).done);y=!0){var x=m.value,k=this.findPort(x.from.split(":")),S=this.findPort(x.to.split(":")),_=this.findBelongingPort(x.from),O=this.findBelongingPort(x.to);if(!(k&&S&&_&&O))throw new Error("Cannot find starting or ending port of edge");f.has(_)||f.set(_,[]),f.has(O)||f.set(O,[]),f.get(_).push(O),f.get(O).push(_),g.push({from:k,to:S,fromBelonging:_,toBelonging:O,edge:x})}}catch(wt){v=!0,b=wt}finally{try{y||null==w.return||w.return()}finally{if(v)throw b}}var C=new Set(this.ports.values());this.layoutsData=[];var T=function t(e){C.delete(e);var n=i.layoutsData[i.layoutsData.length-1];n.ports.push(e);var r=f.get(e);if(r){var o=!0,a=!1,s=void 0;try{for(var l,h=r[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value;C.has(c)&&t(c)}}catch(wt){a=!0,s=wt}finally{try{o||null==h.return||h.return()}finally{if(a)throw s}}}};while(C.size){var j=C.values().next().value,P={ports:[],edges:[],children:[]};this.layoutsData.push(P),T(j)}var N=new Map,E=!0,M=!1,R=void 0;try{for(var B,L=this.layoutsData[Symbol.iterator]();!(E=(B=L.next()).done);E=!0){var D=B.value,I=!0,F=!1,W=void 0;try{for(var G,U=D.ports[Symbol.iterator]();!(I=(G=U.next()).done);I=!0){var Y=G.value;N.set(Y,D)}}catch(wt){F=!0,W=wt}finally{try{I||null==U.return||U.return()}finally{if(F)throw W}}}}catch(wt){M=!0,R=wt}finally{try{E||null==L.return||L.return()}finally{if(M)throw R}}for(var X=0,$=g;X<$.length;X++){var K=$[X],q=K.fromBelonging;N.get(q).edges.push(K)}var V=!0,Q=!1,Z=void 0;try{for(var tt,et=this.layoutsData[Symbol.iterator]();!(V=(tt=et.next()).done);V=!0){var nt=tt.value;nt.children=nt.ports.concat(nt.edges.map((function(t){return t.edge})))}}catch(wt){Q=!0,Z=wt}finally{try{V||null==et.return||et.return()}finally{if(Q)throw Z}}var it=A(t.component);this.componentLayout&&this.componentLayout.constructor===it||(this.componentLayout=new it(this,this));for(var rt=z(t.layout),ot=J(t.physics),at=[],st=[],lt=0;lt<this.layoutsData.length;++lt){var ht=this.layouts&&lt<this.layouts.length&&this.layouts[lt].constructor===rt?this.layouts[lt]:new rt(this,this.componentLayout),ct=this.physics&&lt<this.physics.length&&this.physics[lt].constructor===ot?this.physics[lt]:new ot(this,ht),dt=!0,ft=!1,gt=void 0;try{for(var yt,vt=this.layoutsData[lt].children[Symbol.iterator]();!(dt=(yt=vt.next()).done);dt=!0){var bt=yt.value;bt.parent=ht}}catch(wt){ft=!0,gt=wt}finally{try{dt||null==vt.return||vt.return()}finally{if(ft)throw gt}}ht.solve(t.layout,this.layoutsData[lt],lt),ct.solve(t.physics,this.layoutsData[lt]),at.push(ht),st.push(ct)}this.layouts=at,this.physics=st,this.componentLayout.updateData(t.component);var mt=H(t);this.graphType&&this.graphType.constructor===mt?this.graphType.updateData(t):this.graphType=new mt(this,t)}},{key:"step",value:function(){var t=!1;if(this.subgraphs){var e=!0,n=!1,i=void 0;try{for(var r,o=this.subgraphs.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;a.step()&&(t=!0)}}catch(p){n=!0,i=p}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}if(this.physics){var s=!0,l=!1,h=void 0;try{for(var c,d=this.physics[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value;u.step()&&(t=!0)}}catch(p){l=!0,h=p}finally{try{s||null==d.return||d.return()}finally{if(l)throw h}}}return t}},{key:"render",value:function(){return{is:"group",draggable:!0,id:this.fullId,x:this.position.x,y:this.position.y,children:this.graphType.render()}}},{key:"findBelongingPort",value:function(t){if(t=t.split(":")[0],this.ports.has(t))return this.ports.get(t);var e=!0,n=!1,i=void 0;try{for(var r,o=this.subgraphs.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.findBelongingPort(t))return a}}catch(s){n=!0,i=s}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"findPort",value:function(t){if(0===t.length)return this;if(this.ports.has(t[0])){var e=this.ports.get(t[0]);return e.findPort(t.slice(1))}var n=!0,i=!1,r=void 0;try{for(var o,a=this.subgraphs.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.findPort(t);if(l)return l}}catch(h){i=!0,r=h}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return null}},{key:"getBoundingBoxSize",value:function(){return this.graphType.getBoundingBoxSize()}},{key:"distanceToBorder",value:function(t){return this.graphType.distanceToBorder(t)}},{key:"onSelect",value:function(t){return this.graphType.onSelect(t)}}],[{key:"getId",value:function(t){if(!t.id)throw new Error("Missing id field for graph");return t.id}}]),e}(W),$=function(){function t(e){Object(s["a"])(this,t),this.parent=e}return Object(l["a"])(t,[{key:"fullyUpdatePosition",value:function(){}},{key:"updatePosition",value:function(){}},{key:"getControlPoints",value:function(){return[]}}]),t}(),K=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"straight"!==n.shape)throw new Error("Expect straight shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i.fromPointerPos={x:0,y:0},i.toPointerPos={x:0,y:0},i.fromAngle=i.toAngle=0,i.lineFromPos={x:0,y:0},i.lineToPos={x:0,y:0},i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){this.config=Object.assign({},e.defaultConfig,t)}},{key:"fullyUpdatePosition",value:function(){this.updatePosition()}},{key:"updatePosition",value:function(){if(!this.parent.parent)throw new Error("Top level edge cannot be rendered");var t=this.parent.fromPort,e=this.parent.toPort,n=t.getAbsolutePosition(this.parent.parent),i=e.getAbsolutePosition(this.parent.parent);this.fromAngle=Math.atan2(i.y-n.y,i.x-n.x),this.toAngle=Math.PI+this.fromAngle;var r=t.distanceToBorder(this.fromAngle),o=e.distanceToBorder(this.toAngle),a=n.x+r*Math.cos(this.fromAngle),s=n.y+r*Math.sin(this.fromAngle),l=i.x+o*Math.cos(this.toAngle),h=i.y+o*Math.sin(this.toAngle);this.fromPointerPos={x:a,y:s},this.config.fromPointer&&(a+=this.config.pointerWidth*Math.cos(this.fromAngle),s+=this.config.pointerWidth*Math.sin(this.fromAngle)),this.lineFromPos={x:a,y:s},this.toPointerPos={x:l,y:h},this.config.toPointer&&(l+=this.config.pointerWidth*Math.cos(this.toAngle),h+=this.config.pointerWidth*Math.sin(this.toAngle)),this.lineToPos={x:l,y:h}}},{key:"render",value:function(){var t=[];return this.config.fromPointer&&t.push({is:"pointer",x:this.fromPointerPos.x,y:this.fromPointerPos.y,angle:this.fromAngle,width:this.config.pointerWidth,height:this.config.pointerHeight,fill:this.config.pointerColor}),this.config.toPointer&&t.push({is:"pointer",x:this.toPointerPos.x,y:this.toPointerPos.y,angle:this.toAngle,width:this.config.pointerWidth,height:this.config.pointerHeight,fill:this.config.pointerColor}),t.unshift({is:"line",points:[this.lineFromPos.x,this.lineFromPos.y,this.lineToPos.x,this.lineToPos.y],stroke:this.config.lineColor,strokeWidth:this.config.lineWidth}),{is:"group",children:t}}}]),e}($);K.defaultConfig={fromPointer:!1,toPointer:!0,lineColor:"black",lineWidth:1,pointerColor:"black",pointerWidth:10,pointerHeight:15};var q=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"quadratic"!==n.shape)throw new Error("Expect quadratic shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i.controlPoint=new j(i.parent.parent),i.fromPointerPos={x:0,y:0},i.toPointerPos={x:0,y:0},i.fromAngle=i.toAngle=0,i.lineFromPos={x:0,y:0},i.lineToPos={x:0,y:0},i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){this.config=Object.assign({},e.defaultConfig,t)}},{key:"fullyUpdatePosition",value:function(){if(!this.parent.parent)throw new Error("Top level edge cannot be rendered");var t=this.parent.fromPort,e=this.parent.toPort,n=t.getAbsolutePosition(this.parent.parent),i=e.getAbsolutePosition(this.parent.parent);this.controlPoint.position={x:.5*(n.x+i.x),y:.5*(n.y+i.y)},this.updatePosition()}},{key:"updatePosition",value:function(){if(!this.parent.parent)throw new Error("Top level edge cannot be rendered");var t=this.parent.fromPort,e=this.parent.toPort,n=t.getAbsolutePosition(this.parent.parent),i=e.getAbsolutePosition(this.parent.parent),r=this.controlPoint.position;this.fromAngle=Math.atan2(r.y-n.y,r.x-n.x),this.toAngle=Math.PI+Math.atan2(i.y-r.y,i.x-r.x);var o=t.distanceToBorder(this.fromAngle),a=e.distanceToBorder(this.toAngle),s=n.x+o*Math.cos(this.fromAngle),l=n.y+o*Math.sin(this.fromAngle),h=i.x+a*Math.cos(this.toAngle),c=i.y+a*Math.sin(this.toAngle);this.fromPointerPos={x:s,y:l},this.config.fromPointer&&(s+=this.config.pointerWidth*Math.cos(this.fromAngle),l+=this.config.pointerWidth*Math.sin(this.fromAngle)),this.lineFromPos={x:s,y:l},this.toPointerPos={x:h,y:c},this.config.toPointer&&(h+=this.config.pointerWidth*Math.cos(this.toAngle),c+=this.config.pointerWidth*Math.sin(this.toAngle)),this.lineToPos={x:h,y:c}}},{key:"getControlPoints",value:function(){return[this.controlPoint]}},{key:"render",value:function(){var t=[];return this.config.fromPointer&&t.push({is:"pointer",x:this.fromPointerPos.x,y:this.fromPointerPos.y,angle:this.fromAngle,width:this.config.pointerWidth,height:this.config.pointerHeight,fill:this.config.pointerColor}),this.config.toPointer&&t.push({is:"pointer",x:this.toPointerPos.x,y:this.toPointerPos.y,angle:this.toAngle,width:this.config.pointerWidth,height:this.config.pointerHeight,fill:this.config.pointerColor}),t.unshift({is:"quadraticLine",points:[this.lineFromPos.x,this.lineFromPos.y,this.controlPoint.position.x,this.controlPoint.position.y,this.lineToPos.x,this.lineToPos.y],stroke:this.config.lineColor,strokeWidth:this.config.lineWidth}),{is:"group",children:t}}}]),e}($);q.defaultConfig={fromPointer:!1,toPointer:!0,lineColor:"black",lineWidth:1,pointerColor:"black",pointerWidth:10,pointerHeight:15};var V=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"xdot"!==n.shape)throw new Error("Expect xdot shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){var e;this.shapes=t.shapes?(e=[]).concat.apply(e,Object(_["a"])(Object.keys(t.shapes).map((function(e){return t.shapes[e]})))):[]}},{key:"render",value:function(){var t=this,e=this.shapes.map((function(e){return Object.assign({},e,{pen:t.parent.root.applyHighlighted(e.pen,t.parent.highlighted)})}));return{is:"group",children:e}}}]),e}($);function Q(t){switch(t.shape){case"straight":return K;case"xdot":return V;default:return t.shape="quadratic",q}}var Z,tt=function(){function t(e){Object(s["a"])(this,t),this.parent=e}return Object(l["a"])(t,[{key:"findPort",value:function(t){return null}},{key:"getBoundingBoxSize",value:function(){return{width:0,height:0}}},{key:"distanceToBorder",value:function(t){return 0}},{key:"onSelect",value:function(t){return!1}}]),t}(),et=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"box"!==n.shape)throw new Error("Expect box shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){var n=Object.assign({},e.defaultConfig,t),i=!this.config||this.config.label!==n.label||this.config.fontSize!==n.fontSize||this.config.fontFamily!==n.fontFamily||this.config.lineHeight!==n.lineHeight,r=i||this.config.padding!==n.padding,o=r||this.config.strokeWidth!==n.strokeWidth;if(this.config=n,i){var a=this.parent.root.ctx;a.font="".concat(n.fontSize,"px ").concat(n.fontFamily);var s=n.label?n.label.split("\n"):[];this.textSize={width:Math.max.apply(Math,Object(_["a"])(s.map((function(t){return a.measureText(t).width}))).concat([0])),height:s.length*n.fontSize*n.lineHeight}}r&&(this.contentSize={width:this.textSize.width+2*n.padding,height:this.textSize.height+2*n.padding}),o&&(this.borderSize={width:this.contentSize.width+n.strokeWidth,height:this.contentSize.height+n.strokeWidth})}},{key:"render",value:function(){var t={is:"rect",x:-this.contentSize.width/2,y:-this.contentSize.height/2,width:this.contentSize.width,height:this.contentSize.height,fill:"filled"===this.config.style?this.config.fillColor:void 0,stroke:this.config.strokeWidth>0?this.config.strokeColor:void 0,strokeWidth:this.config.strokeWidth},e=[t];if(this.config.label){var n={is:"text",x:-this.contentSize.width/2,y:-this.contentSize.height/2,text:this.config.label,fontSize:this.config.fontSize,fontFamily:this.config.fontFamily,lineHeight:this.config.lineHeight,padding:this.config.padding,align:this.config.align};e.push(n)}return e}},{key:"getBoundingBoxSize",value:function(){return this.borderSize}},{key:"distanceToBorder",value:function(t){return Math.min(Math.abs(this.borderSize.width/2/Math.cos(t)),Math.abs(this.borderSize.height/2/Math.sin(t)))}}]),e}(tt);function nt(t){var e=0,n=[];function i(){if(n.length)return n.pop();while(e<t.length&&" \t\n\r\v".indexOf(t[e])>-1)++e;if(e>=t.length)return{type:Z.EOF};switch(t[e]){case"|":return++e,{type:Z.VERTICAL_BAR};case"{":return++e,{type:Z.LEFT_CURLY_BRACE};case"}":return++e,{type:Z.RIGHT_CURLY_BRACE};case"<":return++e,{type:Z.LEFT_ANGLE_BRACE};case">":return++e,{type:Z.RIGHT_ANGLE_BRACE};default:var i="";while(e<t.length&&-1===" \t\n\r\v|{}<>".indexOf(t[e])){if("\\"===t[e]){if(++e,e===t.length)throw new Error("Unexpected end of escape sequence");switch(t[e]){case"n":i+="\n";break;default:i+=t[e]}}else i+=t[e];++e}return{type:Z.STRING,text:i}}}function r(){var t,e=[o()];while((t=i()).type===Z.VERTICAL_BAR)e.push(o());return n.push(t),{type:"record",children:e}}function o(){var t=i();if(t.type===Z.LEFT_CURLY_BRACE){var e=r();if(i().type!==Z.RIGHT_CURLY_BRACE)throw new Error("Expect '}'");return e}var o={type:"field"};if(t.type===Z.LEFT_ANGLE_BRACE){if(t=i(),t.type===Z.STRING){var a=t.text;while((t=i()).type===Z.STRING)a+=" "+t.text;o.port=a}if(t.type!==Z.RIGHT_ANGLE_BRACE)throw new Error("Expect '>'");t=i()}if(t.type===Z.STRING){var s=t.text;while((t=i()).type===Z.STRING)s+=" "+t.text;o.text=s}return n.push(t),o}var a=r();if(i().type!==Z.EOF)throw new Error("Unexpected token");return a}et.defaultConfig={label:null,style:"solid",fillColor:"white",strokeColor:"black",strokeWidth:1,fontSize:12,fontFamily:"sans-serif",lineHeight:1.2,padding:4,align:"center"},function(t){t[t["EOF"]=0]="EOF",t[t["VERTICAL_BAR"]=1]="VERTICAL_BAR",t[t["LEFT_CURLY_BRACE"]=2]="LEFT_CURLY_BRACE",t[t["RIGHT_CURLY_BRACE"]=3]="RIGHT_CURLY_BRACE",t[t["LEFT_ANGLE_BRACE"]=4]="LEFT_ANGLE_BRACE",t[t["RIGHT_ANGLE_BRACE"]=5]="RIGHT_ANGLE_BRACE",t[t["STRING"]=6]="STRING"}(Z||(Z={}));var it=function(t){function e(t,n,i,r){var o,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return Object(s["a"])(this,e),o=Object(h["a"])(this,Object(c["a"])(e).call(this,t,n)),o.nodeType=i,o.updateData(r,a),o}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.isField="field"===t.type,this.isHorizontal=n,this.isField){var i=t;i.port&&this.nodeType.getPorts().set(i.port,this);var r=this.root.ctx,o=this.nodeType.getConfig();this.label=i.text||"",r.font="".concat(o.fontSize,"px ").concat(o.fontFamily);var a=this.label?this.label.split("\n"):[];this.textSize={width:Math.max.apply(Math,Object(_["a"])(a.map((function(t){return r.measureText(t).width}))).concat([0])),height:a.length*o.fontSize*o.lineHeight},this.contentSize={width:this.textSize.width+2*o.padding,height:this.textSize.height+2*o.padding},this.cellSize={width:this.contentSize.width,height:this.contentSize.height}}else{var s=t;this.children=[];var l=!0,h=!1,c=void 0;try{for(var d,u=s.children[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value,f=new e(this.root,this,this.nodeType,p,!n);this.children.push(f)}}catch(g){h=!0,c=g}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}this.cellSize=n?{width:this.children.map((function(t){return t.cellSize.width})).reduce((function(t,e){return t+e}),0),height:Math.max.apply(Math,Object(_["a"])(this.children.map((function(t){return t.cellSize.height}))))}:{width:Math.max.apply(Math,Object(_["a"])(this.children.map((function(t){return t.cellSize.width})))),height:this.children.map((function(t){return t.cellSize.height})).reduce((function(t,e){return t+e}),0)}}}},{key:"updateCellSize",value:function(t,e){if(!this.isField){if(!this.children)throw new Error("Non-field record should have children");if(this.isHorizontal){var n=(t-this.cellSize.width)/this.children.length,i=-t/2,r=!0,o=!1,a=void 0;try{for(var s,l=this.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var h=s.value;h.updateCellSize(h.cellSize.width+n,e),h.position={x:i+h.cellSize.width/2,y:0},i+=h.cellSize.width}}catch(b){o=!0,a=b}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}else{var c=(e-this.cellSize.height)/this.children.length,d=-e/2,u=!0,p=!1,f=void 0;try{for(var g,y=this.children[Symbol.iterator]();!(u=(g=y.next()).done);u=!0){var v=g.value;v.updateCellSize(t,v.cellSize.height+c),v.position={x:0,y:d+v.cellSize.height/2},d+=v.cellSize.height}}catch(b){p=!0,f=b}finally{try{u||null==y.return||y.return()}finally{if(p)throw f}}}}this.cellSize={width:t,height:e}}},{key:"getCellSize",value:function(){return this.cellSize}},{key:"render",value:function(){var t;if(this.isField){var e=this.nodeType.getConfig();if(t=[{is:"rect",x:-this.cellSize.width/2,y:-this.cellSize.height/2,width:this.cellSize.width,height:this.cellSize.height,fill:"filled"===e.style?e.fillColor:void 0,stroke:e.strokeWidth>0?e.strokeColor:void 0,strokeWidth:e.strokeWidth}],this.label){if(!this.contentSize)throw new Error("Field record should have content size");t.push({is:"text",x:-this.contentSize.width/2,y:-this.contentSize.height/2,text:this.label,fontSize:e.fontSize,fontFamily:e.fontFamily,lineHeight:e.lineHeight,padding:e.padding,align:e.align})}}else{if(!this.children)throw new Error("Non-field record should have children");t=this.children.map((function(t){var e=t.position;return{is:"group",x:e.x,y:e.y,children:t.render()}}))}return t}},{key:"getBoundingBoxSize",value:function(){var t=this.nodeType.getConfig();return{width:this.cellSize.width+t.strokeWidth,height:this.cellSize.height+t.strokeWidth}}},{key:"distanceToBorder",value:function(t){var e=this.getBoundingBoxSize();return Math.min(Math.abs(e.width/2/Math.cos(t)),Math.abs(e.height/2/Math.sin(t)))}}]),e}(W),rt=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"record"!==n.shape)throw new Error("Expect record shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"getConfig",value:function(){return this.config}},{key:"getPorts",value:function(){return this.ports}},{key:"updateData",value:function(t){var n=Object.assign({},e.defaultConfig,t),i=!this.config||this.config.label!==n.label||this.config.direction!==n.direction||this.config.fontSize!==n.fontSize||this.config.fontFamily!==n.fontFamily||this.config.lineHeight!==n.lineHeight||this.config.padding!==n.padding,r=i||this.config.strokeWidth!==n.strokeWidth;if(this.config=n,i){var o=nt(t.label);this.ports=new Map,this.root=new it(this.parent.root,this.parent,this,o,"horizontal"===this.config.direction);var a=this.root.getCellSize();this.root.updateCellSize(a.width,a.height)}if(r){var s=this.root.getCellSize();this.borderSize={width:s.width+this.config.strokeWidth,height:s.height+this.config.strokeWidth}}}},{key:"render",value:function(){return this.root.render()}},{key:"findPort",value:function(t){if(1===t.length){var e=this.ports.get(t[0]);return e||null}return null}},{key:"getBoundingBoxSize",value:function(){return this.borderSize}},{key:"distanceToBorder",value:function(t){return Math.min(Math.abs(this.borderSize.width/2/Math.cos(t)),Math.abs(this.borderSize.height/2/Math.sin(t)))}}]),e}(tt);rt.defaultConfig={label:"",direction:"horizontal",style:"solid",fillColor:"white",strokeColor:"black",strokeWidth:1,fontSize:12,fontFamily:"sans-serif",lineHeight:1.2,padding:4,align:"center"};n("b0c0"),n("e25e");var ot=n("c51a"),at=n.n(ot),st=(n("a15b"),function(t){function e(t,n,i,r){var o;return Object(s["a"])(this,e),o=Object(h["a"])(this,Object(c["a"])(e).call(this,t,n)),o.nodeType=i,o.updateData(r),o}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){if(this.config={rowSpan:1,columnSpan:1,border:this.nodeType.getTableConfig().cellBorder,backgroundColor:"white"},t.attributes)for(var e=0,n=Object.keys(t.attributes);e<n.length;e++){var i=n[e],r=t.attributes[i];switch(i.toLowerCase()){case"rowspan":this.config.rowSpan=parseInt(r,10);break;case"colspan":this.config.columnSpan=parseInt(r,10);break;case"border":this.config.border=parseInt(r,10);break;case"bgcolor":this.config.backgroundColor=r;break;case"port":this.port=r;break;default:throw new Error("Unknown attribute for table cell")}}function o(t){switch(t.type){case"text":return"string"===typeof t.text?t.text:"";case"element":return t.name&&"br"===t.name.toLowerCase()?"\n":t.elements?t.elements.map(o).join(""):"";default:throw new Error("Unknown element type")}}this.label=o(t);var a=this.nodeType.getConfig(),s=this.nodeType.getTableConfig(),l=this.root.ctx;l.font="".concat(a.fontSize,"px ").concat(a.fontFamily);var h=this.label?this.label.split("\n"):[];this.textSize={width:Math.max.apply(Math,Object(_["a"])(h.map((function(t){return l.measureText(t).width}))).concat([0])),height:h.length*a.fontSize*a.lineHeight},this.contentSize={width:this.textSize.width+2*s.cellPadding,height:this.textSize.height+2*s.cellPadding},this.cellSize={width:this.contentSize.width,height:this.contentSize.height},this.rowOffset=0,this.columnOffset=0}},{key:"render",value:function(){var t={is:"rect",x:-this.cellSize.width/2,y:-this.cellSize.height/2,width:this.cellSize.width,height:this.cellSize.height,fill:this.config.backgroundColor,stroke:this.config.border>0?"black":void 0,strokeWidth:this.config.border},e=[t];if(this.label){var n=this.nodeType.getConfig(),i={is:"text",x:-this.contentSize.width/2,y:-this.contentSize.height/2,text:this.label,fontSize:n.fontSize,fontFamily:n.fontFamily,lineHeight:n.lineHeight,padding:this.nodeType.getTableConfig().cellPadding,align:"center"};e.push(i)}return{is:"group",x:this.position.x,y:this.position.y,children:e}}},{key:"getConfig",value:function(){return this.config}},{key:"getPort",value:function(){return this.port}},{key:"getBoundingBoxSize",value:function(){return{width:this.cellSize.width+this.config.border,height:this.cellSize.height+this.config.border}}},{key:"distanceToBorder",value:function(t){var e=this.getBoundingBoxSize();return Math.min(Math.abs(e.width/2/Math.cos(t)),Math.abs(e.height/2/Math.sin(t)))}}]),e}(W)),lt=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"table"!==n.shape)throw new Error("Expect record shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t){var n=Object.assign({},e.defaultConfig,t),i=!this.config||this.config.label!==n.label||this.config.fontSize!==n.fontSize||this.config.fontFamily!==n.fontFamily||this.config.lineHeight!==n.lineHeight;if(this.config=n,i){var r=at.a.xml2js(this.config.label);if(!r.elements||!r.elements[0]||!r.elements[0].name||"table"!==r.elements[0].name.toLowerCase())throw new Error("Expect table element");var o=r.elements[0];if(this.tableConfig={border:0,cellBorder:1,cellSpacing:0,cellPadding:4},o.attributes)for(var a=0,s=Object.keys(o.attributes);a<s.length;a++){var l=s[a],h=o.attributes[l];switch(l.toLowerCase()){case"border":this.tableConfig.border=parseInt(h,10);break;case"cellborder":this.tableConfig.cellBorder=parseInt(h,10);break;case"cellspacing":this.tableConfig.cellSpacing=parseInt(h,10);break;case"cellpadding":this.tableConfig.cellPadding=parseInt(h,10);break;default:throw new Error("Unknown attribute for table")}}this.table=[],this.ports=new Map;var c=0,d=0,u=!0;if(o.elements){var p=!0,f=!1,g=void 0;try{for(var y,v=o.elements[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var b=y.value;if(!b.name||"tr"!==b.name.toLowerCase())throw new Error("Expect tr element");var m=[];if(b.elements){var w=!0,x=!1,k=void 0;try{for(var S,_=b.elements[Symbol.iterator]();!(w=(S=_.next()).done);w=!0){var O=S.value;if(!O.name||"td"!==O.name.toLowerCase())throw new Error("Expect td element");var C=new st(this.parent.root,this.parent,this,O),T=C.getPort();T&&this.ports.set(T,C),u&&(d+=C.getConfig().columnSpan),m.push(C)}}catch(Ct){x=!0,k=Ct}finally{try{w||null==_.return||_.return()}finally{if(x)throw k}}}++c,u&&(u=!1),this.table.push(m)}}catch(Ct){f=!0,g=Ct}finally{try{p||null==v.return||v.return()}finally{if(f)throw g}}}for(var j=[],P=0;P<c;++P)j.push(Array(d).fill(null));for(var N=0;N<c;++N){var E=0,z=!0,M=!1,R=void 0;try{for(var B,A=this.table[N][Symbol.iterator]();!(z=(B=A.next()).done);z=!0){var L=B.value;while(E<d&&j[N][E])++E;L.rowOffset=N,L.columnOffset=E;for(var D=L.getConfig(),I=D.rowSpan,F=D.columnSpan,H=(L.contentSize.height-(I-1)*this.tableConfig.cellSpacing)/I,W=(L.contentSize.width-(F-1)*this.tableConfig.cellSpacing)/F,G=0;G<I;++G)for(var U=0;U<F;++U)j[N+G][E+U]={width:W,height:H};E+=F}}catch(Ct){M=!0,R=Ct}finally{try{z||null==A.return||A.return()}finally{if(M)throw R}}}for(var Y=[],J=[],X=0;X<c;++X){for(var $=-1/0,K=0;K<d;++K)j[X][K].height>$&&($=j[X][K].height);Y.push($)}for(var q=0;q<d;++q){for(var V=-1/0,Q=0;Q<c;++Q)j[Q][q].width>V&&(V=j[Q][q].width);J.push(V)}for(var Z=[0],tt=[0],et=0;et<c;++et)Z.push(Z[et]+Y[et]+this.tableConfig.cellSpacing);for(var nt=0;nt<d;++nt)tt.push(tt[nt]+J[nt]+this.tableConfig.cellSpacing);this.contentSize={width:tt[tt.length-1]-this.tableConfig.cellSpacing,height:Z[Z.length-1]-this.tableConfig.cellSpacing};var it=!0,rt=!1,ot=void 0;try{for(var lt,ht=this.table[Symbol.iterator]();!(it=(lt=ht.next()).done);it=!0){var ct=lt.value,dt=!0,ut=!1,pt=void 0;try{for(var ft,gt=ct[Symbol.iterator]();!(dt=(ft=gt.next()).done);dt=!0){var yt=ft.value,vt=yt.getConfig(),bt=vt.rowSpan,mt=vt.columnSpan,wt=yt.rowOffset,xt=yt.columnOffset,kt=tt[xt],St=Z[wt],_t=tt[xt+mt]-kt-this.tableConfig.cellSpacing,Ot=Z[wt+bt]-St-this.tableConfig.cellSpacing;yt.position={x:kt+_t/2-this.contentSize.width/2,y:St+Ot/2-this.contentSize.height/2},yt.cellSize={width:_t,height:Ot}}}catch(Ct){ut=!0,pt=Ct}finally{try{dt||null==gt.return||gt.return()}finally{if(ut)throw pt}}}}catch(Ct){rt=!0,ot=Ct}finally{try{it||null==ht.return||ht.return()}finally{if(rt)throw ot}}this.borderSize={width:this.contentSize.width+this.tableConfig.border+2*this.tableConfig.cellSpacing,height:this.contentSize.height+this.tableConfig.border+2*this.tableConfig.cellSpacing}}}},{key:"render",value:function(){var t=[];t.push({is:"rect",x:-this.contentSize.width/2-this.tableConfig.cellSpacing,y:-this.contentSize.height/2-this.tableConfig.cellSpacing,width:this.contentSize.width+2*this.tableConfig.cellSpacing,height:this.contentSize.height+2*this.tableConfig.cellSpacing,fill:"white",stroke:this.tableConfig.border>0?"black":void 0,strokeWidth:this.tableConfig.border});var e=!0,n=!1,i=void 0;try{for(var r,o=this.table[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value,s=!0,l=!1,h=void 0;try{for(var c,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value;t.push(u.render())}}catch(p){l=!0,h=p}finally{try{s||null==d.return||d.return()}finally{if(l)throw h}}}}catch(p){n=!0,i=p}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"getConfig",value:function(){return this.config}},{key:"getTableConfig",value:function(){return this.tableConfig}},{key:"findPort",value:function(t){if(1===t.length){var e=this.ports.get(t[0]);return e||null}return null}},{key:"getBoundingBoxSize",value:function(){return this.borderSize}},{key:"distanceToBorder",value:function(t){return Math.min(Math.abs(this.borderSize.width/2/Math.cos(t)),Math.abs(this.borderSize.height/2/Math.sin(t)))}}]),e}(tt);lt.defaultConfig={label:"",fontSize:12,fontFamily:"sans-serif",lineHeight:1.2};var ht=function(t){function e(t,n){var i;if(Object(s["a"])(this,e),"xdot"!==n.shape)throw new Error("Expect xdot shape");return i=Object(h["a"])(this,Object(c["a"])(e).call(this,t)),i.updateData(n),i}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"findPort",value:function(t){return this.parent}},{key:"updateData",value:function(t){var e;this.shapes=t.shapes?(e=[]).concat.apply(e,Object(_["a"])(Object.keys(t.shapes).map((function(e){return t.shapes[e]})))):[],this.boundingBox=t.boundingBox,this.selected=!1}},{key:"render",value:function(){var t=this,e=this.shapes.map((function(e){return Object.assign({},e,{pen:t.parent.root.applyHighlighted(e.pen,t.parent.highlighted)})}));return this.selected&&this.boundingBox?e.concat({is:"xdot",type:"polygon",pen:I,points:[[this.boundingBox[0],this.boundingBox[1]],[this.boundingBox[2],this.boundingBox[1]],[this.boundingBox[2],this.boundingBox[3]],[this.boundingBox[0],this.boundingBox[3]]],filled:!1}):e}},{key:"onSelect",value:function(t){return this.selected=t,!!this.boundingBox}}]),e}(tt);function ct(t){switch(t.shape){case"table":return lt;case"record":return rt;case"xdot":return ht;default:return t.shape="box",et}}var dt=function(t){function e(t,n,i,r,o){var a;if(Object(s["a"])(this,e),"node"!==r.type)throw new Error("Expect node type");return a=Object(h["a"])(this,Object(c["a"])(e).call(this,t,i)),a.graph=n,a.updateData(r,o),a}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"updateData",value:function(t,n){this.id=e.getId(t),this.depth=n?n.depth+1:0,this.fullId=n?"".concat(n.parentId,":").concat(this.id):this.id,this.highlighted=!1,this.fromEdges=new Set,this.toEdges=new Set;var i=ct(t);this.nodeType&&this.nodeType.constructor===i?this.nodeType.updateData(t):this.nodeType=new i(this,t)}},{key:"render",value:function(){return{is:"group",draggable:!0,id:this.fullId,x:this.position.x,y:this.position.y,children:this.nodeType.render()}}},{key:"findPort",value:function(t){return 0===t.length?this:this.nodeType.findPort(t)}},{key:"getBoundingBoxSize",value:function(){return this.nodeType.getBoundingBoxSize()}},{key:"distanceToBorder",value:function(t){return this.nodeType.distanceToBorder(t)}},{key:"onSelect",value:function(t){return this.nodeType.onSelect(t)}}],[{key:"getId",value:function(t){if(!t.id)throw new Error("Missing id field for node");return t.id}}]),e}(W),ut=function(){function t(e,n,i,r,o){if(Object(s["a"])(this,t),"edge"!==r.type)throw new Error("Expect edge type");this.root=e,this.graph=n,this.parent=i,this.updateData(r,o)}return Object(l["a"])(t,[{key:"updateData",value:function(e,n){if(this.id=t.getId(e),this.from=e.from,this.to=e.to,this.depth=n?n.depth+1:0,this.fullId=n?"".concat(n.parentId,":").concat(this.id):this.id,!this.graph)throw new Error("Top level edge cannot be rendered");this.highlighted=!1;var i=this.graph.findPort(this.from.split(":")),r=this.graph.findPort(this.to.split(":"));if(!i||!r)throw new Error("Unknown start or end port ".concat(this.from,"-").concat(this.to," for edge"));this.fromPort=i,this.toPort=r,this.fromNodeOrGraph&&this.fromNodeOrGraph.fromEdges.delete(this),this.toNodeOrGraph&&this.toNodeOrGraph.toEdges.delete(this);var o=t.findParentNodeOrGraph(i),a=t.findParentNodeOrGraph(r);if(!o||!a)throw new Error("Unknown start or end node for edge");o.fromEdges.add(this),a.toEdges.add(this),this.fromNodeOrGraph=o,this.toNodeOrGraph=a;var s=Q(e);this.edgeType&&this.edgeType.constructor===s?this.edgeType.updateData(e):this.edgeType=new s(this,e)}},{key:"fullyUpdatePosition",value:function(){this.edgeType.fullyUpdatePosition()}},{key:"updatePosition",value:function(){this.edgeType.updatePosition()}},{key:"getControlPoints",value:function(){return this.edgeType.getControlPoints()}},{key:"render",value:function(){return this.edgeType.render()}}],[{key:"getId",value:function(t){return t.id||"".concat(t.from,"-").concat(t.to)}},{key:"findParentNodeOrGraph",value:function(t){while(t&&!(t instanceof X||t instanceof dt))t=t.parent;return t}}]),t}();function pt(t){switch(t.type){case"node":return dt;case"edge":return ut;case"graph":return X;default:throw new Error("Unknown renderable object")}}var ft={no:function(t){return new Set},directInput:function(t){var e=new Set,n=!0,i=!1,r=void 0;try{for(var o,a=t.selected[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=t.findPort(s);if(null===l)throw new Error("Cannot find the port");if(l instanceof X||l instanceof dt){e.add(l);var h=!0,c=!1,d=void 0;try{for(var u,p=l.toEdges[Symbol.iterator]();!(h=(u=p.next()).done);h=!0){var f=u.value;e.add(f),e.add(f.fromNodeOrGraph)}}catch(g){c=!0,d=g}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}}}}catch(g){i=!0,r=g}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return e},directOutput:function(t){var e=new Set,n=!0,i=!1,r=void 0;try{for(var o,a=t.selected[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=t.findPort(s);if(null===l)throw new Error("Cannot find the port");if(l instanceof X||l instanceof dt){e.add(l);var h=!0,c=!1,d=void 0;try{for(var u,p=l.fromEdges[Symbol.iterator]();!(h=(u=p.next()).done);h=!0){var f=u.value;e.add(f),e.add(f.toNodeOrGraph)}}catch(g){c=!0,d=g}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}}}}catch(g){i=!0,r=g}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return e},allInput:function(t){var e=new Set;function n(t){e.add(t);var i=!0,r=!1,o=void 0;try{for(var a,s=t.toEdges[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e.add(l),e.has(l.fromNodeOrGraph)||n(l.fromNodeOrGraph)}}catch(h){r=!0,o=h}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}var i=!0,r=!1,o=void 0;try{for(var a,s=t.selected[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,h=t.findPort(l);if(null===h)throw new Error("Cannot find the port");(h instanceof X||h instanceof dt)&&n(h)}}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return e},allOutput:function(t){var e=new Set;function n(t){e.add(t);var i=!0,r=!1,o=void 0;try{for(var a,s=t.fromEdges[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e.add(l),e.has(l.toNodeOrGraph)||n(l.toNodeOrGraph)}}catch(h){r=!0,o=h}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}var i=!0,r=!1,o=void 0;try{for(var a,s=t.selected[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,h=t.findPort(l);if(null===h)throw new Error("Cannot find the port");(h instanceof X||h instanceof dt)&&n(h)}}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return e}},gt=ft,yt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(h["a"])(this,Object(c["a"])(e).call(this)),t.ctx=document.createElement("canvas").getContext("2d"),t.child=null,t.stepTimer=setInterval((function(){t.child instanceof X&&t.child.step()&&t.informRender()}),1e3/60),t.fixed=new Set,t.selected=new Set,t.highlightMode="no",t.highlighted=new Set,t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"findPort",value:function(t){var e=t.split(":");return this.child?this.child.id!==e[0]?null:this.child.findPort(e.slice(1)):null}},{key:"setFixed",value:function(t){var e=this,n=new Set(t),i=Object(_["a"])(this.fixed).filter((function(t){return!n.has(t)})),r=!0,o=!1,a=void 0;try{for(var s,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var h=s.value,c=this.findPort(h);if(null===c)throw new Error("Cannot find the port");c.fixed=!1}}catch(m){o=!0,a=m}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}var d=Object(_["a"])(n).filter((function(t){return!e.fixed.has(t)})),u=!0,p=!1,f=void 0;try{for(var g,y=d[Symbol.iterator]();!(u=(g=y.next()).done);u=!0){var v=g.value,b=this.findPort(v);if(null===b)throw new Error("Cannot find the port");b.fixed=!0}}catch(m){p=!0,f=m}finally{try{u||null==y.return||y.return()}finally{if(p)throw f}}this.fixed=n}},{key:"setSelected",value:function(t){var e=this,n=new Set(t),i=!1,r=Object(_["a"])(this.selected).filter((function(t){return!n.has(t)})),o=!0,a=!1,s=void 0;try{for(var l,h=r[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value,d=this.findPort(c);if(null===d)throw new Error("Cannot find the port");i=d.onSelect(!1)||i}}catch(w){a=!0,s=w}finally{try{o||null==h.return||h.return()}finally{if(a)throw s}}var u=Object(_["a"])(n).filter((function(t){return!e.selected.has(t)})),p=!0,f=!1,g=void 0;try{for(var y,v=u[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var b=y.value,m=this.findPort(b);if(null===m)throw new Error("Cannot find the port");i=m.onSelect(!0)||i}}catch(w){f=!0,g=w}finally{try{p||null==v.return||v.return()}finally{if(f)throw g}}this.selected=n,(this.updateHighlighted()||i)&&this.informRender()}},{key:"setHighlightMode",value:function(t){var e=("no"===this.highlightMode||"no"===t)&&this.highlightMode!==t;this.highlightMode=t,(this.updateHighlighted()||e)&&this.informRender()}},{key:"updateHighlighted",value:function(){var t=this,e=gt[this.highlightMode](this),n=Object(_["a"])(this.highlighted).filter((function(t){return!e.has(t)})),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.highlighted=!1}}catch(y){r=!0,o=y}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var h=Object(_["a"])(e).filter((function(e){return!t.highlighted.has(e)})),c=!0,d=!1,u=void 0;try{for(var p,f=h[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var g=p.value;g.highlighted=!0}}catch(y){d=!0,u=y}finally{try{c||null==f.return||f.return()}finally{if(d)throw u}}return this.highlighted=e,!(!n.length&&!h.length)}},{key:"applyHighlighted",value:function(t,e){if("no"===this.highlightMode)return t;if(e)return t;var n=Object.assign({},t);return n.color=[n.color[0],n.color[1],n.color[2],.2],n.fillcolor=[n.fillcolor[0],n.fillcolor[1],n.fillcolor[2],.2],n}},{key:"movePort",value:function(t,e){var n=this.findPort(t);if(null===n)throw new Error("Cannot find the port");if(!(n instanceof X||n instanceof dt))throw new Error("Wrong type of port");n.position.x+=e.deltaX,n.position.y+=e.deltaY;for(var i=0,r=[].concat(Object(_["a"])(n.fromEdges),Object(_["a"])(n.toEdges));i<r.length;i++){var o=r[i];o.updatePosition()}this.informRender()}},{key:"updateData",value:function(t){var e=pt(t);if(this.child&&this.child.constructor===e)this.child.updateData(t,null);else{var n=new e(this,null,null,t,null);if(!(n instanceof W))throw new Error("Root element must be renderable port");this.child=n}this.informRender()}},{key:"fullyUpdateData",value:function(t){var e=new(pt(t))(this,null,null,t,null);if(!(e instanceof W))throw new Error("Root element must be renderable port");this.child=e,this.informRender()}},{key:"informRender",value:function(){if(this.child){var t=[this.child.render()];Object.freeze(t),this.emit("render",t)}}}]),e}(O),vt=new yt,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{width:t.width,height:t.height,position:"relative"}},[n("canvas",{ref:"hitCanvas",staticStyle:{position:"absolute",display:"none"}}),n("canvas",t._g({ref:"canvas",staticStyle:{position:"absolute"}},t.$listeners))])},mt=[],wt=(n("1913"),function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(h["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.context=null,t.hitContext=null,t.hitColorMap={},t.hitIdMap={},t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"mounted",value:function(){this.context=this.$refs.canvas.getContext("2d"),this.$refs.canvas.width=this.width,this.$refs.canvas.height=this.height,this.hitContext=this.$refs.hitCanvas.getContext("2d"),this.$refs.hitCanvas.width=this.width,this.$refs.hitCanvas.height=this.height}},{key:"generateHitColor",value:function(t){if(this.hitIdMap[t])return this.hitIdMap[t];while(1){var e=Math.round(255*Math.random()),n=Math.round(255*Math.random()),i=Math.round(255*Math.random()),r="rgb(".concat(e,",").concat(n,",").concat(i,")");if(!this.hitColorMap[r])return this.hitColorMap[r]=t,this.hitIdMap[t]=r,r}}},{key:"updateCanvas",value:function(){var t=this;if(this.context&&this.hitContext){var e=this.context,n=this.hitContext;e.clearRect(0,0,this.width,this.height),n.clearRect(0,0,this.width,this.height),this.hitColorMap={},this.hitIdMap={};var i=function i(r,o,a){var s=r.draggable||o,l=r.id||a;switch(r.is){case"group":if(e.save(),e.translate(r.x||0,r.y||0),e.scale(r.scaleX||1,r.scaleY||1),n.save(),n.translate(r.x||0,r.y||0),n.scale(r.scaleX||1,r.scaleY||1),r.children){var h=!0,c=!1,d=void 0;try{for(var u,p=r.children[Symbol.iterator]();!(h=(u=p.next()).done);h=!0){var f=u.value;i(f,r.draggable||o,r.id||a)}}catch(mt){c=!0,d=mt}finally{try{h||null==p.return||p.return()}finally{if(c)throw d}}}e.restore(),n.restore();break;case"rect":if(e.beginPath(),e.rect(r.x||0,r.y||0,r.width||0,r.height||0),r.fill&&(e.fillStyle=r.fill,e.fill()),r.stroke&&(e.lineWidth=r.strokeWidth||1,e.strokeStyle=r.stroke,e.stroke()),s&&l){var g=t.generateHitColor(l);n.beginPath(),n.rect(r.x||0,r.y||0,r.width||0,r.height||0),n.fillStyle=g,n.fill(),r.stroke&&(n.lineWidth=r.strokeWidth||1,n.strokeStyle=g,n.stroke())}break;case"text":var y=r.fontSize||12,v=r.lineHeight||1.2,b=r.padding||4;e.font="".concat(y,"px ").concat(r.fontFamily||"sans-serif");var m=r.text?r.text.split("\n"):[],w=m.map((function(t){return e.measureText(t).width})),x=Math.max.apply(Math,Object(_["a"])(w).concat([0])),k=(r.y||0)+b;e.textBaseline="top",e.fillStyle=r.fill||"black";for(var S=0;S<m.length;++S){var O=(r.x||0)+b;"left"===r.align||("right"===r.align?O+=x-w[S]:O+=(x-w[S])/2),e.fillText(m[S],O,k+.5*(v-1)*y),k+=v*y}break;case"line":var T=r.points||[];e.strokeStyle=r.stroke||"black",e.lineWidth=r.strokeWidth||1,e.beginPath(),e.moveTo(T[0]||0,T[1]||0),e.lineTo(T[2]||0,T[3]||0),e.stroke();break;case"quadraticLine":var j=r.points||[];e.strokeStyle=r.stroke||"black",e.lineWidth=r.strokeWidth||1,e.beginPath(),e.moveTo(j[0]||0,j[1]||0),e.quadraticCurveTo(j[2]||0,j[3]||0,j[4]||0,j[5]||0),e.stroke();break;case"pointer":var P=r.x||0,N=r.y||0,E=r.angle||0,z=r.width||10,M=r.height||15,R=P+M*Math.cos(E),B=N+M*Math.sin(E),A=z/2*Math.sin(E),L=-z/2*Math.cos(E);e.fillStyle=r.fill||"black",e.beginPath(),e.moveTo(P,N),e.lineTo(R+A,B+L),e.lineTo(R-A,B-L),e.closePath(),e.fill();break;case"rectWithWhole":e.beginPath(),e.moveTo(r.outerLeft||0,r.outerTop||0),e.lineTo(r.outerRight||0,r.outerTop||0),e.lineTo(r.outerRight||0,r.outerBottom||0),e.lineTo(r.outerLeft||0,r.outerBottom||0),e.lineTo(r.outerLeft||0,r.outerTop||0),e.moveTo(r.innerLeft||0,r.innerTop||0),e.lineTo(r.innerLeft||0,r.innerBottom||0),e.lineTo(r.innerRight||0,r.innerBottom||0),e.lineTo(r.innerRight||0,r.innerTop||0),e.lineTo(r.innerLeft||0,r.innerTop||0),e.fillStyle=r.fill||"white",e.fill();break;case"xdot":switch(r.type){case"text":e.font="".concat(r.pen.fontsize,"px ").concat(r.pen.fontname),e.fillStyle="rgba("+r.pen.color[0]+","+r.pen.color[1]+","+r.pen.color[2]+","+r.pen.color[3]+")",e.textAlign=-1===r.centering?"left":0===r.centering?"center":"right",e.textBaseline="alphabetic",e.fillText(r.text,r.x,r.y,r.width);break;case"ellipse":if(e.save(),e.translate(r.x,r.y),e.scale(r.width,r.height),e.beginPath(),e.moveTo(1,0),e.arc(0,0,1,0,2*Math.PI),e.restore(),r.filled?(e.fillStyle="rgba("+r.pen.fillcolor[0]+","+r.pen.fillcolor[1]+","+r.pen.fillcolor[2]+","+r.pen.fillcolor[3]+")",e.fill()):(e.setLineDash(r.pen.dash),e.lineWidth=r.pen.linewidth,e.strokeStyle="rgba("+r.pen.color[0]+","+r.pen.color[1]+","+r.pen.color[2]+","+r.pen.color[3]+")",e.stroke()),s&&l){var D=t.generateHitColor(l);n.save(),n.translate(r.x,r.y),n.scale(r.width,r.height),n.beginPath(),n.moveTo(1,0),n.arc(0,0,1,0,2*Math.PI),n.restore(),n.fillStyle=D,n.fill(),r.filled||(n.setLineDash(r.pen.dash),n.lineWidth=r.pen.linewidth,n.strokeStyle=D,n.stroke())}break;case"line":e.beginPath();var I=r.points[0];e.moveTo(I[0],I[1]);for(var F=1;F<r.points.length;++F){var H=r.points[F];e.lineTo(H[0],H[1])}if(e.setLineDash(r.pen.dash),e.lineWidth=r.pen.linewidth,e.strokeStyle="rgba("+r.pen.color[0]+","+r.pen.color[1]+","+r.pen.color[2]+","+r.pen.color[3]+")",e.stroke(),s&&l){var W=t.generateHitColor(l);n.beginPath(),n.moveTo(I[0],I[1]);for(var G=1;G<r.points.length;++G){var U=r.points[G];n.lineTo(U[0],U[1])}n.setLineDash(r.pen.dash),n.lineWidth=r.pen.linewidth,n.strokeStyle=W,n.stroke()}break;case"bezier":e.beginPath();var Y=r.points[0];e.moveTo(Y[0],Y[1]);for(var J=1;J<r.points.length;J+=3){var X=r.points.slice(J,J+3),$=Object(C["a"])(X,3),K=$[0],q=$[1],V=$[2];e.bezierCurveTo(K[0],K[1],q[0],q[1],V[0],V[1])}if(r.filled?(e.fillStyle="rgba("+r.pen.fillcolor[0]+","+r.pen.fillcolor[1]+","+r.pen.fillcolor[2]+","+r.pen.fillcolor[3]+")",e.fill()):(e.setLineDash(r.pen.dash),e.lineWidth=r.pen.linewidth,e.strokeStyle="rgba("+r.pen.color[0]+","+r.pen.color[1]+","+r.pen.color[2]+","+r.pen.color[3]+")",e.stroke()),s&&l){var Q=t.generateHitColor(l);n.beginPath(),n.moveTo(Y[0],Y[1]);for(var Z=1;Z<r.points.length;Z+=3){var tt=r.points.slice(Z,Z+3),et=Object(C["a"])(tt,3),nt=et[0],it=et[1],rt=et[2];n.bezierCurveTo(nt[0],nt[1],it[0],it[1],rt[0],rt[1])}r.filled?(n.fillStyle=Q,n.fill()):(n.setLineDash(r.pen.dash),n.lineWidth=r.pen.linewidth,n.strokeStyle=Q,n.stroke())}break;case"polygon":e.beginPath();var ot=r.points[r.points.length-1];e.moveTo(ot[0],ot[1]);var at=!0,st=!1,lt=void 0;try{for(var ht,ct=r.points[Symbol.iterator]();!(at=(ht=ct.next()).done);at=!0){var dt=ht.value;e.lineTo(dt[0],dt[1])}}catch(mt){st=!0,lt=mt}finally{try{at||null==ct.return||ct.return()}finally{if(st)throw lt}}if(e.closePath(),r.filled?(e.fillStyle="rgba("+r.pen.fillcolor[0]+","+r.pen.fillcolor[1]+","+r.pen.fillcolor[2]+","+r.pen.fillcolor[3]+")",e.fill()):(e.setLineDash(r.pen.dash),e.lineWidth=r.pen.linewidth,e.strokeStyle="rgba("+r.pen.color[0]+","+r.pen.color[1]+","+r.pen.color[2]+","+r.pen.color[3]+")",e.stroke()),s&&l){var ut=t.generateHitColor(l);n.beginPath(),n.moveTo(ot[0],ot[1]);var pt=!0,ft=!1,gt=void 0;try{for(var yt,vt=r.points[Symbol.iterator]();!(pt=(yt=vt.next()).done);pt=!0){var bt=yt.value;n.lineTo(bt[0],bt[1])}}catch(mt){ft=!0,gt=mt}finally{try{pt||null==vt.return||vt.return()}finally{if(ft)throw gt}}n.closePath(),n.fillStyle=ut,n.fill(),r.filled||(n.setLineDash(r.pen.dash),n.lineWidth=r.pen.linewidth,n.strokeStyle=ut,n.stroke())}break;case"image":throw new Error("Image is not supported");default:throw new Error("Unknown type of xdot shape")}break;default:throw new Error("Unknown shape")}};this.data&&(e.lineCap="butt",e.lineJoin="miter",i(this.data,!1,""))}}},{key:"getIdFromHitPoint",value:function(t,e){if(this.hitContext){var n=this.hitContext.getImageData(t,e,1,1).data,i="rgb(".concat(n[0],",").concat(n[1],",").concat(n[2],")");return this.hitColorMap[i]}}},{key:"onWidthChanged",value:function(){this.$refs.canvas.width=this.width,this.$refs.hitCanvas.width=this.width,this.updateCanvas()}},{key:"onHeightChanged",value:function(){this.$refs.canvas.height=this.height,this.$refs.hitCanvas.height=this.height,this.updateCanvas()}},{key:"onDataChanged",value:function(){this.updateCanvas()}}]),e}(p["d"]));Object(u["a"])([Object(p["b"])({type:Number,required:!0})],wt.prototype,"width",void 0),Object(u["a"])([Object(p["b"])({type:Number,required:!0})],wt.prototype,"height",void 0),Object(u["a"])([Object(p["b"])(Object)],wt.prototype,"data",void 0),Object(u["a"])([Object(p["c"])()],wt.prototype,"generateHitColor",null),Object(u["a"])([Object(p["e"])("width")],wt.prototype,"onWidthChanged",null),Object(u["a"])([Object(p["e"])("height")],wt.prototype,"onHeightChanged",null),Object(u["a"])([Object(p["e"])("data")],wt.prototype,"onDataChanged",null),wt=Object(u["a"])([p["a"]],wt);var xt=wt,kt=xt,St=Object(m["a"])(kt,bt,mt,!1,null,null,null),_t=St.exports,Ot=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(h["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.x=0,t.y=0,t.scale=1,t.size={width:0,height:0},t.draggedId=null,t.mouseDragActive=!1,t.mouseLastCoords={x:0,y:0},t.moved=!1,t.maxThumbnailLength=160,t.minThumbnailLength=100,t.thumbnailPadding=10,t.thumbnailMouseDragActive=!1,t.thumbnailMouseLastCoords={x:0,y:0},t.enableDraggable=!0,t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"mounted",value:function(){this.updateSize()}},{key:"onDataChanged",value:function(){this.updateSize()}},{key:"updateSize",value:function(){vt.child instanceof W&&(this.size=vt.child.getBoundingBoxSize())}},{key:"wheel",value:function(t){var e=1.1;t.preventDefault();var n=this.translateMouseEvent(t),i={x:(n.x-this.stageX)/this.scale,y:(n.y-this.stageY)/this.scale};this.scale=t.deltaY<0?this.scale*e:this.scale/e;var r={x:-(i.x-n.x/this.scale)*this.scale,y:-(i.y-n.y/this.scale)*this.scale};this.x=r.x-this.width/2,this.y=r.y-this.height/2}},{key:"translateMouseEvent",value:function(t){var e=0,n=0,i=t.currentTarget;while(i)e+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return{x:t.pageX-e,y:t.pageY-n}}},{key:"mousedown",value:function(t){this.mouseDragActive=!0,this.mouseLastCoords={x:t.pageX,y:t.pageY};var e=this.translateMouseEvent(t),n=this.$refs.mainCanvas.getIdFromHitPoint(e.x,e.y);n&&this.enableDraggable&&(this.draggedId=n,vt.setFixed([n])),this.moved=!1}},{key:"mouseup",value:function(t){if(this.mouseDragActive=!1,this.draggedId=null,vt.setFixed([]),!this.moved){var e=this.translateMouseEvent(t),n=this.$refs.mainCanvas.getIdFromHitPoint(e.x,e.y);n?vt.setSelected([n]):vt.setSelected([])}}},{key:"mousemove",value:function(t){if(this.moved=!0,0===t.buttons&&(this.mouseDragActive=!1),this.mouseDragActive||this.draggedId){var e={x:t.pageX,y:t.pageY},n=e.x-this.mouseLastCoords.x,i=e.y-this.mouseLastCoords.y;this.draggedId?vt.movePort(this.draggedId,{deltaX:n/this.scale,deltaY:i/this.scale}):(this.x+=n,this.y+=i),this.mouseLastCoords=e}}},{key:"thumbnailMousedown",value:function(t){var e=this.translateMouseEvent(t),n=this.$refs.thumbnailCanvas.getIdFromHitPoint(e.x,e.y);"viewport"===n&&(this.thumbnailMouseDragActive=!0,this.thumbnailMouseLastCoords={x:t.pageX,y:t.pageY})}},{key:"thumbnailMouseup",value:function(){this.thumbnailMouseDragActive=!1}},{key:"thumbnailMousemove",value:function(t){if(0===t.buttons&&(this.thumbnailMouseDragActive=!1),this.thumbnailMouseDragActive){var e={x:t.pageX,y:t.pageY},n=this.thumbnailMouseLastCoords,i=this.thumbnailFactor*this.scale;this.x-=(e.x-n.x)*i,this.y-=(e.y-n.y)*i,this.thumbnailMouseLastCoords=e}}},{key:"stageX",get:function(){return this.width/2+this.x}},{key:"stageY",get:function(){return this.height/2+this.y}},{key:"mainCanvasData",get:function(){return{is:"group",x:this.stageX,y:this.stageY,scaleX:this.scale,scaleY:this.scale,children:this.data}}},{key:"thumbnailCanvasData",get:function(){var t=1/this.thumbnailFactor;function e(t){var n=Object.assign({},t);return n.draggable&&delete n.draggable,n.children&&(n.children=n.children.map((function(t){return e(t)}))),n}var n=this.data.map((function(t){return e(t)})),i=(-this.width/2-this.x)/this.scale,r=(-this.height/2-this.y)/this.scale,o=this.width/this.scale,a=this.height/this.scale;return n.push({is:"rectWithWhole",id:"mask",fill:"rgba(0,0,0,0.2)",outerLeft:-this.thumbnailWidth*this.thumbnailFactor/2,outerRight:this.thumbnailWidth*this.thumbnailFactor/2,outerTop:-this.thumbnailHeight*this.thumbnailFactor/2,outerBottom:this.thumbnailHeight*this.thumbnailFactor/2,innerLeft:i,innerRight:i+o,innerTop:r,innerBottom:r+a}),n.push({is:"rect",id:"viewport",draggable:!0,x:i,y:r,width:o,height:a,stroke:"#3eaf7c",strokeWidth:this.thumbnailFactor}),{is:"group",x:this.thumbnailWidth/2,y:this.thumbnailHeight/2,scaleX:t,scaleY:t,children:n}}},{key:"thumbnailFactor",get:function(){return Math.max(this.size.width/this.maxThumbnailLength,this.size.height/this.maxThumbnailLength,1)}},{key:"thumbnailWidth",get:function(){return Math.max(this.size.width/this.thumbnailFactor,this.minThumbnailLength)+2*this.thumbnailPadding}},{key:"thumbnailHeight",get:function(){return Math.max(this.size.height/this.thumbnailFactor,this.minThumbnailLength)+2*this.thumbnailPadding}}]),e}(p["d"]);Object(u["a"])([Object(p["b"])({type:Number,required:!0})],Ot.prototype,"width",void 0),Object(u["a"])([Object(p["b"])({type:Number,required:!0})],Ot.prototype,"height",void 0),Object(u["a"])([Object(p["b"])({type:Array,default:function(){return[]}})],Ot.prototype,"data",void 0),Object(u["a"])([Object(p["e"])("data")],Ot.prototype,"onDataChanged",null),Ot=Object(u["a"])([Object(p["a"])({components:{MyCanvas:_t}})],Ot);var Ct,Tt=Ot,jt=Tt,Pt=(n("8fca"),Object(m["a"])(jt,k,S,!1,null,"7e8fd228",null)),Nt=Pt.exports,Et=(n("3d1c"),n("835f"),n("517b")),zt=(n("5319"),n("2ca0"),n("96cf"),n("4d63"),n("25f0"),n("466d"),function(){function t(e,n,i,r,o,a){Object(s["a"])(this,t),this.tokens=e,this.symbols=n,this.literals=i,this.eofToken=o,this.skipToken=a;var l="";r&&(l+="i"),this.tokensRegex=new RegExp("^(?:"+e.map((function(t){return"("+t[1]+")"})).join("|")+")",l)}return Object(l["a"])(t,[{key:"next",value:function(t){if(!t.length)return[this.eofToken,"",""];var e=t.match(this.tokensRegex);if(e){for(var n=-1,i=0;i<this.tokens.length;++i)if(e[i+1]){n=i;break}if(n<0)throw new Error("Cannot find token index");var r=Object(C["a"])(this.tokens[n],3),o=r[0],a=r[2],s=a&&this.literals[e[0]]||o;return[s,e[0],t.slice(e[0].length)]}var l=this.symbols[t[0]];if(!l)throw new Error("Unexpected character");return[l,t[0],t.slice(1)]}},{key:"scan",value:regeneratorRuntime.mark((function t(e){var n,i,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.next(e),i=Object(C["a"])(n,3),r=i[0],o=i[1],a=i[2],e=a,!this.skipToken||r!==this.skipToken){t.next=5;break}return t.abrupt("continue",0);case 5:return t.next=7,[r,o];case 7:if(r!==this.eofToken){t.next=9;break}return t.abrupt("break",11);case 9:t.next=0;break;case 11:case"end":return t.stop()}}),t,this)}))}]),t}());(function(t){t[t["EOF"]=-1]="EOF",t[t["SKIP"]=-2]="SKIP",t[t["ID"]=0]="ID",t[t["STR_ID"]=1]="STR_ID",t[t["HTML_ID"]=2]="HTML_ID",t[t["EDGE_OP"]=3]="EDGE_OP",t[t["LSQUARE"]=4]="LSQUARE",t[t["RSQUARE"]=5]="RSQUARE",t[t["LCURLY"]=6]="LCURLY",t[t["RCURLY"]=7]="RCURLY",t[t["COMMA"]=8]="COMMA",t[t["COLON"]=9]="COLON",t[t["SEMI"]=10]="SEMI",t[t["EQUAL"]=11]="EQUAL",t[t["PLUS"]=12]="PLUS",t[t["STRICT"]=13]="STRICT",t[t["GRAPH"]=14]="GRAPH",t[t["DIGRAPH"]=15]="DIGRAPH",t[t["NODE"]=16]="NODE",t[t["EDGE"]=17]="EDGE",t[t["SUBGRAPH"]=18]="SUBGRAPH"})(Ct||(Ct={}));var Mt=function(t){function e(){return Object(s["a"])(this,e),Object(h["a"])(this,Object(c["a"])(e).call(this,e.tokens,e.symbols,e.literals,!0,Ct.EOF,Ct.SKIP))}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"scan",value:regeneratorRuntime.mark((function t(n){var i,r,o,a,s,l,h,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=!0,r=!1,o=void 0,t.prev=3,a=Object(T["a"])(Object(c["a"])(e.prototype),"scan",this).call(this,n)[Symbol.iterator]();case 5:if(i=(s=a.next()).done){t.next=13;break}return l=Object(C["a"])(s.value,2),h=l[0],d=l[1],h===Ct.STR_ID?(d=d.slice(1,-1),d=d.replace(/\\(?:\r\n|\r|\n)/g,""),d=d.replace(/\\"/g,'"'),h=Ct.ID):h===Ct.HTML_ID&&(d=d.slice(1,-1),h=Ct.ID),t.next=10,[h,d];case 10:i=!0,t.next=5;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](3),r=!0,o=t.t0;case 19:t.prev=19,t.prev=20,i||null==a.return||a.return();case 22:if(t.prev=22,!r){t.next=25;break}throw o;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}}),t,this,[[3,15,19,27],[20,,22,26]])}))}]),e}(zt);Mt.tokens=[[Ct.SKIP,"[ \\t\\f\\r\\n\\v]+|//[^\\r\\n]*|/\\*(?:.|\\n)*?\\*/|#[^\\r\\n]*",!1],[Ct.ID,"[a-zA-Z_\\x80-\\xff][a-zA-Z0-9_\\x80-\\xff]*",!0],[Ct.ID,"-?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)",!1],[Ct.STR_ID,'"[^"\\\\]*(?:\\\\(?:.|\\n)[^"\\\\]*)*"',!1],[Ct.HTML_ID,"<[^<>]*(?:<[^<>]*>[^<>]*)*>",!1],[Ct.EDGE_OP,"-[>-]",!1]],Mt.symbols={"[":Ct.LSQUARE,"]":Ct.RSQUARE,"{":Ct.LCURLY,"}":Ct.RCURLY,",":Ct.COMMA,":":Ct.COLON,";":Ct.SEMI,"=":Ct.EQUAL,"+":Ct.PLUS},Mt.literals={strict:Ct.STRICT,graph:Ct.GRAPH,digraph:Ct.DIGRAPH,node:Ct.NODE,edge:Ct.EDGE,subgraph:Ct.SUBGRAPH};var Rt,Bt=n("ade3"),At=function(){function t(e){Object(s["a"])(this,t),this.lexer=e;var n=e.next();if(n.done)throw new Error("Unexpected end of token");this.lookahead=n.value}return Object(l["a"])(t,[{key:"match",value:function(t){if(-1===t.indexOf(this.lookahead[0]))throw new Error("Unexpected token ".concat(this.lookahead[1]))}},{key:"consume",value:function(){var t=this.lookahead,e=this.lexer.next();if(e.done)throw new Error("Unexpected end of token");return this.lookahead=e.value,t}}]),t}(),Lt=function(t){function e(t){return Object(s["a"])(this,e),Object(h["a"])(this,Object(c["a"])(e).call(this,t))}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"parse",value:function(){var t=this.parseGraph();return this.match([Ct.EOF]),t}},{key:"parseGraph",value:function(){var t=!1;this.lookahead[0]===Ct.STRICT&&(t=!0,this.consume()),this.match([Ct.DIGRAPH,Ct.GRAPH]);var e,n=this.consume()[0]===Ct.DIGRAPH;this.lookahead[0]===Ct.ID&&(e=this.consume()[1]),this.match([Ct.LCURLY]),this.consume();var i=[];while(this.lookahead[0]!==Ct.RCURLY){var r=this.parseStmt();i.push.apply(i,Object(_["a"])(r))}return this.consume(),{type:"graph",strict:t,directed:n,id:e,children:i}}},{key:"parseStmt",value:function(){var t=[];switch(this.lookahead[0]){case Ct.GRAPH:this.consume(),t.push({type:"graphAttr",attrs:this.parseAttrs()});break;case Ct.NODE:this.consume(),t.push({type:"nodeAttr",attrs:this.parseAttrs()});break;case Ct.EDGE:this.consume(),t.push({type:"edgeAttr",attrs:this.parseAttrs()});break;case Ct.SUBGRAPH:case Ct.LCURLY:t=[this.parseSubgraph()];break;default:var e=this.parseNodeId();switch(this.lookahead[0]){case Ct.EDGE_OP:this.consume();var n=[e,this.parseNodeId()];while(this.lookahead[0]===Ct.EDGE_OP)this.consume(),n.push(this.parseNodeId());for(var i=this.parseAttrs(),r=0;r<n.length-1;++r)t.push({type:"edge",from:n[r],to:n[r+1],attrs:i});break;case Ct.EQUAL:this.consume();var o=this.parseId();t.push({type:"graphAttr",attrs:Object(Bt["a"])({},e.id,o)});break;default:var a=this.parseAttrs();t.push({type:"node",id:e,attrs:a})}break}return this.lookahead[0]===Ct.SEMI&&this.consume(),t}},{key:"parseAttrs",value:function(){var t={};while(this.lookahead[0]===Ct.LSQUARE){this.consume();while(this.lookahead[0]!==Ct.RSQUARE){var e=this.parseAttr(),n=Object(C["a"])(e,2),i=n[0],r=n[1];t[i]=r,this.lookahead[0]!==Ct.COMMA&&this.lookahead[0]!==Ct.SEMI||this.consume()}this.consume()}return t}},{key:"parseAttr",value:function(){var t=this.parseId(),e="true";return this.lookahead[0]===Ct.EQUAL&&(this.consume(),e=this.parseId()),[t,e]}},{key:"parseSubgraph",value:function(){var t,e=[];if(this.lookahead[0]===Ct.SUBGRAPH&&(this.consume(),this.lookahead[0]===Ct.ID&&(t=this.consume()[1])),this.lookahead[0]===Ct.LCURLY){this.consume();while(this.lookahead[0]!==Ct.RCURLY){var n=this.parseStmt();e.push.apply(e,Object(_["a"])(n))}this.consume()}return{type:"subgraph",id:t,children:e}}},{key:"parseNodeId",value:function(){var t,e,n=this.parseId();if(this.lookahead[0]===Ct.COLON&&(this.consume(),t=this.parseId(),this.lookahead[0]===Ct.COLON&&(this.consume(),e=this.parseId(),-1===["n","ne","e","se","s","sw","w","nw","c","_"].indexOf(e))))throw new Error("Error compass");return{id:n,port:t,compass:e}}},{key:"parseId",value:function(){return this.match([Ct.ID]),this.consume()[1]}}]),e}(At);n("159b"),n("acd8"),n("cc71");function Dt(t,e,n){var i=0,r=0,o=0,a=Math.floor(6*t),s=6*t-a,l=n*(1-e),h=n*(1-s*e),c=n*(1-(1-s)*e);switch(a%6){case 0:i=n,r=c,o=l;break;case 1:i=h,r=n,o=l;break;case 2:i=l,r=n,o=c;break;case 3:i=l,r=h,o=n;break;case 4:i=c,r=l,o=n;break;case 5:i=n,r=l,o=h;break}return[i,r,o]}(function(t){t[t["BOLD"]=1]="BOLD",t[t["ITALIC"]=2]="ITALIC",t[t["UNDERLINE"]=4]="UNDERLINE",t[t["SUPERSCRIPT"]=8]="SUPERSCRIPT",t[t["SUBSCRIPT"]=16]="SUBSCRIPT",t[t["STRIKE_THROUGH"]=32]="STRIKE_THROUGH",t[t["OVERLINE"]=64]="OVERLINE"})(Rt||(Rt={}));var It=function(){function t(e){Object(s["a"])(this,t),this.pen={color:[0,0,0,1],fillcolor:[0,0,0,1],linewidth:1,fontsize:14,fontname:"Times-Roman",bold:!1,italic:!1,underline:!1,superscript:!1,subscript:!1,strikethrough:!1,overline:!1,dash:[]},this.input=e,this.pos=0}return Object(l["a"])(t,[{key:"parse",value:function(){var t=[];while(this.pos<this.input.length){var e=this.readCode();switch(e){case"c":this.pen.color=this.readColor();break;case"C":this.pen.fillcolor=this.readColor();break;case"S":var n=this.readText();if(n.startsWith("setlinewidth")){var i=n.split("(")[1].split(")")[0];this.pen.linewidth=parseFloat(i)}else{if(-1===["solid","dashed","dotted"].indexOf(n))throw new Error("Unknown line style");this.pen.dash="solid"===n?[]:"dashed"===n?[6]:[2,4]}break;case"F":this.pen.fontsize=this.readFloat(),this.pen.fontname=this.readText();break;case"T":var r=this.readPoint(),o=Object(C["a"])(r,2),a=o[0],s=o[1],l=this.readInt();if(-1===[-1,0,1].indexOf(l))throw new Error("Wrong centering parameter");var h=this.readFloat(),c=this.readText();t.push({is:"xdot",type:"text",pen:Object.assign({},this.pen),x:a,y:s,centering:l,width:h,text:c});break;case"t":var d=this.readInt();this.pen.bold=!!(d&Rt.BOLD),this.pen.italic=!!(d&Rt.ITALIC),this.pen.underline=!!(d&Rt.UNDERLINE),this.pen.superscript=!!(d&Rt.SUPERSCRIPT),this.pen.subscript=!!(d&Rt.SUBSCRIPT),this.pen.strikethrough=!!(d&Rt.STRIKE_THROUGH),this.pen.overline=!!(d&Rt.OVERLINE);break;case"E":case"e":var u=this.readPoint(),p=Object(C["a"])(u,2),f=p[0],g=p[1],y=this.readFloat(),v=this.readFloat();"E"===e&&t.push({is:"xdot",type:"ellipse",pen:Object.assign({},this.pen),x:f,y:g,width:y,height:v,filled:!0}),t.push({is:"xdot",type:"ellipse",pen:Object.assign({},this.pen),x:f,y:g,width:y,height:v,filled:!1});break;case"L":var b=this.readPolygon();t.push({is:"xdot",type:"line",pen:Object.assign({},this.pen),points:b});break;case"B":case"b":var m=this.readPolygon();"b"===e&&t.push({is:"xdot",type:"bezier",pen:Object.assign({},this.pen),points:JSON.parse(JSON.stringify(m)),filled:!0}),t.push({is:"xdot",type:"bezier",pen:Object.assign({},this.pen),points:m,filled:!1});break;case"P":case"p":var w=this.readPolygon();"P"===e&&t.push({is:"xdot",type:"polygon",pen:Object.assign({},this.pen),points:JSON.parse(JSON.stringify(w)),filled:!0}),t.push({is:"xdot",type:"polygon",pen:Object.assign({},this.pen),points:w,filled:!1});break;case"I":var x=this.readPoint(),k=Object(C["a"])(x,2),S=k[0],_=k[1],O=this.readFloat(),T=this.readFloat(),j=this.readText();t.push({is:"xdot",type:"image",pen:Object.assign({},this.pen),x:S,y:_,width:O,height:T,path:j});break;default:throw new Error("Unknown operation code ".concat(e))}}return t}},{key:"readCode",value:function(){var t=this.input.indexOf(" ",this.pos);if(-1===t)throw new Error("Unexpected ending of xdot attribute");var e=this.input.slice(this.pos,t);return this.pos=t+1,this.skipSpace(),e}},{key:"skipSpace",value:function(){while(this.pos<this.input.length&&" "===this.input[this.pos])++this.pos}},{key:"readInt",value:function(){return parseInt(this.readCode(),10)}},{key:"readFloat",value:function(){return parseFloat(this.readCode())}},{key:"readPoint",value:function(){var t=this.readFloat(),e=this.readFloat();return[t,e]}},{key:"readText",value:function(){var t=this.readInt(),e=this.input.indexOf("-",this.pos)+1;this.pos=e+t;var n=this.input.slice(e,this.pos);return this.skipSpace(),n}},{key:"readPolygon",value:function(){for(var t=this.readInt(),e=[],n=0;n<t;++n)e.push(this.readPoint());return e}},{key:"readColor",value:function(){var t=this.readText(),e=t[0];if("#"===e){var n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16),o=t.length>=9?parseInt(t.slice(7,9),16)/255:1;return[n,i,r,o]}if(e>="0"&&e<="9"||"."===e){var a=t.replace(/,/g," ").split(/\s+/);if(3!==a.length)throw new Error("Wrong HSV color");var s=a.map(parseFloat),l=Object(C["a"])(s,3),h=l[0],c=l[1],d=l[2],u=Dt(h,c,d),p=Object(C["a"])(u,3),f=p[0],g=p[1],y=p[2];return[f,g,y,1]}throw new Error("Unsupported color")}}]),t}();function Ft(t){function e(t,n,i,r){switch(t.type){case"graph":case"subgraph":var o=Object.assign({},n),a=Object.assign({},i),s=Object.assign({},r);t.entities=[];var l=!0,h=!1,c=void 0;try{for(var d,u=t.children[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;switch(p.type){case"graphAttr":Object.assign(o,p.attrs);break;case"nodeAttr":Object.assign(a,p.attrs);break;case"edgeAttr":Object.assign(s,p.attrs);break;default:t.entities.push(p),e(p,o,a,s);break}}}catch(f){h=!0,c=f}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}t.computedAttrs=o;break;case"node":case"edge":t.computedAttrs=Object.assign({},i,t.attrs);break;default:throw new Error("Should not reach here")}}e(t,{},{},{})}function Ht(t){function e(t){switch(t.type){case"graph":case"subgraph":if(t.computedAttrs)for(var n=t.id&&t.id.startsWith("cluster"),i=0,r=n?["_draw_","_ldraw_"]:["_ldraw_"];i<r.length;i++){var o=r[i];if(t.computedAttrs[o]){var a=new It(t.computedAttrs[o]),s=a.parse();t.shapes=t.shapes||{},t.shapes[o]=s}}if(t.entities){var l=!0,h=!1,c=void 0;try{for(var d,u=t.entities[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var p=d.value;e(p)}}catch(_){h=!0,c=_}finally{try{l||null==u.return||u.return()}finally{if(h)throw c}}}break;case"node":if(t.computedAttrs)for(var f=0,g=["_draw_","_ldraw_"];f<g.length;f++){var y=g[f];if(t.computedAttrs[y]){var v=new It(t.computedAttrs[y]),b=v.parse();t.shapes=t.shapes||{},t.shapes[y]=b}}break;case"edge":if(t.computedAttrs)for(var m=0,w=["_draw_","_ldraw_","_hdraw_","_tdraw_","_hldraw_","_tldraw_"];m<w.length;m++){var x=w[m];if(t.computedAttrs[x]){var k=new It(t.computedAttrs[x]),S=k.parse();t.shapes=t.shapes||{},t.shapes[x]=S}}break;default:throw new Error("Should not reach here")}}e(t)}function Wt(t){function e(t){t.boundingBox&&(t.boundingBox=[t.boundingBox[0],-t.boundingBox[3],t.boundingBox[2],-t.boundingBox[1]]),t.shapes&&Object.keys(t.shapes).forEach((function(e){var n=t.shapes[e];n.forEach((function(t){switch(t.type){case"text":case"ellipse":case"image":t.y*=-1;break;case"bezier":case"line":case"polygon":t.points.forEach((function(t){return t[1]*=-1}));break;default:throw new Error("Should not reach here")}}))})),"graph"!==t.type&&"subgraph"!==t.type||!t.entities||t.entities.forEach((function(t){e(t)}))}e(t)}function Gt(t){function e(t){switch(t.type){case"node":return{type:"node",shape:"xdot",id:t.id.id,xdotId:t.id,attrs:t.computedAttrs||{},shapes:t.shapes,boundingBox:t.boundingBox};case"edge":return{type:"edge",shape:"xdot",from:t.from.port?"".concat(t.from.id,":").concat(t.from.port):t.from.id,to:t.to.port?"".concat(t.to.id,":").concat(t.to.port):t.to.id,xdotFrom:t.from,xdotTo:t.to,attrs:t.computedAttrs||{},shapes:t.shapes};case"graph":return{type:"graph",id:t.id||"",shape:"xdot",strict:t.strict,directed:t.directed,children:(t.entities||[]).map((function(t){return e(t)})),layout:{type:"none"},physics:{type:"none"},component:{type:"none"},attrs:t.computedAttrs||{},shapes:t.shapes,boundingBox:t.boundingBox};case"subgraph":return{type:"graph",id:t.id||"",shape:"xdot",children:(t.entities||[]).map((function(t){return e(t)})),layout:{type:"none"},physics:{type:"none"},component:{type:"none"},attrs:t.computedAttrs||{},shapes:t.shapes,boundingBox:t.boundingBox};default:throw new Error("Should not reach here")}}return e(t)}function Ut(t){for(var e=Object(C["a"])(t[0],2),n=e[0],i=e[1],r=n,o=i,a=1;a<t.length;++a){var s=Object(C["a"])(t[a],2),l=s[0],h=s[1],c=[Math.min(n,l),Math.max(r,l)];n=c[0],r=c[1];var d=[Math.min(i,h),Math.max(o,h)];i=d[0],o=d[1]}return[n,i,r,o]}function Yt(t,e){switch(t.type){case"text":e.font="".concat(t.pen.fontsize,"px ").concat(t.pen.fontname),e.textBaseline="alphabetic";var n=e.measureText(t.text);return[t.x-.5*(1+t.centering)*t.width,t.y-n.actualBoundingBoxDescent,t.x+.5*(1-t.centering)*t.width,t.y+n.actualBoundingBoxAscent];case"polygon":var i=Ut(t.points),r=Object(C["a"])(i,4),o=r[0],a=r[1],s=r[2],l=r[3],h=t.filled?0:t.pen.linewidth/2;return[o-h,a-h,s+h,l+h];case"ellipse":var c=t.filled?0:t.pen.linewidth/2,d=t.width+c,u=t.height+c;return[t.x-d,t.y-u,t.x+d,t.y+u];default:return[1/0,1/0,-1/0,-1/0]}}function Jt(t,e){function n(t){switch(t.type){case"graph":case"subgraph":if(t.computedAttrs&&t.computedAttrs.bb&&(t.boundingBox=t.computedAttrs.bb.split(",").map((function(t){return parseInt(t,10)})),t.entities)){var i=!0,r=!1,o=void 0;try{for(var a,s=t.entities[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n(l)}}catch(d){r=!0,o=d}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}break;case"node":if(t.shapes){var h,c=(h=[]).concat.apply(h,Object(_["a"])(Object.keys(t.shapes).map((function(n){return t.shapes[n].map((function(t){return Yt(t,e)}))}))));t.boundingBox=[Math.min.apply(Math,Object(_["a"])(c.map((function(t){return t[0]})))),Math.min.apply(Math,Object(_["a"])(c.map((function(t){return t[1]})))),Math.max.apply(Math,Object(_["a"])(c.map((function(t){return t[2]})))),Math.max.apply(Math,Object(_["a"])(c.map((function(t){return t[3]}))))]}break;case"edge":break;default:throw new Error("Should not reach here")}}n(t)}function Xt(t,e,n){function i(t){t.boundingBox&&(t.boundingBox=[t.boundingBox[0]+e,t.boundingBox[1]+n,t.boundingBox[2]+e,t.boundingBox[3]+n]),t.shapes&&Object.keys(t.shapes).forEach((function(i){var r=t.shapes[i];r.forEach((function(t){switch(t.type){case"text":case"ellipse":case"image":t.x+=e,t.y+=n;break;case"bezier":case"line":case"polygon":t.points.forEach((function(t){t[0]+=e,t[1]+=n}));break;default:throw new Error("Should not reach here")}}))})),"graph"!==t.type&&"subgraph"!==t.type||!t.entities||t.entities.forEach((function(t){i(t)}))}i(t)}var $t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Kt(t){for(var e="",n=0;n<t;++n)e+=$t[Math.floor(Math.random()*$t.length)];return e}function qt(){return Kt(16)}function Vt(t){return t=t.replace(/\\n/g,"\n"),t=t.replace(/\\r/g,"\r"),t=t.replace(/\\t/g,"\t"),t=t.replace(/\\'/g,"'"),t=t.replace(/\\"/g,'"'),t=t.replace(/&gamma;/g,"γ"),t}function Qt(t){var e=t.length-1;while(e>=0&&t[e]>="0"&&t[e]<="9")--e;return t.slice(0,e+1)}var Zt={json:function(t){return JSON.parse(t)},graphviz:function(t,e){var n=new Mt,i=new Lt(n.scan(t)),r=i.parse();function o(t){var e={type:"node",shape:"box",id:qt(),label:t.id.id};if(t.id&&(e.id=Vt(t.id.id)),t.computedAttrs&&(void 0!==t.computedAttrs.label&&(e.label=Vt(t.computedAttrs.label)),void 0!==t.computedAttrs.style&&(e.style=t.computedAttrs.style),void 0!==t.computedAttrs.color&&(e.strokeColor=Qt(t.computedAttrs.color)),void 0!==t.computedAttrs.fillcolor&&(e.fillColor=Qt(t.computedAttrs.fillcolor)),void 0!==t.computedAttrs.shape)){var n=t.computedAttrs.shape;e.shape="none"===n?"table":n}return e}function a(t){var n=!0,i={type:"graph",shape:"box",id:qt(),component:{type:"linear",direction:"TD"},layout:e&&"none"===e.initialLayout?{type:"none"}:{type:"KamadaKawai",preferredEdgeDirection:90},physics:{type:e&&e.physicsLayout||"BarnesHut"},children:[]};if(t.id&&(i.id=t.id),t.computedAttrs){if(void 0!==t.computedAttrs.label&&(i.label=Vt(t.computedAttrs.label)),void 0!==t.computedAttrs.rankdir){var r=t.computedAttrs.rankdir;i.component&&"linear"===i.component.type&&(i.component.direction={LR:"TD",TB:"LR",RL:"TD",BT:"LR"}[r]),i.layout&&"KamadaKawai"===i.layout.type&&(i.layout.preferredEdgeDirection={LR:0,TB:90,RL:180,BT:279}[r],n=!("LR"===r||"RL"===r))}t.id&&t.id.startsWith("cluster")&&(void 0!==t.computedAttrs.style&&(i.style=t.computedAttrs.style),void 0!==t.computedAttrs.color&&(i.strokeColor=Qt(t.computedAttrs.color)),void 0!==t.computedAttrs.fillcolor&&(i.fillColor=Qt(t.computedAttrs.fillcolor)))}if(e&&void 0!==e.preferredEdgeDirection&&i.layout&&"KamadaKawai"===i.layout.type&&(i.layout.preferredEdgeDirection=e.preferredEdgeDirection),e&&void 0!==e.componentLayout&&"default"!==e.componentLayout&&i.component&&"linear"===i.component.type&&(i.component.direction={linearLR:"LR",linearRL:"RL",linearTD:"TD",linearDT:"DT"}[e.componentLayout]),t.entities){var s=!0,l=!1,h=void 0;try{for(var c,d=t.entities[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value;switch(u.type){case"node":var p=o(u);"record"===p.shape&&(p.direction=n?"horizontal":"vertical"),i.children.push(p);break;case"edge":var f={type:"edge",shape:e&&e.edgeType||"quadratic",id:qt(),from:u.from.id+(u.from.port?":"+u.from.port:""),to:u.to.id+(u.to.port?":"+u.to.port:"")};i.children.push(f);break;case"subgraph":i.children.push(a(u));break;default:throw new Error("Unknown child type")}}}catch(g){l=!0,h=g}finally{try{s||null==d.return||d.return()}finally{if(l)throw h}}}return i}return Ft(r),a(r)},xdot:function(t,e){var n=new Mt,i=new Lt(n.scan(t)),r=i.parse();if(Ft(r),Ht(r),Jt(r,vt.ctx),Wt(r),r.boundingBox){var o=-.5*(r.boundingBox[0]+r.boundingBox[2]),a=-.5*(r.boundingBox[1]+r.boundingBox[3]);Xt(r,o,a)}return Gt(r)}},te='digraph stdThreadJoin {\nlabel=" VFG of stdThreadJoin"\ngraph [rankdir="LR"]\nsubgraph cluster_input {\nlabel="Inputs"\nstyle=filled\ncolor=black\nfillcolor=darkolivegreen1\nN912 [label="N912\\n[arg:stdThreadJoin_0]", style=filled, fillcolor="cyan3", shape=box]\nN913 [label="N913\\n[arg:stdThreadJoin_0]*", style=filled, fillcolor="cyan3", shape=box]\n} # end of input\nsubgraph cluster_output {\nlabel="Outputs"\nstyle=filled\ncolor=black\nfillcolor=goldenrod1\nN940 [label="N940\\n_", style=filled, fillcolor="cornflowerblue", shape=box]\n} # end of output\n# body nodes\nN919 [label="N919\\n&dummy", style=filled, fillcolor="cyan3", shape=box]\nN925 [label="N925\\n0", style=filled, fillcolor="lightgrey", shape=box]\nN926 [label=<<table  border=\'0\' cellspacing=\'0\'><tr><td port=\'top\' bgcolor=\'palegreen\' border=\'1\'>N926(%6)<br/>getelementptr</td></tr><tr><td port=\'op_1\' border=\'1\'>N912</td></tr><tr><td port=\'op_2\' border=\'1\'>N925</td></tr><tr><td port=\'op_3\' border=\'1\'>N925</td></tr></table>>, shape=none]\nN927 [label="N927\\nDEREF", style=filled, fillcolor="gainsboro", shape=box]\nN928 [label="N928\\nstdThreadJoin::6*", style=filled, fillcolor="cyan3", shape=box]\nN930 [label="N930\\n[arg:_pthread_join_0]", style=filled, fillcolor="cornflowerblue", shape=box]\nN931 [label="N931\\n[arg:_pthread_join_1]", style=filled, fillcolor="cornflowerblue", shape=box]\nN932 [label="N932\\nstdThreadJoin::8", style=filled, fillcolor="cyan3", shape=box]\nN933 [label=<<table  border=\'0\' cellspacing=\'0\'><tr><td port=\'top\' bgcolor=\'palegreen\' border=\'1\'>N933(%9)<br/>icmp ne</td></tr><tr><td port=\'op_1\' border=\'1\'>N925</td></tr><tr><td port=\'op_2\' border=\'1\'>N932</td></tr></table>>, shape=none]\nN934 [label="N934\\n1", style=filled, fillcolor="lightgrey", shape=box]\nN937 [label="N937\\n&gamma;", style=filled, fillcolor="darksalmon", shape=box]\n# proxy\nP595 [label="",style=filled,color=crimson,fillcolor=crimson,shape=circle,height=0.05,width=0.05]\nP596 [label="",style=filled,color=crimson,fillcolor=crimson,shape=circle,height=0.05,width=0.05]\n# end of body\nN937 -> N940\nN912 -> N926:op_1\nN925 -> N926:op_2\nN925 -> N926:op_3\nN926:top -> N927\nN928 -> N930\nN919 -> N931\nN925 -> N933:op_1\nN932 -> N933:op_2\nN925 -> P595 [arrowhead=none]\nP595 -> N937\nN933:top -> P595 [label="N933",style=dotted,color=crimson]\nN934 -> P596 [arrowhead=none]\nP596 -> N937\nN933:top -> P596 [label="!(N933)",style=dotted,color=crimson]\nCS_31 [shape=record,style=bold,label="_pthread_join | { {<cs_id_in_0> N930 | <cs_id_in_1> N931} | {<cs_id_out_0> N932} }"]\nN930 -> CS_31:cs_id_in_0\nN931 -> CS_31:cs_id_in_1\nCS_31:cs_id_out_0 -> N932\n}\n',ee='{\n  "type": "graph",\n  "id": "stdThreadJoin",\n  "label": "VFG of stdThreadJoin",\n  "layout": {\n    "type": "KamadaKawai",\n    "springLength": 150,\n    "direction": "LR",\n    "preferredEdgeDirection": 0\n  },\n  "children": [\n    {\n      "type": "graph",\n      "id": "cluster_input",\n      "label": "Inputs",\n      "style": "filled",\n      "fillColor": "darkolivegreen",\n      "strokeWidth": 1,\n      "strokeColor": "black",\n      "children": [\n        {\n          "type": "node",\n          "id": "N912",\n          "label": "N912\\n[arg:stdThreadJoin_0]",\n          "style": "filled",\n          "fillColor": "cyan",\n          "shape": "box"\n        },\n        {\n          "type": "node",\n          "id": "N913",\n          "label": "N913\\n[arg:stdThreadJoin_0]*",\n          "style": "filled",\n          "fillColor": "cyan",\n          "shape": "box"\n        }\n      ]\n    },\n    {\n      "type": "graph",\n      "id": "cluster_output",\n      "label": "Outputs",\n      "style": "filled",\n      "fillColor": "goldenrod",\n      "strokeWidth": 1,\n      "strokeColor": "black",\n      "children": [\n        {\n          "type": "node",\n          "id": "N940",\n          "label": "N940\\n_",\n          "style": "filled",\n          "fillColor": "cornflowerblue",\n          "shape": "box"\n        }\n      ]\n    },\n    {\n      "type": "node",\n      "id": "N919",\n      "label": "N919\\n&dummy",\n      "style": "filled",\n      "fillColor": "cyan",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "N925",\n      "label": "N925\\n0",\n      "style": "filled",\n      "fillColor": "lightgrey",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "N926",\n      "label": "<table  border=\'0\' cellspacing=\'0\'><tr><td port=\'top\' bgcolor=\'palegreen\' border=\'1\'>N926(%6)<br/>getelementptr</td></tr><tr><td port=\'op_1\' border=\'1\'>N912</td></tr><tr><td port=\'op_2\' border=\'1\'>N925</td></tr><tr><td port=\'op_3\' border=\'1\'>N925</td></tr></table>",\n      "shape": "table"\n    },\n    {\n      "type": "node",\n      "id": "N927",\n      "label": "N927\\nDEREF",\n      "style": "filled",\n      "fillColor": "gainsboro",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "N928",\n      "label": "N928\\nstdThreadJoin::6*",\n      "style": "filled",\n      "fillColor": "cyan",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "N930",\n      "label": "N930\\n[arg:_pthread_join_0]",\n      "style": "filled",\n      "fillColor": "cornflowerblue",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "N931",\n      "label": "N931\\n[arg:_pthread_join_1]",\n      "style": "filled",\n      "fillColor": "cornflowerblue",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "N932",\n      "label": "N932\\nstdThreadJoin::8",\n      "style": "filled",\n      "fillColor": "cyan",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "N933",\n      "label": "<table  border=\'0\' cellspacing=\'0\'><tr><td port=\'top\' bgcolor=\'palegreen\' border=\'1\'>N933(%9)<br/>icmp ne</td></tr><tr><td port=\'op_1\' border=\'1\'>N925</td></tr><tr><td port=\'op_2\' border=\'1\'>N932</td></tr></table>",\n      "shape": "table"\n    },\n    {\n      "type": "node",\n      "id": "N934",\n      "label": "N934\\n1",\n      "style": "filled",\n      "fillColor": "lightgrey",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "N937",\n      "label": "N937\\n&gamma;",\n      "style": "filled",\n      "fillColor": "darksalmon",\n      "shape": "box"\n    },\n    {\n      "type": "node",\n      "id": "P595",\n      "label": "",\n      "style": "filled",\n      "color": "crimson",\n      "fillColor": "crimson",\n      "shape": "circle",\n      "radius": 0.025\n    },\n    {\n      "type": "node",\n      "id": "P596",\n      "label": "",\n      "style": "filled",\n      "color": "crimson",\n      "fillColor": "crimson",\n      "shape": "circle",\n      "radius": 0.025\n    },\n    {\n      "type": "edge",\n      "from": "N937",\n      "to": "N940"\n    },\n    {\n      "type": "edge",\n      "from": "N912",\n      "to": "N926:op_1"\n    },\n    {\n      "type": "edge",\n      "from": "N925",\n      "to": "N926:op_2"\n    },\n    {\n      "type": "edge",\n      "from": "N925",\n      "to": "N926:op_3"\n    },\n    {\n      "type": "edge",\n      "from": "N926:top",\n      "to": "N927"\n    },\n    {\n      "type": "edge",\n      "from": "N928",\n      "to": "N930"\n    },\n    {\n      "type": "edge",\n      "from": "N919",\n      "to": "N931"\n    },\n    {\n      "type": "edge",\n      "from": "N925",\n      "to": "N933:op_1"\n    },\n    {\n      "type": "edge",\n      "from": "N932",\n      "to": "N933:op_2"\n    },\n    {\n      "type": "edge",\n      "from": "N925",\n      "to": "P595",\n      "arrowHead": "none"\n    },\n    {\n      "type": "edge",\n      "from": "P595",\n      "to": "N937"\n    },\n    {\n      "type": "edge",\n      "from": "N933:top",\n      "to": "P595",\n      "label": "N933",\n      "style": "dotted",\n      "color": "crimson"\n    },\n    {\n      "type": "edge",\n      "from": "N934",\n      "to": "P596",\n      "arrowHead": "none"\n    },\n    {\n      "type": "edge",\n      "from": "P596",\n      "to": "N937"\n    },\n    {\n      "type": "edge",\n      "from": "N933:top",\n      "to": "P596",\n      "label": "!(N933)",\n      "style": "dotted",\n      "color": "crimson"\n    },\n    {\n      "type": "node",\n      "id": "CS_31",\n      "shape": "record",\n      "style": "bold",\n      "direction": "vertical",\n      "label": "_pthread_join | { {<cs_id_in_0> N930 | <cs_id_in_1> N931} | {<cs_id_out_0> N932} }"\n    },\n    {\n      "type": "edge",\n      "from": "N930",\n      "to": "CS_31:cs_id_in_0"\n    },\n    {\n      "type": "edge",\n      "from": "N931",\n      "to": "CS_31:cs_id_in_1"\n    },\n    {\n      "type": "edge",\n      "from": "CS_31:cs_id_out_0",\n      "to": "N932"\n    }\n  ]\n}\n',ne='{\n  "type": "node",\n  "id": "N926",\n  "label": "hello\\\\nworld |{ b |{c|<here> d|e}| f}| g | h",\n  "shape": "record"\n}\n',ie='{\n  "type": "graph",\n  "id": "stdThreadJoin",\n  "label": "VFG of stdThreadJoin",\n  "layout": {\n    "type": "KamadaKawai",\n    "springLength": 150\n  },\n  "component": {\n    "direction": "LR"\n  },\n  "children": [\n    {\n      "type": "graph",\n      "id": "cluster_input",\n      "component": {\n        "direction": "TD"\n      },\n      "label": "Inputs",\n      "style": "filled",\n      "fillColor": "darkolivegreen",\n      "strokeWidth": 1,\n      "strokeColor": "black",\n      "children": [\n        {\n          "type": "node",\n          "id": "N921",\n          "label": "N912\\n[arg:stdThreadJoin_0]",\n          "style": "filled",\n          "fillColor": "cyan",\n          "shape": "box"\n        },\n        {\n          "type": "node",\n          "id": "N913",\n          "label": "N913\\n[arg:stdThreadJoin_0]*",\n          "style": "filled",\n          "fillColor": "cyan",\n          "shape": "box"\n        }\n      ]\n    },\n    {\n      "type": "graph",\n      "id": "cluster_output",\n      "label": "Outputs",\n      "style": "filled",\n      "fillColor": "goldenrod",\n      "strokeWidth": 1,\n      "strokeColor": "black",\n      "children": [\n        {\n          "type": "node",\n          "id": "N940",\n          "label": "N940\\n_",\n          "style": "filled",\n          "fillColor": "cornflowerblue",\n          "shape": "box"\n        }\n      ]\n    }\n  ]\n}\n',re="digraph icosahedron {\n  0;1;2;3;4;5;6;7;8;9;10;11\n  0->1\n  1->2\n  2->0\n  0->3\n  3->2\n  3->4\n  4->0\n  4->5\n  5->0\n  5->1\n  1->8\n  8->5\n  5->7\n  7->4\n  4->6\n  6->3\n  3->10\n  10->2\n  2->9\n  9->1\n  8->9\n  9->10\n  10->6\n  6->7\n  7->8\n  11->8\n  11->9\n  11->10\n  11->6\n  11->7\n}\n",oe='{\n  "type": "node",\n  "id": "N926",\n  "label": "<TABLE BORDER=\\"1\\" CELLBORDER=\\"1\\" CELLSPACING=\\"2\\" CELLPADDING=\\"4\\"><TR><TD ROWSPAN=\\"3\\"><FONT COLOR=\\"red\\">hello</FONT><BR/>world</TD><TD COLSPAN=\\"3\\">b</TD><TD ROWSPAN=\\"3\\" BGCOLOR=\\"lightgrey\\">g</TD><TD ROWSPAN=\\"3\\">h</TD></TR><TR><TD>c</TD><TD PORT=\\"here\\">d</TD><TD>e</TD></TR><TR><TD COLSPAN=\\"3\\">f</TD></TR></TABLE>",\n  "shape": "table"\n}\n',ae="digraph edges {\n  0\n  1\n  2\n  0 -> 1 -> 2\n}\n",se='digraph stdThreadJoin {\n\tgraph [_draw_="c 9 -#fffffe00 C 7 -#ffffff P 4 0 0 0 363 1069 363 1069 0 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 534.5 7.8 0 126 21 - VFG of stdThreadJoin ",\n\t\tbb="0,0,1069,363",\n\t\tlabel=" VFG of stdThreadJoin",\n\t\tlheight=0.21,\n\t\tlp="534.5,11.5",\n\t\tlwidth=1.75,\n\t\trankdir=LR,\n\t\txdotversion=1.7\n\t];\n\tnode [label="\\N"];\n\tsubgraph cluster_input {\n\t\tgraph [_draw_="c 7 -#000000 C 7 -#caff70 P 4 446 222 446 355 605 355 605 222 ",\n\t\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 525.5 339.8 0 34 6 -Inputs ",\n\t\t\tbb="446,222,605,355",\n\t\t\tcolor=black,\n\t\t\tfillcolor=darkolivegreen1,\n\t\t\tlabel=Inputs,\n\t\t\tlheight=0.21,\n\t\t\tlp="525.5,343.5",\n\t\t\tlwidth=0.47,\n\t\t\tstyle=filled\n\t\t];\n\t\tN912\t[_draw_="c 7 -#000000 C 7 -#00cdcd P 4 594 324 457 324 457 286 594 286 ",\n\t\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 525.5 308.8 0 31 4 -N912 F 14 11 -Times-Roman c 7 -#000000 T 525.5 293.8 0 121 21 -[arg:stdThreadJoin_\\\n0] ",\n\t\t\tfillcolor=cyan3,\n\t\t\theight=0.52778,\n\t\t\tlabel="N912\\n[arg:stdThreadJoin_0]",\n\t\t\tpos="525.5,305",\n\t\t\tshape=box,\n\t\t\tstyle=filled,\n\t\t\twidth=1.9028];\n\t\tN913\t[_draw_="c 7 -#000000 C 7 -#00cdcd P 4 597 268 454 268 454 230 597 230 ",\n\t\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 525.5 252.8 0 31 4 -N913 F 14 11 -Times-Roman c 7 -#000000 T 525.5 237.8 0 127 22 -[arg:stdThreadJoin_\\\n0]* ",\n\t\t\tfillcolor=cyan3,\n\t\t\theight=0.52778,\n\t\t\tlabel="N913\\n[arg:stdThreadJoin_0]*",\n\t\t\tpos="525.5,249",\n\t\t\tshape=box,\n\t\t\tstyle=filled,\n\t\t\twidth=1.9861];\n\t}\n\tsubgraph cluster_output {\n\t\tgraph [_draw_="c 7 -#000000 C 7 -#ffc125 P 4 991 104 991 181 1061 181 1061 104 ",\n\t\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 1026 165.8 0 43 7 -Outputs ",\n\t\t\tbb="991,104,1061,181",\n\t\t\tcolor=black,\n\t\t\tfillcolor=goldenrod1,\n\t\t\tlabel=Outputs,\n\t\t\tlheight=0.21,\n\t\t\tlp="1026,169.5",\n\t\t\tlwidth=0.60,\n\t\t\tstyle=filled\n\t\t];\n\t\tN940\t[_draw_="c 7 -#000000 C 7 -#6495ed P 4 1053 150 999 150 999 112 1053 112 ",\n\t\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 1026 134.8 0 31 4 -N940 F 14 11 -Times-Roman c 7 -#000000 T 1026 119.8 0 7 1 -_ ",\n\t\t\tfillcolor=cornflowerblue,\n\t\t\theight=0.52778,\n\t\t\tlabel="N940\\n_",\n\t\t\tpos="1026,131",\n\t\t\tshape=box,\n\t\t\tstyle=filled,\n\t\t\twidth=0.75];\n\t}\n\tN926\t[_ldraw_="S 5 -solid c 9 -#fffffe00 C 7 -#98fb98 P 4 642 288 642 324 724 324 724 288 S 5 -solid c 7 -#000000 p 4 642 288 642 324 724 324 724 \\\n288 F 14 11 -Times-Roman c 7 -#000000 T 654 309.8 -1 58 8 -N926(%6) F 14 11 -Times-Roman c 7 -#000000 T 645 294.8 -1 76 13 -getelementptr \\\nS 5 -solid c 7 -#000000 p 4 642 267 642 288 724 288 724 267 F 14 11 -Times-Roman c 7 -#000000 T 667.5 273.8 -1 31 4 -N912 S 5 -solid \\\nc 7 -#000000 p 4 642 246 642 267 724 267 724 246 F 14 11 -Times-Roman c 7 -#000000 T 667.5 252.8 -1 31 4 -N925 S 5 -solid c 7 -#\\\n000000 p 4 642 225 642 246 724 246 724 225 F 14 11 -Times-Roman c 7 -#000000 T 667.5 231.8 -1 31 4 -N925 ",\n\t\theight=1.4861,\n\t\tlabel=<<table  border=\'0\' cellspacing=\'0\'><tr><td port=\'top\' bgcolor=\'palegreen\' border=\'1\'>N926(%6)<br/>getelementptr</td></tr><tr><td port=\'op_1\' border=\'1\'>N912</td></tr><tr><td port=\'op_2\' border=\'1\'>N925</td></tr><tr><td port=\'op_3\' border=\'1\'>N925</td></tr></table>>,\n\t\tpos="683,275",\n\t\tshape=none,\n\t\twidth=1.3611];\n\tN912 -> N926:op_1\t[_draw_="c 7 -#000000 B 4 584.13 285.95 598.9 282.29 615.06 279.28 630.77 278.32 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 631.12 281.81 641 278 630.89 274.82 ",\n\t\tpos="e,641,278 584.13,285.95 598.9,282.29 615.06,279.28 630.77,278.32"];\n\tN919\t[_draw_="c 7 -#000000 C 7 -#00cdcd P 4 92.5 85 21.5 85 21.5 47 92.5 47 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 57 69.8 0 31 4 -N919 F 14 11 -Times-Roman c 7 -#000000 T 57 54.8 0 55 6 -&dummy ",\n\t\tfillcolor=cyan3,\n\t\theight=0.52778,\n\t\tlabel="N919\\n&dummy",\n\t\tpos="57,66",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=0.98611];\n\tN931\t[_draw_="c 7 -#000000 C 7 -#6495ed P 4 286 85 151 85 151 47 286 47 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 218.5 69.8 0 31 4 -N931 F 14 11 -Times-Roman c 7 -#000000 T 218.5 54.8 0 119 21 -[arg:_pthread_\\\njoin_1] ",\n\t\tfillcolor=cornflowerblue,\n\t\theight=0.52778,\n\t\tlabel="N931\\n[arg:_pthread_join_1]",\n\t\tpos="218.5,66",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=1.875];\n\tN919 -> N931\t[_draw_="c 7 -#000000 B 4 92.61 66 106.72 66 123.65 66 140.41 66 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 140.81 69.5 150.81 66 140.81 62.5 ",\n\t\tpos="e,150.81,66 92.609,66 106.72,66 123.65,66 140.41,66"];\n\tN925\t[_draw_="c 7 -#000000 C 7 -#d3d3d3 P 4 552.5 212 498.5 212 498.5 174 552.5 174 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 525.5 196.8 0 31 4 -N925 F 14 11 -Times-Roman c 7 -#000000 T 525.5 181.8 0 7 1 -0 ",\n\t\tfillcolor=lightgrey,\n\t\theight=0.52778,\n\t\tlabel="N925\\n0",\n\t\tpos="525.5,193",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=0.75];\n\tN925 -> N926:op_2\t[_draw_="c 7 -#000000 B 10 552.61 196.17 569.18 199.33 590.2 205.6 605 218 612.32 224.13 608.76 229.78 615 237 621.58 244.62 624.68 250.92 \\\n630.92 253.98 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 630.51 257.47 641 256 631.88 250.61 ",\n\t\tpos="e,641,256 552.61,196.17 569.18,199.33 590.2,205.6 605,218 612.32,224.13 608.76,229.78 615,237 621.58,244.62 624.68,250.92 630.92,\\\n253.98"];\n\tN925 -> N926:op_3\t[_draw_="c 7 -#000000 B 7 552.61 200.37 568.03 204.95 587.83 211.25 605 218 617.74 223.01 621.72 230.44 631.06 233.55 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 630.6 237.02 641 235 631.61 230.09 ",\n\t\tpos="e,641,235 552.61,200.37 568.03,204.95 587.83,211.25 605,218 617.74,223.01 621.72,230.44 631.06,233.55"];\n\tN933\t[_ldraw_="S 5 -solid c 9 -#fffffe00 C 7 -#98fb98 P 4 651 125 651 161 715 161 715 125 S 5 -solid c 7 -#000000 p 4 651 125 651 161 715 161 715 \\\n125 F 14 11 -Times-Roman c 7 -#000000 T 654 146.8 -1 58 8 -N933(%9) F 14 11 -Times-Roman c 7 -#000000 T 660.5 131.8 -1 45 7 -icmp \\\nne S 5 -solid c 7 -#000000 p 4 651 104 651 125 715 125 715 104 F 14 11 -Times-Roman c 7 -#000000 T 667.5 110.8 -1 31 4 -N925 S 5 \\\n-solid c 7 -#000000 p 4 651 83 651 104 715 104 715 83 F 14 11 -Times-Roman c 7 -#000000 T 667.5 89.8 -1 31 4 -N932 ",\n\t\theight=1.1944,\n\t\tlabel=<<table  border=\'0\' cellspacing=\'0\'><tr><td port=\'top\' bgcolor=\'palegreen\' border=\'1\'>N933(%9)<br/>icmp ne</td></tr><tr><td port=\'op_1\' border=\'1\'>N925</td></tr><tr><td port=\'op_2\' border=\'1\'>N932</td></tr></table>>,\n\t\tpos="683,122",\n\t\tshape=none,\n\t\twidth=1.1111];\n\tN925 -> N933:op_1\t[_draw_="c 7 -#000000 B 4 542.76 173.88 562.91 152.28 599.56 119.48 639.94 114.61 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 640.23 118.1 650 114 639.81 111.12 ",\n\t\tpos="e,650,114 542.76,173.88 562.91,152.28 599.56,119.48 639.94,114.61"];\n\tP595\t[_draw_="c 7 -#dc143c C 7 -#dc143c E 841.5 153 2 2 ",\n\t\tcolor=crimson,\n\t\tfillcolor=crimson,\n\t\theight=0.055556,\n\t\tlabel="",\n\t\tpos="841.5,153",\n\t\tshape=circle,\n\t\tstyle=filled,\n\t\twidth=0.055556];\n\tN925 -> P595\t[_draw_="c 7 -#000000 B 7 552.58 192.1 600.73 190.04 706.63 183.75 794 166 812.4 162.26 834.2 155.11 839.36 153.38 ",\n\t\tarrowhead=none,\n\t\tpos="552.58,192.1 600.73,190.04 706.63,183.75 794,166 812.4,162.26 834.2,155.11 839.36,153.38"];\n\tN927\t[_draw_="c 7 -#000000 C 7 -#dcdcdc P 4 871 325 812 325 812 287 871 287 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 841.5 309.8 0 31 4 -N927 F 14 11 -Times-Roman c 7 -#000000 T 841.5 294.8 0 43 5 -DEREF ",\n\t\tfillcolor=gainsboro,\n\t\theight=0.52778,\n\t\tlabel="N927\\nDEREF",\n\t\tpos="841.5,306",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=0.81944];\n\tN926:top -> N927\t[_draw_="c 7 -#000000 B 4 725 306 750.45 306 779.05 306 801.42 306 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 801.55 309.5 811.55 306 801.55 302.5 ",\n\t\tpos="e,811.55,306 725,306 750.45,306 779.05,306 801.42,306"];\n\tN928\t[_draw_="c 7 -#000000 C 7 -#00cdcd P 4 114 141 0 141 0 103 114 103 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 57 125.8 0 31 4 -N928 F 14 11 -Times-Roman c 7 -#000000 T 57 110.8 0 98 17 -stdThreadJoin::6* ",\n\t\tfillcolor=cyan3,\n\t\theight=0.52778,\n\t\tlabel="N928\\nstdThreadJoin::6*",\n\t\tpos="57,122",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=1.5833];\n\tN930\t[_draw_="c 7 -#000000 C 7 -#6495ed P 4 286 141 151 141 151 103 286 103 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 218.5 125.8 0 31 4 -N930 F 14 11 -Times-Roman c 7 -#000000 T 218.5 110.8 0 119 21 -[arg:_pthread_\\\njoin_0] ",\n\t\tfillcolor=cornflowerblue,\n\t\theight=0.52778,\n\t\tlabel="N930\\n[arg:_pthread_join_0]",\n\t\tpos="218.5,122",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=1.875];\n\tN928 -> N930\t[_draw_="c 7 -#000000 B 4 114.23 122 122.84 122 131.84 122 140.79 122 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 140.85 125.5 150.85 122 140.85 118.5 ",\n\t\tpos="e,150.85,122 114.23,122 122.84,122 131.84,122 140.79,122"];\n\tCS_31\t[_draw_="S 15 -setlinewidth(2) c 7 -#000000 p 4 323 70.5 323 139.5 417 139.5 417 70.5 c 7 -#000000 L 2 323 116.5 417 116.5 c 7 -#000000 L \\\n2 323 93.5 370 93.5 c 7 -#000000 L 2 370 70.5 370 116.5 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 370 124.3 0 76 13 -_pthread_join F 14 11 -Times-Roman c 7 -#000000 T 346.5 101.3 0 31 4 -N930 \\\nF 14 11 -Times-Roman c 7 -#000000 T 346.5 78.3 0 31 4 -N931 F 14 11 -Times-Roman c 7 -#000000 T 393.5 89.8 0 31 4 -N932 ",\n\t\theight=0.97222,\n\t\tlabel="_pthread_join | { {<cs_id_in_0> N930 | <cs_id_in_1> N931} | {<cs_id_out_0> N932} }",\n\t\tpos="370,105",\n\t\trects="323,116.5,417,139.5 323,93.5,370,116.5 323,70.5,370,93.5 370,70.5,417,116.5",\n\t\tshape=record,\n\t\tstyle=bold,\n\t\twidth=1.3056];\n\tN930 -> CS_31:cs_id_in_0\t[_draw_="c 7 -#000000 B 4 286.05 107.81 294.84 106.6 303.87 105.68 312.72 105.26 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 313.09 108.75 323 105 312.92 101.75 ",\n\t\tpos="e,323,105 286.05,107.81 294.84,106.6 303.87,105.68 312.72,105.26"];\n\tN931 -> CS_31:cs_id_in_1\t[_draw_="c 7 -#000000 B 4 286.08 79.36 294.87 80.49 303.9 81.36 312.74 81.76 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 312.92 85.27 323 82 313.08 78.27 ",\n\t\tpos="e,323,82 286.08,79.358 294.87,80.493 303.9,81.361 312.74,81.76"];\n\tN932\t[_draw_="c 7 -#000000 C 7 -#00cdcd P 4 579 112 472 112 472 74 579 74 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 525.5 96.8 0 31 4 -N932 F 14 11 -Times-Roman c 7 -#000000 T 525.5 81.8 0 91 16 -stdThreadJoin::\\\n8 ",\n\t\tfillcolor=cyan3,\n\t\theight=0.52778,\n\t\tlabel="N932\\nstdThreadJoin::8",\n\t\tpos="525.5,93",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=1.4861];\n\tN932 -> N933:op_2\t[_draw_="c 7 -#000000 B 4 579.08 93 597.84 93 619.38 93 639.78 93 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 640 96.5 650 93 640 89.5 ",\n\t\tpos="e,650,93 579.08,93 597.84,93 619.38,93 639.78,93"];\n\tN933:top -> P595\t[_draw_="S 6 -dotted c 7 -#dc143c B 4 716 143 757.78 143 807.19 148.66 829.08 151.47 ",\n\t\t_hdraw_="S 5 -solid c 7 -#dc143c C 7 -#dc143c P 3 828.9 154.97 839.28 152.83 829.83 148.03 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 772 150.8 0 31 4 -N933 ",\n\t\tcolor=crimson,\n\t\tlabel=N933,\n\t\tlp="772,154.5",\n\t\tpos="e,839.28,152.83 716,143 757.78,143 807.19,148.66 829.08,151.47",\n\t\tstyle=dotted];\n\tP596\t[_draw_="c 7 -#dc143c C 7 -#dc143c E 841.5 115 2 2 ",\n\t\tcolor=crimson,\n\t\tfillcolor=crimson,\n\t\theight=0.055556,\n\t\tlabel="",\n\t\tpos="841.5,115",\n\t\tshape=circle,\n\t\tstyle=filled,\n\t\twidth=0.055556];\n\tN933:top -> P596\t[_draw_="S 6 -dotted c 7 -#dc143c B 7 716 143 735.3 143 731.82 122.45 750 116 777.11 106.38 811.72 110.01 829.25 112.85 ",\n\t\t_hdraw_="S 5 -solid c 7 -#dc143c C 7 -#dc143c P 3 828.7 116.31 839.17 114.7 829.98 109.43 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 772 119.8 0 44 7 -!(N933) ",\n\t\tcolor=crimson,\n\t\tlabel="!(N933)",\n\t\tlp="772,123.5",\n\t\tpos="e,839.17,114.7 716,143 735.3,143 731.82,122.45 750,116 777.11,106.38 811.72,110.01 829.25,112.85",\n\t\tstyle=dotted];\n\tN934\t[_draw_="c 7 -#000000 C 7 -#d3d3d3 P 4 710 61 656 61 656 23 710 23 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 683 45.8 0 31 4 -N934 F 14 11 -Times-Roman c 7 -#000000 T 683 30.8 0 7 1 -1 ",\n\t\tfillcolor=lightgrey,\n\t\theight=0.52778,\n\t\tlabel="N934\\n1",\n\t\tpos="683,42",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=0.75];\n\tN934 -> P596\t[_draw_="c 7 -#000000 B 4 710.19 54.22 751.96 73.7 829.94 110.08 839.53 114.55 ",\n\t\tarrowhead=none,\n\t\tpos="710.19,54.219 751.96,73.701 829.94,110.08 839.53,114.55"];\n\tN937\t[_draw_="c 7 -#000000 C 7 -#e9967a P 4 962 150 908 150 908 112 962 112 ",\n\t\t_ldraw_="F 14 11 -Times-Roman c 7 -#000000 T 935 134.8 0 31 4 -N937 F 14 11 -Times-Roman c 7 -#000000 T 935 119.8 0 7 2 -γ ",\n\t\tfillcolor=darksalmon,\n\t\theight=0.52778,\n\t\tlabel="N937\\n&gamma;",\n\t\tpos="935,131",\n\t\tshape=box,\n\t\tstyle=filled,\n\t\twidth=0.75];\n\tN937 -> N940\t[_draw_="c 7 -#000000 B 4 962.22 131 970.55 131 979.91 131 988.82 131 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 988.97 134.5 998.97 131 988.97 127.5 ",\n\t\tpos="e,998.97,131 962.22,131 970.55,131 979.91,131 988.82,131"];\n\tP595 -> N937\t[_draw_="c 7 -#000000 B 4 843.53 152.75 848.97 151.45 875 145.19 897.76 139.71 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 898.66 143.1 907.57 137.36 897.02 136.29 ",\n\t\tpos="e,907.57,137.36 843.53,152.75 848.97,151.45 875,145.19 897.76,139.71"];\n\tP596 -> N937\t[_draw_="c 7 -#000000 B 4 843.53 115.18 848.94 116.13 874.77 120.64 897.45 124.61 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 897.11 128.1 907.57 126.38 898.32 121.21 ",\n\t\tpos="e,907.57,126.38 843.53,115.18 848.94,116.13 874.77,120.64 897.45,124.61"];\n\tCS_31:cs_id_out_0 -> N932\t[_draw_="c 7 -#000000 B 4 417 93 431.34 93 446.76 93 461.32 93 ",\n\t\t_hdraw_="S 5 -solid c 7 -#000000 C 7 -#000000 P 3 461.74 96.5 471.74 93 461.74 89.5 ",\n\t\tpos="e,471.74,93 417,93 431.34,93 446.76,93 461.32,93"];\n}\n',le=[{name:"stdThreadJoinGv",parser:"graphviz",content:te},{name:"stdThreadJoinJson",parser:"json",content:ee},{name:"record",parser:"json",content:ne},{name:"subgraph",parser:"json",content:ie},{name:"icosahedronGv",parser:"graphviz",content:re},{name:"table",parser:"json",content:oe},{name:"edgeGv",parser:"graphviz",content:ae},{name:"stdThreadJoinXdot",parser:"xdot",content:se}],he=n("85b1");function ce(t){return function(e,n){return{configurable:!0,enumerable:!1,value:Object(he["a"])(e[n],t)}}}var de=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(h["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.settingsOpen=!0,t.settingsWidth=300,t.minGraphWidth=150,t.minSettingsWidth=150,t.sizerMouseActive=!1,t.sizerTouchActive=!1,t.windowWidth=document.documentElement.clientWidth,t.windowHeight=document.documentElement.clientHeight,t.canvasWidth=0,t.canvasHeight=0,t.parser="json",t.rawInput="",t.parseError=null,t.parsedInput="",t.enableDraggable=!0,t.highlightMode="no",t.initialLayout="KamadaKawai",t.physicsLayout="BarnesHut",t.componentLayout="default",t.preferredDirection="right",t.edgeShape="quadratic",t.examples=le,t.rendered=[],t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"parseInput",value:function(){try{if(this.rawInput){var t=Zt[this.parser](this.rawInput,this.parserConfig);this.parsedInput=JSON.stringify(t,null,2),vt.updateData(t)}else this.parsedInput="";this.parseError=null}catch(e){console.log(e),this.parseError=e.stack}}},{key:"mounted",value:function(){var t=this;if(window.addEventListener("resize",this.getSize),this.updateCanvasSize(),vt.addEventListener("render",Object(Et["a"])((function(e){t.rendered=e}),1e3/60)),location.hash){var e=document.createElement("script");e.src=location.hash.slice(1),e.onload=function(){if(window.hasOwnProperty("externalData")){var e=window,n=e.externalData;t.rawInput=n.content,t.parser=n.parser}},document.body.append(e)}}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.getSize)}},{key:"onSettingsWidthChanged",value:function(){this.updateCanvasSize()}},{key:"onSettingsOpenChanged",value:function(){var t=this;setTimeout((function(){t.updateCanvasSize()}),300)}},{key:"onParserChanged",value:function(){switch(this.parser){case"graphviz":case"json":this.enableDraggable=!0;break;default:this.enableDraggable=!1;break}this.parseInput()}},{key:"onRawInputChanged",value:function(){this.parseInput()}},{key:"onParseConfigChanged",value:function(){this.parseInput()}},{key:"onEnableDraggableChanged",value:function(){this.$refs.graph.enableDraggable=this.enableDraggable}},{key:"onHighlightModeChanged",value:function(){vt.setHighlightMode(this.highlightMode)}},{key:"redraw",value:function(){this.parsedInput&&vt.fullyUpdateData(JSON.parse(this.parsedInput))}},{key:"selectExample",value:function(t){var e=le[t];this.parser=e.parser,this.rawInput=e.content}},{key:"inputFileChange",value:function(t){var e=this,n=t.target.files[0];if(n){switch(n.type){case"application/json":this.parser="json";break;case"text/vnd.graphviz":this.parser="graphviz";break;default:return void alert("Unknown file type")}var i=new FileReader;i.onload=function(t){e.rawInput=t.target.result},i.readAsText(n)}}},{key:"getSize",value:function(){var t=this;this.windowWidth=document.documentElement.clientWidth,this.windowHeight=document.documentElement.clientHeight,this.$nextTick((function(){return t.updateCanvasSize()}))}},{key:"updateCanvasSize",value:function(){this.canvasWidth=this.$refs.canvas.offsetWidth,this.canvasHeight=this.$refs.canvas.offsetHeight}},{key:"onMainSizerMouseDown",value:function(){this.sizerMouseActive=!0}},{key:"onMainSizerMouseUp",value:function(){this.sizerMouseActive=!1}},{key:"onMainSizerMouseMove",value:function(t){if(0===t.buttons&&(this.sizerMouseActive=!1),this.sizerMouseActive){var e=0,n=t.currentTarget;while(n)e+=n.offsetLeft,n=n.offsetParent;var i=t.pageX,r=t.currentTarget.offsetWidth,o=i-e;o>=this.minGraphWidth&&r-o>=this.minSettingsWidth&&(this.settingsWidth=Math.round(r-o))}}},{key:"onMainSizerTouchStart",value:function(){this.sizerTouchActive=!0}},{key:"onMainSizerTouchEnd",value:function(){this.sizerTouchActive=!1}},{key:"onMainSizerTouchMove",value:function(t){if(this.sizerTouchActive){var e=0,n=t.currentTarget;while(n)e+=n.offsetLeft,n=n.offsetParent;var i=t.touches[0].pageX,r=t.currentTarget.offsetWidth,o=i-e;o>=this.minGraphWidth&&r-o>=this.minSettingsWidth&&(this.settingsWidth=Math.round(r-o))}}},{key:"desktopLayout",get:function(){return this.windowWidth>719}},{key:"realSettingsWidth",get:function(){return this.desktopLayout?this.settingsWidth:this.canvasWidth}},{key:"parserConfig",get:function(){var t={default:"any",left:180,right:0,top:-90,down:90}[this.preferredDirection];return{initialLayout:this.initialLayout,physicsLayout:this.physicsLayout,componentLayout:this.componentLayout,preferredEdgeDirection:t,edgeType:this.edgeShape}}}]),e}(p["d"]);Object(u["a"])([ce(1e4/60)],de.prototype,"parseInput",null),Object(u["a"])([Object(p["e"])("settingsWidth")],de.prototype,"onSettingsWidthChanged",null),Object(u["a"])([Object(p["e"])("settingsOpen")],de.prototype,"onSettingsOpenChanged",null),Object(u["a"])([Object(p["e"])("parser")],de.prototype,"onParserChanged",null),Object(u["a"])([Object(p["e"])("rawInput")],de.prototype,"onRawInputChanged",null),Object(u["a"])([Object(p["e"])("parserConfig")],de.prototype,"onParseConfigChanged",null),Object(u["a"])([Object(p["e"])("enableDraggable")],de.prototype,"onEnableDraggableChanged",null),Object(u["a"])([Object(p["e"])("highlightMode")],de.prototype,"onHighlightModeChanged",null),de=Object(u["a"])([Object(p["a"])({components:{CollapsiblePane:x,Graph:Nt}})],de);var ue=de,pe=ue,fe=(n("7faf"),Object(m["a"])(pe,o,a,!1,null,null,null)),ge=fe.exports;i["a"].config.productionTip=!1,i["a"].component("v-icon",r["a"]),new i["a"]({render:function(t){return t(ge)}}).$mount("#app")},fe74:function(t,e,n){"use strict";var i=n("1cb3"),r=n.n(i);r.a}});
//# sourceMappingURL=app.ff7794ca.js.map