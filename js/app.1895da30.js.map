{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7970","webpack:///./src/App.vue?1f07","webpack:///./src/components/CollapsiblePane.vue?c861","webpack:///./src/components/CollapsiblePane.vue?1fa9","webpack:///./src/components/CollapsiblePane.vue?0878","webpack:///./src/components/CollapsiblePane.vue","webpack:///./src/components/Graph.vue?f682","webpack:///./src/components/renderable/Group.vue?f117","webpack:///./src/components/renderable/Group.vue?4d00","webpack:///./src/components/renderable/Group.vue?e6a0","webpack:///./src/components/renderable/Group.vue","webpack:///./src/components/Graph.vue?b1ea","webpack:///./src/components/Graph.vue?becd","webpack:///./src/components/Graph.vue","webpack:///./src/graph/base/EventEmitter.ts","webpack:///./src/graph/edge/Edge.ts","webpack:///./src/graph/base/Positioned.ts","webpack:///./src/graph/graph/layout/GraphLayout.ts","webpack:///./src/graph/graph/layout/KamadaKawaiGraphLayout.ts","webpack:///./src/graph/graph/layout/index.ts","webpack:///./src/graph/graph/type/GraphType.ts","webpack:///./src/graph/graph/type/BoxGraphType.ts","webpack:///./src/graph/graph/type/index.ts","webpack:///./src/graph/node/type/recordParser.ts","webpack:///./src/graph/base/Port.ts","webpack:///./src/graph/graph/Graph.ts","webpack:///./src/graph/node/type/NodeType.ts","webpack:///./src/graph/node/type/BoxNodeType.ts","webpack:///./src/graph/node/type/RecordCell.ts","webpack:///./src/graph/node/type/RecordNodeType.ts","webpack:///./src/graph/node/type/TableCell.ts","webpack:///./src/graph/node/type/TableNodeType.ts","webpack:///./src/graph/node/type/index.ts","webpack:///./src/graph/node/Node.ts","webpack:///./src/graph/base/renderableFactory.ts","webpack:///./src/graph/examples/stdThreadJoin.gv","webpack:///./src/graph/examples/stdThreadJoin.txt","webpack:///./src/graph/examples/record.txt","webpack:///./src/graph/examples/subgraph.txt","webpack:///./src/graph/examples/icosahedron.txt","webpack:///./src/graph/examples/table.txt","webpack:///./src/graph/Root.ts","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/components/Graph.vue?5317","webpack:///./src/components/CollapsiblePane.vue?6677"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","class","settingsOpen","on","$event","_e","_g","desktopLayout","assign","sizerMouseActive","mouseup","onMainSizerMouseUp","mousemove","onMainSizerMouseMove","sizerTouchActive","touchend","onMainSizerTouchEnd","touchmove","onMainSizerTouchMove","style","width","settingsWidth","ref","_s","parseError","canvasWidth","canvasHeight","rendered","left","onMainSizerMouseDown","onMainSizerTouchStart","inputFileChange","directives","rawName","expression","$$selectedVal","Array","filter","target","options","selected","map","val","_value","parser","multiple","redraw","_l","example","selectExample","realSettingsWidth","domProps","composing","rawInput","parsedInput","staticRenderFns","click","title","expand","animationHeight","height","_t","realHeight","content","$refs","paneContent","offsetHeight","addEventListener","transitionEnd","setTimeout","String","x","y","mousedown","wheel","mouseDragActive","layer","component","is","_b","tag","thumbnailWidth","thumbnailHeight","thumbnailMouseDragActive","thumbnailMouseup","thumbnailMousemove","thumbnailViewportBackgroundConfig","thumbnailViewportConfig","thumbnailMousedown","config","scale","mouseLastCoords","thumbnailMouseLastCoords","updateThumbnailScale","stage","getStage","draw","thumbnailFactor","thumbnailStage","e","scaleBy","evt","preventDefault","mousePointTo","getPointerPosition","deltaY","newPos","pageX","pageY","buttons","which","newCoords","oldCoords","Math","min","stroke","strokeWidth","viewport","fill","sceneFunc","ctx","shape","beginPath","moveTo","lineTo","fillStrokeShape","type","Number","required","default","events","event","listener","undefined","index","indexOf","args","root","parent","id","Edge","getId","from","to","fromNode","findPort","split","toNode","Error","fromPos","getAbsolutePosition","toPos","fromAngle","atan2","toAngle","PI","fromDistance","distanceToBorder","toDistance","points","cos","sin","position","node","graph","setEqual","a","b","size","has","newConfig","KamadaKawaiGraphLayout","defaultConfig","springLength","depth","newNodeIds","Set","getPorts","keys","newEdgeIds","getEdges","nodeIds","edgeIds","springConstant","calculateConnectedComponent","visited","components","nodes","adjacent","edges","set","add","values","nodesIndexToId","nodesIdToIndex","Map","edge","findBelongingPort","fromIndex","toIndex","initialPlaced","setPosition","random","indexToComponentIndex","distanceMatrix","Infinity","entries","tos","localFromIndex","localToIndex","k","dist","lengthMatrix","kMatrix","pow","energyMatrix","mPos","getPosition","iPos","denominator","sqrt","energySum","sum","threshold","maxIterations","max","maxInnerIterations","iterations","maxEnergy","deDx","deDy","delta","subIterations","d2eDx2","d2eDxDy","d2eDy2","factor","dx","dy","sumX","sumY","oldDx","oldDy","deltaX","componentsSize","componentsPosition","upperLeft","lowerRight","pos","getBoundingBoxSize","halfWidth","halfHeight","direction","contentSize","reduce","spaceBetween","begin","nodeIndex","children","getChildren","render","layoutFactory","layout","BoxGraphType","textSizeNeedsUpdate","label","fontSize","fontFamily","lineHeight","font","lines","textSize","measureText","layoutContentSize","getContentSize","padding","textPosition","labelPosition","borderSize","rect","fillColor","strokeColor","text","align","angle","abs","graphTypeFactory","TokenEnum","Graph","layoutClass","constructor","typeClass","graphType","newChildren","child","renderableFactory","newChild","setData","ports","graphs","renderable","solve","BoxNodeType","contentSizeNeedsUpdate","borderSizeNeedsUpdate","recordParser","record","buffer","lexer","pop","EOF","VERTICAL_BAR","LEFT_CURLY_BRACE","RIGHT_CURLY_BRACE","LEFT_ANGLE_BRACE","RIGHT_ANGLE_BRACE","STRING","parseRecordLabel","token","parseField","ret","port","tree","nodeType","isHorizontal","isField","fieldData","getConfig","cellSize","recordData","cell","RecordCell","deltaWidth","startX","setCellSize","deltaHeight","startY","RecordNodeType","contentNeedsUpdate","borderNeedsUpdate","rootCellSize","getCellSize","founded","rowSpan","columnSpan","border","getTableConfig","cellBorder","backgroundColor","attributes","attribute","toLowerCase","parseInt","getText","element","elements","join","parentConfig","tableConfig","cellPadding","rowOffset","columnOffset","TableNodeType","layoutNeedsUpdate","jsonObj","xml2js","tableElement","cellSpacing","table","rows","columns","firstRow","tr","row","td","getPort","cellSizes","cellHeight","cellWidth","rowHeight","columnWidth","accRowHeight","accColumnWidth","upperLeftX","upperLeftY","nodeTypeFactory","Node","document","createElement","getContext","newClass","emit","globalRoot","globalParsers","json","input","JSON","parse","graphviz","globalExamples","stdThreadJoin","icosahedron","minGraphWidth","minSettingsWidth","windowWidth","documentElement","clientWidth","windowHeight","clientHeight","examples","parsed","stringify","console","log","stack","getSize","updateCanvasSize","removeEventListener","parseInput","file","files","alert","reader","FileReader","onload","readAsText","$nextTick","canvas","offsetWidth","elementOffsetX","currentTarget","offsetLeft","offsetParent","mouseOffsetX","offsetX","round","touches","CollapsiblePane","productionTip","Icon","use","h","App","$mount"],"mappings":"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","file":"js/app.1895da30.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',{staticClass:\"app-header\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"Graph Visualizer\")]),_c('div',{staticClass:\"settings\"},[(_vm.desktopLayout)?_c('div',{staticClass:\"settings-item\"},[_c('span',{staticClass:\"settings-item-title\",class:{ 'setting-item-active': _vm.settingsOpen },on:{\"click\":function($event){_vm.settingsOpen = !_vm.settingsOpen}}},[_vm._v(\"\\n          \\n        \")])]):_vm._e()])]),_c('main',_vm._g({staticClass:\"main-panes\",class:{\n          'main-panes-show-sidebarmain-panes-show-sidebar': _vm.settingsOpen && _vm.desktopLayout\n        }},Object.assign({}, _vm.sizerMouseActive ? {\n          mouseup: _vm.onMainSizerMouseUp,\n          mousemove: _vm.onMainSizerMouseMove\n        } : {}, _vm.sizerTouchActive ? {\n          touchend: _vm.onMainSizerTouchEnd,\n          touchmove: _vm.onMainSizerTouchMove\n        } : {})),[_c('div',{staticClass:\"main-container main-container-graph\",class:{ 'main-container-graph-size-active':\n                    !_vm.sizerMouseActive && !_vm.sizerTouchActive},style:({\n           width: _vm.desktopLayout ? (_vm.settingsOpen ?\n                  (\"calc(100% - \" + _vm.settingsWidth + \"px)\") : '100%') : 'auto'\n         })},[_c('div',{ref:\"canvas\",staticClass:\"main-pane main-pane-graph\"},[(_vm.parseError)?_c('div',{staticClass:\"error-pane\"},[_c('pre',[_c('code',[_vm._v(_vm._s(_vm.parseError))])])]):_vm._e(),_c('Graph',{attrs:{\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight,\"data\":_vm.rendered}})],1)]),_c('transition',{attrs:{\"name\":\"sizer-slide-x\",\"duration\":300}},[(_vm.settingsOpen && _vm.desktopLayout)?_c('div',{staticClass:\"main-sizer main-client-settings-sizer\",style:({ left: (\"calc(100% - \" + _vm.settingsWidth + \"px)\") }),on:{\"mousedown\":_vm.onMainSizerMouseDown,\"touchstart\":_vm.onMainSizerTouchStart}},[_c('div',{staticClass:\"main-sizer-handlebar\"})]):_vm._e()]),_c('transition',{attrs:{\"name\":\"settings-slide-x\",\"duration\":300}},[(_vm.settingsOpen || !_vm.desktopLayout)?_c('div',{staticClass:\"main-container main-container-settings\",style:({\n             width: _vm.desktopLayout ? (_vm.settingsWidth + \"px\") : 'auto'\n           })},[_c('div',{staticClass:\"main-pane main-pane-settings\"},[_c('CollapsiblePane',{staticClass:\"main-pane-subpane\",attrs:{\"title\":\"\"}},[_c('div',{staticClass:\"settings-input-file\"},[_c('label',{attrs:{\"for\":\"input-file\"}},[_c('v-icon',{attrs:{\"name\":\"upload\",\"scale\":\"0.8\"}}),_vm._v(\"\\n              \")],1),_c('input',{attrs:{\"type\":\"file\",\"id\":\"input-file\"},on:{\"change\":_vm.inputFileChange}})]),_c('div',{staticClass:\"settings-input-format\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.parser),expression:\"parser\"}],attrs:{\"id\":\"input-format\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.parser=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"json\",\"selected\":\"\"}},[_vm._v(\"JSON\")]),_c('option',{attrs:{\"value\":\"graphviz\"}},[_vm._v(\"Graphviz\")])])]),_c('button',{staticClass:\"setting-input-redraw\",on:{\"click\":_vm.redraw}},[_c('v-icon',{attrs:{\"name\":\"sync\",\"scale\":\"0.8\"}}),_vm._v(\"\\n            \")],1),_c('div',{staticClass:\"settings-input-examples\"},[_c('span',{staticClass:\"settings-input-example-label\"},[_vm._v(\"\")]),_vm._l((_vm.examples),function(example,i){return _c('span',{key:example.name,staticClass:\"settings-input-example\",on:{\"click\":function($event){return _vm.selectExample(i)}}},[_vm._v(\"\\n                \"+_vm._s(example.name)+\"\\n              \")])})],2),_c('div',{staticClass:\"settings-input-display\",class:{ 'settings-input-display-two-column':\n                            _vm.realSettingsWidth >= 400 }},[_c('div',{staticClass:\"settings-input-raw\"},[_c('label',{attrs:{\"for\":\"input-raw\"}},[_vm._v(\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rawInput),expression:\"rawInput\"}],attrs:{\"id\":\"input-raw\",\"rows\":\"10\"},domProps:{\"value\":(_vm.rawInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.rawInput=$event.target.value}}})]),_c('div',{staticClass:\"settings-input-parsed\"},[_c('label',{attrs:{\"for\":\"input-parsed\"}},[_vm._v(\"\")]),_c('textarea',{attrs:{\"id\":\"input-parsed\",\"rows\":\"10\",\"readonly\":\"\"},domProps:{\"value\":_vm.parsedInput}})])])])],1)]):_vm._e()])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"pane-title\",on:{\"click\":_vm.click}},[_vm._v(\"\\n    \"+_vm._s(_vm.title)+\"\\n    \"),_c('v-icon',{staticClass:\"pane-arrow\",class:{ 'pane-arrow-expand': _vm.expand },attrs:{\"name\":\"angle-up\"}})],1),_c('div',{ref:\"paneContent\",staticClass:\"pane-content\",style:(_vm.animationHeight !== null ?\n               { height: _vm.animationHeight + 'px' } : {})},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'vue-awesome/icons/angle-up';\nimport { Vue, Component, Prop } from 'vue-property-decorator';\n\n@Component\nexport default class CollapsiblePane extends Vue {\n  @Prop(String) public readonly title: string | undefined;\n  private expand = true;\n  private realHeight = 0;\n  private animationHeight: number|null = null;\n  public mounted() {\n    const content = this.$refs.paneContent as HTMLElement;\n    this.realHeight = content.offsetHeight;\n    content.addEventListener('transitionend', this.transitionEnd.bind(this));\n  }\n  public click() {\n    this.expand = !this.expand;\n    if (this.expand) {\n      this.animationHeight = 0;\n      setTimeout(() => {\n        this.animationHeight = this.realHeight;\n      });\n    } else {\n      const content = this.$refs.paneContent as HTMLElement;\n      this.realHeight = content.offsetHeight;\n      this.animationHeight = this.realHeight;\n      setTimeout(() => {\n        this.animationHeight = 0;\n      });\n    }\n  }\n  public transitionEnd() {\n    if (this.animationHeight !== 0) {\n      this.animationHeight = null;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapsiblePane.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapsiblePane.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CollapsiblePane.vue?vue&type=template&id=08120549&scoped=true&\"\nimport script from \"./CollapsiblePane.vue?vue&type=script&lang=ts&\"\nexport * from \"./CollapsiblePane.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CollapsiblePane.vue?vue&type=style&index=0&id=08120549&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08120549\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"graph-container\"},[_c('v-stage',_vm._g({ref:\"stage\",attrs:{\"config\":{ width: _vm.width, height: _vm.height, x: _vm.width / 2 + _vm.x, y: _vm.height / 2 + _vm.y }},on:{\"mousedown\":_vm.mousedown,\"wheel\":_vm.wheel}},_vm.mouseDragActive ? { mouseup: _vm.mouseup, mousemove: _vm.mousemove } : {}),_vm._l((_vm.data),function(layer){return _c('v-layer',{key:layer.key},_vm._l((layer.children),function(component){return _c(component.is,_vm._b({key:component.key,tag:\"component\"},'component',component,false))}),1)}),1),_c('div',{staticClass:\"thumbnail\",style:({\n    width: _vm.thumbnailWidth + 'px',\n    height: _vm.thumbnailHeight + 'px',\n  })},[_c('v-stage',_vm._g({ref:\"thumbnailStage\",attrs:{\"config\":{ width: _vm.thumbnailWidth, height: _vm.thumbnailHeight,\n             x: _vm.thumbnailWidth / 2, y: _vm.thumbnailHeight / 2 }}},_vm.thumbnailMouseDragActive ? {\n               mouseup: _vm.thumbnailMouseup,\n               mousemove: _vm.thumbnailMousemove\n             } : {}),_vm._l((_vm.data),function(layer){return _c('v-layer',{key:layer.key},[_vm._l((layer.children),function(component){return _c(component.is,_vm._b({key:component.key,tag:\"component\"},'component',component,false))}),_c('v-shape',{attrs:{\"config\":_vm.thumbnailViewportBackgroundConfig}}),_c('v-rect',{attrs:{\"config\":_vm.thumbnailViewportConfig},on:{\"mousedown\":_vm.thumbnailMousedown}})],2)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-group',{attrs:{\"config\":_vm.config}},_vm._l((_vm.children),function(component){return _c(component.is,_vm._b({key:component.key,tag:\"component\"},'component',component,false))}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from 'vue-property-decorator';\n\n@Component\nexport default class Group extends Vue {\n  @Prop(Object) public readonly config: object | undefined;\n  @Prop(Array) public readonly children: object[] | undefined;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Group.vue?vue&type=template&id=5ec919fe&\"\nimport script from \"./Group.vue?vue&type=script&lang=ts&\"\nexport * from \"./Group.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\nimport Group from './renderable/Group.vue';\n\nVue.component('Group', Group);\n\n@Component\nexport default class Graph extends Vue {\n  @Prop({ type: Number, required: true }) public readonly width!: number;\n  @Prop({ type: Number, required: true }) public readonly height!: number;\n  @Prop({ type: Array, default() { return []; }})\n  public readonly data!: object[];\n  private x = 0;\n  private y = 0;\n  private scale = 1;\n  private mouseDragActive = false;\n  private mouseLastCoords = {\n    x: 0,\n    y: 0,\n  };\n  private thumbnailMouseDragActive = false;\n  private thumbnailMouseLastCoords = {\n    x: 0,\n    y: 0,\n  };\n  public mounted() {\n    this.updateThumbnailScale();\n  }\n  @Watch('scale')\n  public onScaleChanged() {\n    const stage = (this.$refs.stage as any).getStage();\n    stage.scale({ x: this.scale, y: this.scale });\n    stage.draw();\n  }\n  @Watch('thumbnailFactor')\n  public onThumbnailFactorChanged() {\n    this.updateThumbnailScale();\n  }\n  get thumbnailFactor() {\n    return Math.min(this.width, this.height) > 600 ? 5 : 4;\n  }\n  get thumbnailWidth() {\n    return this.width / this.thumbnailFactor;\n  }\n  get thumbnailHeight() {\n    return this.height / this.thumbnailFactor;\n  }\n  get thumbnailViewportConfig() {\n    return {\n      x: (-this.width / 2 - this.x) / this.scale,\n      y: (-this.height / 2 - this.y) / this.scale,\n      width: this.width / this.scale,\n      height: this.height / this.scale,\n      stroke: '#3eaf7c',\n      strokeWidth: this.thumbnailFactor,\n    };\n  }\n  get thumbnailViewportBackgroundConfig() {\n    const viewport = this.thumbnailViewportConfig;\n    return {\n      fill: 'rgba(0,0,0,0.2)',\n      sceneFunc: (ctx: any, shape: any) => {\n        ctx.beginPath();\n        ctx.moveTo(-this.width / 2, -this.height / 2);\n        ctx.lineTo(this.width / 2, -this.height / 2);\n        ctx.lineTo(this.width / 2, this.height / 2);\n        ctx.lineTo(-this.width / 2, this.height / 2);\n        ctx.lineTo(-this.width / 2, -this.height / 2);\n        ctx.moveTo(viewport.x, viewport.y);\n        ctx.lineTo(viewport.x, viewport.y + viewport.height);\n        ctx.lineTo(viewport.x + viewport.width, viewport.y + viewport.height);\n        ctx.lineTo(viewport.x + viewport.width, viewport.y);\n        ctx.lineTo(viewport.x, viewport.y);\n        ctx.fillStrokeShape(shape);\n      },\n    };\n  }\n  public updateThumbnailScale() {\n    const scale = 1 / this.thumbnailFactor;\n    (this.$refs.thumbnailStage as any).getStage().scale({ x: scale, y: scale });\n  }\n  public wheel(e: { evt: WheelEvent }) {\n    const scaleBy = 1.1;\n    e.evt.preventDefault();\n    const stage = (this.$refs.stage as any).getStage();\n    const mousePointTo = {\n      x: (stage.getPointerPosition().x - stage.x()) / this.scale,\n      y: (stage.getPointerPosition().y - stage.y()) / this.scale,\n    };\n    this.scale = e.evt.deltaY < 0 ? this.scale * scaleBy :\n      this.scale / scaleBy;\n    const newPos = {\n      x: -(mousePointTo.x - stage.getPointerPosition().x / this.scale) *\n        this.scale,\n      y: -(mousePointTo.y - stage.getPointerPosition().y / this.scale) *\n        this.scale,\n    };\n    this.x = newPos.x - this.width / 2;\n    this.y = newPos.y - this.height / 2;\n  }\n  public mousedown(e: { evt: WheelEvent }) {\n    this.mouseDragActive = true;\n    this.mouseLastCoords = {\n      x: e.evt.pageX,\n      y: e.evt.pageY,\n    };\n  }\n  public mouseup() {\n    this.mouseDragActive = false;\n  }\n  public mousemove(e: { evt: WheelEvent }) {\n    if (e.evt.buttons === 0 || e.evt.which === 0) {\n      this.mouseDragActive = false;\n    }\n    if (this.mouseDragActive) {\n      const newCoords = {\n        x: e.evt.pageX,\n        y: e.evt.pageY,\n      };\n      this.x += newCoords.x - this.mouseLastCoords.x;\n      this.y += newCoords.y - this.mouseLastCoords.y;\n      this.mouseLastCoords = newCoords;\n    }\n  }\n  public thumbnailMousedown(e: { evt: WheelEvent }) {\n    this.thumbnailMouseDragActive = true;\n    this.thumbnailMouseLastCoords = {\n      x: e.evt.pageX,\n      y: e.evt.pageY,\n    };\n  }\n  public thumbnailMouseup() {\n    this.thumbnailMouseDragActive = false;\n  }\n  public thumbnailMousemove(e: { evt: WheelEvent }) {\n    if (e.evt.buttons === 0 || e.evt.which === 0) {\n      this.thumbnailMouseDragActive = false;\n    }\n    if (this.thumbnailMouseDragActive) {\n      const newCoords = {\n        x: e.evt.pageX,\n        y: e.evt.pageY,\n      };\n      const oldCoords = this.thumbnailMouseLastCoords;\n      const scale = this.thumbnailFactor * this.scale;\n      this.x -= (newCoords.x - oldCoords.x) * scale;\n      this.y -= (newCoords.y - oldCoords.y) * scale;\n      this.thumbnailMouseLastCoords = newCoords;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Graph.vue?vue&type=template&id=a3cbdefc&scoped=true&\"\nimport script from \"./Graph.vue?vue&type=script&lang=ts&\"\nexport * from \"./Graph.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Graph.vue?vue&type=style&index=0&id=a3cbdefc&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3cbdefc\",\n  null\n  \n)\n\nexport default component.exports","export default class EventEmitter {\n  private readonly events: { [event: string]: Array<(...args: any[]) => any> } = {};\n\n  public addEventListener(event: string, listener: (...args: any[]) => any) {\n    if (this.events[event] === undefined) {\n      this.events[event] = [];\n    }\n    this.events[event].push(listener);\n  }\n\n  public removeEventListener(event: string, listener: (...args: any[]) => any) {\n    if (this.events[event] !== undefined) {\n      const index = this.events[event].indexOf(listener);\n      if (index > -1) {\n        this.events[event].splice(index, -1);\n      }\n    }\n  }\n\n  public emit(event: string, ...args: any[]) {\n    if (this.events[event] !== undefined) {\n      for (const listener of this.events[event]) {\n        listener.apply(this, args);\n      }\n    }\n  }\n}\n","import {EdgeData} from '@/graph/base/data';\nimport Root from '@/graph/Root';\nimport Renderable from '@/graph/base/Renderable';\nimport Positioned from '@/graph/base/Positioned';\n\nexport default class Edge implements Renderable {\n  public static getId(data: EdgeData) {\n    return data.id || `${data.from}-${data.to}`;\n  }\n  public from?: string;\n  public to?: string;\n  private readonly root: Root;\n  private readonly parent: Positioned | null;\n  private id?: string;\n  constructor(root: Root, parent: Positioned | null) {\n    this.root = root;\n    this.parent = parent;\n  }\n  public setData(data: EdgeData) {\n    this.id = Edge.getId(data);\n    this.from = data.from;\n    this.to = data.to;\n  }\n  public render() {\n    const fromNode = this.root.findPort(this.from!.split(':'));\n    const toNode = this.root.findPort(this.to!.split(':'));\n    if (!fromNode || !toNode) {\n      throw new Error('Unknown start or end node for edge');\n    }\n    const fromPos = fromNode.getAbsolutePosition(this.parent!);\n    const toPos = toNode.getAbsolutePosition(this.parent!);\n    const fromAngle = Math.atan2(toPos.y - fromPos.y, toPos.x - fromPos.x);\n    const toAngle = Math.PI + fromAngle;\n    const fromDistance = fromNode.distanceToBorder(fromAngle);\n    const toDistance = toNode.distanceToBorder(toAngle);\n    return {\n      is: 'v-line',\n      key: this.id,\n      config: {\n        points: [\n          fromPos.x + fromDistance * Math.cos(fromAngle),\n          fromPos.y + fromDistance * Math.sin(fromAngle),\n          toPos.x + toDistance * Math.cos(toAngle),\n          toPos.y + toDistance * Math.sin(toAngle),\n        ],\n        stroke: 'black',\n        strokeWidth: 1,\n      },\n    };\n  }\n}\n","import {Position} from '@/graph/base/data';\n\nexport default abstract class Positioned {\n  public parent: Positioned | null;\n  protected position: Position;\n  protected constructor(parent: Positioned | null) {\n    this.parent = parent;\n    this.position = { x: 0, y: 0 };\n  }\n  public setPosition(position: Position): void {\n    this.position = position;\n  }\n  public getPosition(): Position {\n    return this.position;\n  }\n  public getAbsolutePosition(parent: Positioned): Position {\n    let x = 0;\n    let y = 0;\n    let node: Positioned | null = this;\n    while (node !== parent) {\n      if (node === null) {\n        throw new Error('Incorrect parent parameter');\n      }\n      x += node.position.x;\n      y += node.position.y;\n      node = node.parent;\n    }\n    return {x, y};\n  }\n}\n","import Graph from '@/graph/graph/Graph';\nimport Positioned from '@/graph/base/Positioned';\nimport {Size} from '@/graph/base/data';\n\nexport default abstract class GraphLayout extends Positioned {\n  protected readonly graph: Graph;\n  protected constructor(graph: Graph) {\n    super(graph);\n    this.graph = graph;\n  }\n  public abstract solve(data: object | undefined): void;\n  public abstract render(): object;\n  public abstract getContentSize(): Size | undefined;\n}\n","import Graph from '@/graph/graph/Graph';\nimport GraphLayout from '@/graph/graph/layout/GraphLayout';\nimport {KamadaKawaiGraphLayoutData, Size} from '@/graph/base/data';\n\nfunction setEqual<T>(a: Set<T>, b: Set<T>): boolean {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const i of a) {\n    if (!b.has(i)) {\n      return false;\n    }\n  }\n  return true;\n}\n\ninterface KamadaKawaiGraphLayoutConfig {\n  direction: 'TD' | 'DT' | 'LR' | 'RL';\n  spaceBetween: number;\n  springLength: number;\n  springConstant: number;\n}\n\nexport default class KamadaKawaiGraphLayout extends GraphLayout {\n  private static defaultConfig = {\n    direction: 'TD',\n    spaceBetween: 12,\n    springLength: 150,\n    springConstant: 0.05,\n  };\n  private nodeIds?: Set<string>;\n  private edgeIds?: Set<string>;\n  private config?: KamadaKawaiGraphLayoutConfig;\n  // noinspection JSMismatchedCollectionQueryUpdate\n  private nodesIndexToId?: string[];\n  // noinspection JSMismatchedCollectionQueryUpdate\n  private components?: Array<{\n    nodes: number[];\n    edges: Map<number, Set<number>>;\n  }>;\n  private contentSize?: Size;\n  constructor(graph: Graph) {\n    super(graph);\n  }\n  public solve(data: KamadaKawaiGraphLayoutData) {\n    const newConfig = Object.assign({},\n      KamadaKawaiGraphLayout.defaultConfig, data);\n    if (!data || !data.springLength) {\n      newConfig.springLength = KamadaKawaiGraphLayout.defaultConfig\n          .springLength / (this.graph.depth! + 1);\n    }\n    const newNodeIds = new Set(this.graph.getPorts()!.keys());\n    const newEdgeIds = new Set(this.graph.getEdges()!.keys());\n    if (!this.nodeIds || !this.edgeIds || !this.config ||\n      !setEqual(this.nodeIds, newNodeIds) ||\n      !setEqual(this.edgeIds, newEdgeIds) ||\n      this.config.springLength !== newConfig.springLength ||\n      this.config.springConstant !== newConfig.springConstant\n    ) {\n      this.nodeIds = newNodeIds;\n      this.edgeIds = newEdgeIds;\n      // Create adjacent list\n      const nodes = Array.from(this.graph.getPorts()!.values());\n      const nodesIndexToId = Array.from(this.graph.getPorts()!.keys());\n      const nodesIdToIndex: {[id: string]: number} = {};\n      for (let i = 0; i < nodes.length; ++i) {\n        nodesIdToIndex[nodesIndexToId[i]] = i;\n      }\n      const edges = new Map();\n      for (const edge of this.graph.getEdges()!.values()) {\n        const from = this.graph.findBelongingPort(edge.from!);\n        const to = this.graph.findBelongingPort(edge.to!);\n        if (from && to) {\n          const fromIndex = nodesIdToIndex[from.getId()];\n          const toIndex = nodesIdToIndex[to.getId()];\n          if (!edges.has(fromIndex)) {\n            edges.set(fromIndex, new Set());\n          }\n          edges.get(fromIndex).add(toIndex);\n          if (!edges.has(toIndex)) {\n            edges.set(toIndex, new Set());\n          }\n          edges.get(toIndex).add(fromIndex);\n        }\n      }\n      // Initial random placement\n      for (const node of this.graph.getPorts()!.values()) {\n        if (!node.initialPlaced) {\n          node.setPosition({\n            x: newConfig.springLength * ( Math.random() - 0.5),\n            y: newConfig.springLength * ( Math.random() - 0.5),\n          });\n          node.initialPlaced = true;\n        }\n      }\n      // Compute connected components by DFS\n      const visited = Array(nodes.length).fill(false);\n      const components: Array<{\n        nodes: number[];\n        edges: Map<number, Set<number>>;\n      }> = [];\n      function calculateConnectedComponent(from: number) {\n        visited[from] = true;\n        const component = components[components.length - 1];\n        component.nodes.push(from);\n        const adjacent = edges.get(from);\n        if (adjacent) {\n          for (const to of adjacent) {\n            if (!component.edges.has(from)) {\n              component.edges.set(from, new Set());\n            }\n            component.edges.get(from)!.add(to);\n            if (!component.edges.has(to)) {\n              component.edges.set(to, new Set());\n            }\n            component.edges.get(to)!.add(from);\n            if (!visited[to]) {\n              calculateConnectedComponent(to);\n            }\n          }\n        }\n      }\n      for (let i = 0; i < this.nodeIds.size; ++i) {\n        if (!visited[i]) {\n          components.push({\n            nodes: [],\n            edges: new Map(),\n          });\n          calculateConnectedComponent(i);\n        }\n      }\n      const indexToComponentIndex = Array(nodes.length);\n      for (const component of components) {\n        for (let i = 0; i < component.nodes.length; ++i) {\n          indexToComponentIndex[component.nodes[i]] = i;\n        }\n      }\n      for (const component of components) {\n        // Compute distance matrix by Floyd Warshall\n        const distanceMatrix = [];\n        for (let i = 0; i < component.nodes.length; ++i) {\n          distanceMatrix.push(Array(component.nodes.length).fill(Infinity));\n          distanceMatrix[distanceMatrix.length - 1][i] = 0;\n        }\n        for (const [from, tos] of component.edges.entries()) {\n          for (const to of tos) {\n            const localFromIndex = indexToComponentIndex[from];\n            const localToIndex = indexToComponentIndex[to];\n            distanceMatrix[localFromIndex][localToIndex] = 1;\n            distanceMatrix[localToIndex][localFromIndex] = 1;\n          }\n        }\n        for (let k = 0; k < component.nodes.length; ++k) {\n          for (let i = 0; i < component.nodes.length; ++i) {\n            for (let j = 0; j < component.nodes.length; ++j) {\n              const dist = distanceMatrix[i][k] + distanceMatrix[k][j];\n              if (distanceMatrix[i][j] > dist) {\n                distanceMatrix[i][j] = dist;\n              }\n            }\n          }\n        }\n        // Place nodes using Kamada Kawai\n        // Compute length matrix\n        const lengthMatrix = [];\n        for (let i = 0; i < component.nodes.length; ++i) {\n          const length = [];\n          for (let j = 0; j < component.nodes.length; ++j) {\n            length.push(newConfig.springLength * distanceMatrix[i][j]);\n          }\n          lengthMatrix.push(length);\n        }\n        // Compute k matrix\n        const kMatrix = [];\n        for (let i = 0; i < component.nodes.length; ++i) {\n          const k = [];\n          for (let j = 0; j < component.nodes.length; ++j) {\n            k.push(newConfig.springConstant *\n              Math.pow(distanceMatrix[i][j], -2));\n          }\n          kMatrix.push(k);\n        }\n        // Compute energy matrix\n        const energyMatrix = [];\n        for (const node of component.nodes) {\n          energyMatrix.push(Array(component.nodes.length));\n        }\n        for (let m = 0; m < component.nodes.length; ++m) {\n          const mPos = this.graph.getPorts()!.get(\n            nodesIndexToId[component.nodes[m]])!.getPosition();\n          energyMatrix[m][m] = [0, 0];\n          for (let i = m + 1; i < component.nodes.length; ++i) {\n            const iPos = this.graph.getPorts()!.get(\n              nodesIndexToId[component.nodes[i]])!.getPosition();\n            const denominator = 1.0 / Math.sqrt(\n              Math.pow(mPos.x - iPos.x, 2) + Math.pow(mPos.y - iPos.y, 2));\n            energyMatrix[m][i] = [\n              kMatrix[m][i] * (mPos.x - iPos.x) *\n                (1 - lengthMatrix[m][i] * denominator),\n              kMatrix[m][i] * (mPos.y - iPos.y) *\n                (1 - lengthMatrix[m][i] * denominator),\n            ];\n            energyMatrix[i][m] = [\n              -energyMatrix[m][i][0],\n              -energyMatrix[m][i][1],\n            ];\n          }\n        }\n        const energySum = [];\n        for (let i = 0; i < component.nodes.length; ++i) {\n          const sum = [0, 0];\n          for (let j = 0; j < component.nodes.length; ++j) {\n            sum[0] += energyMatrix[i][j][0];\n            sum[1] += energyMatrix[i][j][1];\n          }\n          energySum.push(sum);\n        }\n        // Compute position\n        const threshold = 0.01;\n        const maxIterations = Math.max(1000,\n          Math.min(10 * component.nodes.length, 6000));\n        const maxInnerIterations = 5;\n        let iterations = 0;\n        let maxEnergy;\n        while (iterations < maxIterations) {\n          iterations += 1;\n          // Get node with highest energy\n          let m = 0;\n          let deDx = 0;\n          let deDy = 0;\n          maxEnergy = -1;\n          for (let i = 0; i < component.nodes.length; ++i) {\n            const e = Math.sqrt(Math.pow(energySum[i][0], 2) +\n              Math.pow(energySum[i][1], 2));\n            if (e > maxEnergy) {\n              m = i;\n              deDx = energySum[i][0];\n              deDy = energySum[i][1];\n              maxEnergy = e;\n            }\n          }\n          if (maxEnergy <= threshold) {\n            break;\n          }\n          const mPos = this.graph.getPorts()!.get(\n            nodesIndexToId[component.nodes[m]])!.getPosition();\n          let delta = maxEnergy;\n          let subIterations = 0;\n          while (delta > threshold && subIterations < maxInnerIterations) {\n            subIterations += 1;\n            // Move node\n            let d2eDx2 = 0;\n            let d2eDxDy = 0;\n            let d2eDy2 = 0;\n            for (let i = 0; i < component.nodes.length; ++i) {\n              if (i !== m) {\n                const iPos = this.graph.getPorts()!.get(\n                  nodesIndexToId[component.nodes[i]])!.getPosition();\n                const factor = 1.0 / Math.pow(Math.pow(mPos.x - iPos.x, 2) +\n                  Math.pow(mPos.y - iPos.y, 2), 1.5);\n                const k = kMatrix[m][i];\n                const l = lengthMatrix[m][i];\n                d2eDx2 += k * (1 - l * Math.pow(mPos.y - iPos.y, 2) * factor);\n                d2eDxDy += k * l * (mPos.x - iPos.x) * (mPos.y - iPos.y) *\n                  factor;\n                d2eDy2 += k * (1 - l * Math.pow(mPos.x - iPos.x, 2) * factor);\n              }\n            }\n            // Solve equation using Cramer's rule\n            const denominator = d2eDx2 * d2eDy2 - Math.pow(d2eDxDy, 2);\n            const dx = (d2eDxDy * deDy - d2eDy2 * deDx) / denominator;\n            const dy = (d2eDxDy * deDx - d2eDx2 * deDy) / denominator;\n            mPos.x += dx;\n            mPos.y += dy;\n            // Recalculate energy matrix\n            let sumX = 0;\n            let sumY = 0;\n            for (let i = 0; i < component.nodes.length; ++i) {\n              if (i !== m) {\n                const [oldDx, oldDy] = energyMatrix[m][i];\n                const iPos = this.graph.getPorts()!.get(\n                  nodesIndexToId[component.nodes[i]])!.getPosition();\n                const factor = 1.0 / Math.sqrt(\n                  Math.pow(mPos.x - iPos.x, 2) + Math.pow(mPos.y - iPos.y, 2));\n                const deltaX = kMatrix[m][i] * (mPos.x - iPos.x) *\n                  (1 - lengthMatrix[m][i] * factor);\n                const deltaY = kMatrix[m][i] * (mPos.y - iPos.y) *\n                  (1 - lengthMatrix[m][i] * factor);\n                energyMatrix[m][i] = [deltaX, deltaY];\n                energyMatrix[i][m] = [-deltaX, -deltaY];\n                energySum[i][0] += oldDx - deltaX;\n                energySum[i][1] += oldDy - deltaY;\n                sumX += deltaX;\n                sumY += deltaY;\n              }\n            }\n            energySum[m] = [sumX, sumY];\n            // Update\n            delta = Math.sqrt(Math.pow(energySum[m][0], 2) +\n              Math.pow(energySum[m][1], 2));\n            deDx = energySum[m][0];\n            deDy = energySum[m][1];\n          } // for kamada kawai inner iteration\n        } // for kamada kawai outer iteration\n      } // for every component\n      // Save results for further evaluation\n      this.nodesIndexToId = nodesIndexToId;\n      this.components = components;\n    } // if needs update position\n    // Calculate component size and position\n    const componentsSize = [];\n    const componentsPosition = [];\n    for (const component of this.components!) {\n      const upperLeft = [Infinity, Infinity];\n      const lowerRight = [-Infinity, -Infinity];\n      for (const nodeIndex of component.nodes) {\n        const node = this.graph.getPorts()!.get(\n          this.nodesIndexToId![nodeIndex])!;\n        const pos = node.getPosition();\n        const size = node.getBoundingBoxSize();\n        const halfWidth = size.width / 2;\n        const halfHeight = size.height / 2;\n        if (pos.x - halfWidth < upperLeft[0]) {\n          upperLeft[0] = pos.x - halfWidth;\n        }\n        if (pos.x + halfWidth > lowerRight[0]) {\n          lowerRight[0] = pos.x + halfWidth;\n        }\n        if (pos.y - halfHeight < upperLeft[1]) {\n          upperLeft[1] = pos.y - halfHeight;\n        }\n        if (pos.y + halfHeight > lowerRight[1]) {\n          lowerRight[1] = pos.y + halfHeight;\n        }\n      }\n      componentsSize.push([\n        lowerRight[0] - upperLeft[0],\n        lowerRight[1] - upperLeft[1],\n      ]);\n      componentsPosition.push([\n        (upperLeft[0] + lowerRight[0]) / 2,\n        (upperLeft[1] + lowerRight[1]) / 2,\n      ]);\n    }\n    if (newConfig.direction === 'LR' || newConfig.direction === 'RL') {\n      this.contentSize = {\n        width: componentsSize.map((x) => x[0]).reduce((a, b) => a + b, 0) +\n          Math.max(this.components!.length - 1, 0) * newConfig.spaceBetween,\n        height: Math.max(...componentsSize.map((x) => x[1]), 0),\n      };\n      let begin = newConfig.direction === 'LR' ?\n        -this.contentSize.width / 2 : this.contentSize.width / 2;\n      for (let i = 0; i < this.components!.length; ++i) {\n        const deltaX = (newConfig.direction === 'LR' ?\n          componentsSize[i][0] / 2 : -componentsSize[i][0] / 2) +\n          begin - componentsPosition[i][0];\n        const deltaY = -componentsPosition[i][1];\n        for (const nodeIndex of this.components![i].nodes) {\n          const node = this.graph.getPorts()!.get(\n            this.nodesIndexToId![nodeIndex])!;\n          node.getPosition().x += deltaX;\n          node.getPosition().y += deltaY;\n        }\n        if (newConfig.direction === 'LR') {\n          begin += componentsSize[i][0] + newConfig.spaceBetween;\n        } else {\n          begin -= componentsSize[i][0] + newConfig.spaceBetween;\n        }\n      }\n    } else {\n      this.contentSize = {\n        width: Math.max(...componentsSize.map((x) => x[0]), 0),\n        height: componentsSize.map((x) => x[1]).reduce((a, b) => a + b, 0) +\n          Math.max(this.components!.length - 1, 0) * newConfig.spaceBetween,\n      };\n      let begin = newConfig.direction === 'DT' ?\n        this.contentSize.height / 2 : -this.contentSize.height / 2;\n      for (let i = 0; i < this.components!.length; ++i) {\n        const deltaX = -componentsPosition[i][0];\n        const deltaY = (newConfig.direction === 'DT' ?\n          -componentsSize[i][1] / 2 : componentsSize[i][1] / 2) +\n          begin - componentsPosition[i][1];\n        for (const nodeIndex of this.components![i].nodes) {\n          const node = this.graph.getPorts()!.get(\n            this.nodesIndexToId![nodeIndex])!;\n          node.getPosition()!.x += deltaX;\n          node.getPosition()!.y += deltaY;\n        }\n        if (newConfig.direction === 'DT') {\n          begin -= componentsSize[i][1] + newConfig.spaceBetween;\n        } else {\n          begin += componentsSize[i][1] + newConfig.spaceBetween;\n        }\n      }\n    } // position calculation\n  } // solve method\n  public render() {\n    return {\n      is: 'Group',\n      key: 'content',\n      config: {\n        x: this.position.x,\n        y: this.position.y,\n      },\n      children: Array.from(this.graph.getChildren()!.values())\n        .map((x) => x.render()),\n    };\n  }\n  public getContentSize() {\n    return this.contentSize;\n  }\n}\n","import KamadaKawaiGraphLayout from './KamadaKawaiGraphLayout';\nimport {GraphLayoutData} from '@/graph/base/data';\nimport GraphLayout from '@/graph/graph/layout/GraphLayout';\nimport Graph from '@/graph/graph/Graph';\n\nexport default function layoutFactory(data: GraphLayoutData | undefined)\n    : new (graph: Graph) => GraphLayout {\n  switch (data && data.type) {\n    default:\n      return KamadaKawaiGraphLayout;\n  }\n}\n","import Graph from '@/graph/graph/Graph';\nimport GraphLayout from '@/graph/graph/layout/GraphLayout';\nimport {GraphData, Size} from '@/graph/base/data';\n\nexport default abstract class GraphType {\n  protected parent: Graph;\n  protected layout: GraphLayout;\n  protected constructor(parent: Graph, layout: GraphLayout) {\n    this.parent = parent;\n    this.layout = layout;\n  }\n  public abstract setData(data: GraphData): void;\n  public abstract render(): void;\n  public abstract getBoundingBoxSize(): Size;\n  public abstract distanceToBorder(angle: number): number;\n}\n","import GraphType from '@/graph/graph/type/GraphType';\nimport Graph from '@/graph/graph/Graph';\nimport GraphLayout from '@/graph/graph/layout/GraphLayout';\nimport {BoxGraphData, Position, Size} from '@/graph/base/data';\n\ninterface BoxGraphConfig {\n  label: string | null;\n  labelPosition: 'top' | 'right' | 'bottom' | 'left';\n  style: 'solid' | 'filled';\n  fillColor: string;\n  strokeColor: string;\n  strokeWidth: number;\n  fontSize: number;\n  fontFamily: string;\n  lineHeight: number;\n  padding: number;\n  align: 'left' | 'center' | 'right';\n  spaceBetween: number;\n}\n\nexport default class BoxGraphType extends GraphType {\n  public static defaultConfig = {\n    label: null,\n    labelPosition: 'top', // or 'right', 'bottom', 'left'\n    style: 'solid',  // or 'filled'\n    fillColor: 'white',\n    strokeColor: 'black',\n    strokeWidth: 0,\n    fontSize: 12,\n    fontFamily: 'sans-serif',\n    lineHeight: 1.2,\n    padding: 6,\n    align: 'center',\n    spaceBetween: 12,\n  };\n  private config?: BoxGraphConfig;\n  private textSize?: Size;\n  private contentSize?: Size;\n  private textPosition?: Position;\n  private borderSize?: Size;\n  constructor(parent: Graph, layout: GraphLayout) {\n    super(parent, layout);\n  }\n  public setData(data: BoxGraphData) {\n    const newConfig = Object.assign({}, BoxGraphType.defaultConfig, data);\n    delete newConfig.layout;\n    delete newConfig.children;\n    const textSizeNeedsUpdate = !this.config ||\n      this.config.label !== newConfig.label ||\n      this.config.fontSize !== newConfig.fontSize ||\n      this.config.fontFamily !== newConfig.fontFamily ||\n      this.config.lineHeight !== newConfig.lineHeight;\n    if (textSizeNeedsUpdate) {\n      const ctx = this.parent.root.ctx;\n      ctx.font = `${newConfig.fontSize}px ${newConfig.fontFamily}`;\n      const lines = newConfig.label ? (newConfig.label as string)\n        .split('\\n') : [];\n      this.textSize = {\n        width: Math.max(...lines.map((x) => ctx.measureText(x).width), 0),\n        height: lines.length * newConfig.fontSize * newConfig.lineHeight,\n      };\n    }\n    const layoutContentSize = this.layout.getContentSize()!;\n    this.contentSize = {\n      width: layoutContentSize.width + 2 * newConfig.padding,\n      height: layoutContentSize.height + 2 * newConfig.padding,\n    };\n    this.layout.setPosition({ x: 0, y: 0 });\n    this.textPosition = { x: 0, y: 0 };\n    if (newConfig.label) {\n      if (newConfig.labelPosition === 'left' ||\n          newConfig.labelPosition === 'right') {\n        this.contentSize.width += this.textSize!.width + newConfig.spaceBetween;\n        if (this.textSize!.height > layoutContentSize.height) {\n          this.contentSize.height = this.textSize!.height +\n            2 * newConfig.padding;\n        }\n        if (newConfig.labelPosition === 'left') {\n          this.layout.getPosition().x = (this.textSize!.width +\n            newConfig.spaceBetween) / 2;\n          this.textPosition.x = -(layoutContentSize.width +\n            newConfig.spaceBetween) / 2;\n        } else {\n          this.layout.getPosition().x = -(this.textSize!.width +\n            newConfig.spaceBetween) / 2;\n          this.textPosition.x = (layoutContentSize.width +\n            newConfig.spaceBetween) / 2;\n        }\n      } else {\n        this.contentSize.height += this.textSize!.height +\n          newConfig.spaceBetween;\n        if (this.textSize!.width > layoutContentSize.width) {\n          this.contentSize.width = this.textSize!.width + 2 * newConfig.padding;\n        }\n        if (newConfig.labelPosition === 'bottom') {\n          this.layout.getPosition().y = -(this.textSize!.height +\n            newConfig.spaceBetween) / 2;\n          this.textPosition.y = (layoutContentSize.height +\n            newConfig.spaceBetween) / 2;\n        } else {\n          this.layout.getPosition().y = (this.textSize!.height +\n            newConfig.spaceBetween) / 2;\n          this.textPosition.y = -(layoutContentSize.height +\n            newConfig.spaceBetween) / 2;\n        }\n      }\n    }\n    this.borderSize = {\n      width: this.contentSize.width + newConfig.strokeWidth,\n      height: this.contentSize.height + newConfig.strokeWidth,\n    };\n    this.config = newConfig;\n  }\n  public render() {\n    const rect = {\n      is: 'v-rect',\n      key: 'rect',\n      config: {\n        x: -this.contentSize!.width / 2,\n        y: -this.contentSize!.height / 2,\n        width: this.contentSize!.width,\n        height: this.contentSize!.height,\n        fill: this.config!.style === 'filled' ?\n          this.config!.fillColor : undefined,\n        stroke: this.config!.strokeWidth > 0 ?\n          this.config!.strokeColor : undefined,\n        strokeWidth: this.config!.strokeWidth,\n      },\n    };\n    const rendered: object[] = [rect];\n    if (this.config!.label) {\n      const text = {\n        is: 'v-text',\n        key: 'text',\n        config: {\n          x: this.textPosition!.x - this.textSize!.width / 2,\n          y: this.textPosition!.y - this.textSize!.height / 2,\n          text: this.config!.label,\n          fontSize: this.config!.fontSize,\n          fontFamily: this.config!.fontFamily,\n          lineHeight: this.config!.lineHeight,\n          align: this.config!.align,\n        },\n      };\n      rendered.push(text);\n    }\n    rendered.push(this.layout.render());\n    return rendered;\n  }\n  public getBoundingBoxSize() {\n    return this.borderSize!;\n  }\n  public distanceToBorder(angle: number) {\n    return Math.min(\n      Math.abs(this.borderSize!.width / 2 / Math.cos(angle)),\n      Math.abs(this.borderSize!.height / 2 / Math.sin(angle)),\n    );\n  }\n}\n","import BoxGraphType from '@/graph/graph/type/BoxGraphType';\nimport GraphType from '@/graph/graph/type/GraphType';\nimport Graph from '@/graph/graph/Graph';\nimport GraphLayout from '@/graph/graph/layout/GraphLayout';\nimport {GraphData} from '@/graph/base/data';\n\n// noinspection JSUnusedLocalSymbols\nexport default function graphTypeFactory(data: GraphData)\n    : new (parent: Graph, layout: GraphLayout) => GraphType {\n  return BoxGraphType;\n}\n","/*\n * recordLabel\n *   : field ('|' field )*\n *   ;\n * field\n *   : (< string >)? string?\n *   | '{' recordLabel '}'\n *   ;\n */\n\nenum TokenEnum {\n  EOF,\n  VERTICAL_BAR,\n  LEFT_CURLY_BRACE,\n  RIGHT_CURLY_BRACE,\n  LEFT_ANGLE_BRACE,\n  RIGHT_ANGLE_BRACE,\n  STRING,\n}\n\ninterface Token {\n  type: TokenEnum;\n  text?: string;\n}\n\nexport interface Record {\n  type: 'record';\n  children: RecordData[];\n}\n\nexport interface Field {\n  type: 'field';\n  port?: string;\n  text?: string;\n}\n\nexport type RecordData = Record | Field;\n\nexport default function recordParser(record: string): RecordData {\n  let position = 0;\n  const buffer: Token[] = [];\n  function lexer(): Token {\n    if (buffer.length) {\n      return buffer.pop()!;\n    }\n    while (position < record.length &&\n           ' \\t\\n\\r\\v'.indexOf(record[position]) > -1) {\n      ++position;\n    }\n    if (position >= record.length) {\n      return { type: TokenEnum.EOF };\n    }\n    switch (record[position]) {\n      case '|':\n        ++position;\n        return { type: TokenEnum.VERTICAL_BAR };\n      case '{':\n        ++position;\n        return { type: TokenEnum.LEFT_CURLY_BRACE };\n      case '}':\n        ++position;\n        return { type: TokenEnum.RIGHT_CURLY_BRACE };\n      case '<':\n        ++position;\n        return { type: TokenEnum.LEFT_ANGLE_BRACE };\n      case '>':\n        ++position;\n        return { type: TokenEnum.RIGHT_ANGLE_BRACE };\n      default: {\n        let text = '';\n        while (position < record.length &&\n               ' \\t\\n\\r\\v|{}<>'.indexOf(record[position]) === -1) {\n          if (record[position] === '\\\\') {\n            ++position;\n            if (position === record.length) {\n              throw new Error('Unexpected end of escape sequence');\n            }\n            switch (record[position]) {\n              case 'n':\n                text += '\\n';\n                break;\n              default:\n                text += record[position];\n            }\n          } else {\n            text += record[position];\n          }\n          ++position;\n        }\n        return { type: TokenEnum.STRING, text };\n      }\n    }\n  }\n  function parseRecordLabel(): Record {\n    const children = [parseField()];\n    let token;\n    while ((token = lexer())!.type === TokenEnum.VERTICAL_BAR) {\n      children.push(parseField());\n    }\n    buffer.push(token);\n    return { type: 'record', children };\n  }\n  function parseField(): RecordData {\n    let token = lexer();\n    if (token.type === TokenEnum.LEFT_CURLY_BRACE) {\n      const ret = parseRecordLabel();\n      if (lexer().type !== TokenEnum.RIGHT_CURLY_BRACE) {\n        throw new Error('Expect \\'}\\'');\n      }\n      return ret;\n    }\n    const result: Field = { type: 'field' };\n    if (token.type === TokenEnum.LEFT_ANGLE_BRACE) {\n      token = lexer();\n      if (token.type === TokenEnum.STRING) {\n        let port = token.text;\n        while ((token = lexer()).type === TokenEnum.STRING) {\n          port += ' ' + token.text;\n        }\n        result.port = port;\n      }\n      if (token.type !== TokenEnum.RIGHT_ANGLE_BRACE) {\n        throw new Error('Expect \\'>\\'');\n      }\n      token = lexer();\n    }\n    if (token.type === TokenEnum.STRING) {\n      let text = token.text;\n      while ((token = lexer()).type === TokenEnum.STRING) {\n        text += ' ' + token.text;\n      }\n      result.text = text;\n    }\n    buffer.push(token);\n    return result;\n  }\n  const tree = parseRecordLabel();\n  if (lexer().type !== TokenEnum.EOF) {\n    throw new Error('Unexpected token');\n  }\n  return tree;\n}\n","import Positioned from '@/graph/base/Positioned';\nimport {Size} from '@/graph/base/data';\nimport Root from '@/graph/Root';\n\nexport default abstract class Port extends Positioned {\n  public readonly root: Root;\n  public initialPlaced: boolean; // for graph layout\n  protected id: string;\n  protected constructor(root: Root, parent: Positioned | null = null) {\n    super(parent);\n    this.root = root;\n    this.initialPlaced = false;\n    this.id = '';\n  }\n  public getId(): string {\n    return this.id;\n  }\n  public findPort(id: string[]): Port | null {\n    if (id.length === 0) {\n      return this;\n    }\n    return null;\n  }\n  public abstract getBoundingBoxSize(): Size;\n  public abstract distanceToBorder(angle: number): number;\n}\n","import {GraphData} from '@/graph/base/data';\nimport Root from '@/graph/Root';\nimport renderableFactory from '@/graph/base/renderableFactory';\nimport Edge from '@/graph/edge/Edge';\nimport layoutFactory from '@/graph/graph/layout';\nimport graphTypeFactory from '@/graph/graph/type';\nimport GraphLayout from '@/graph/graph/layout/GraphLayout';\nimport GraphType from '@/graph/graph/type/GraphType';\nimport Port from '@/graph/base/Port';\nimport Renderable from '@/graph/base/Renderable';\nimport Positioned from '@/graph/base/Positioned';\n\nexport default class Graph extends Port implements Renderable {\n  public static getId(data: GraphData) {\n    if (!data.id) {\n      throw new Error('Missing id field for graph');\n    }\n    return data.id;\n  }\n  public depth?: number;\n  private children?: Map<string, Renderable>;\n  private ports?: Map<string, Port>;\n  private graphs?: Map<string, Graph>;\n  private edges?: Map<string, Edge>;\n  private layout?: GraphLayout;\n  private graphType?: GraphType;\n  constructor(root: Root, parent: Positioned | null = null) {\n    super(root, parent);\n  }\n  public setData(data: GraphData) {\n    this.id = Graph.getId(data);\n    const layoutClass = layoutFactory(data.layout);\n    if (!this.layout || this.layout.constructor !== layoutClass) {\n      this.layout = new layoutClass(this);\n    }\n    const typeClass = graphTypeFactory(data);\n    if (!this.graphType || this.graphType.constructor !== typeClass) {\n      this.graphType = new typeClass(this, this.layout);\n    }\n    const newChildren = new Map();\n    this.depth = data.depth || 0;\n    if (data.children) {\n      for (const child of data.children) {\n        const type = renderableFactory(child);\n        const id = type.getId(child);\n        if (newChildren.has(id)) {\n          throw new Error('Duplicated id');\n        }\n        const newChild = this.children &&\n            this.children.has(id) &&\n            this.children.get(id)!.constructor === type ?\n            this.children.get(id)! : new type(this.root, this.layout);\n        child.depth = this.depth + 1;\n        newChild.setData(child);\n        newChildren.set(id, newChild);\n      }\n    }\n    this.children = newChildren;\n    this.edges = new Map();\n    this.ports = new Map();\n    this.graphs = new Map();\n    for (const [name, renderable] of this.children.entries()) {\n      if (renderable instanceof Edge) {\n        this.edges.set(name, renderable);\n      } else {\n        this.ports.set(name, renderable as any);\n        if (renderable instanceof Graph) {\n          this.graphs.set(name, renderable as any);\n        }\n      }\n    }\n    this.layout.solve(data.layout);\n    this.graphType.setData(data);\n  }\n  public render() {\n    return {\n      is: 'Group',\n      key: this.id,\n      config: {\n        x: this.position.x,\n        y: this.position.y,\n      },\n      children: this.graphType!.render(),\n    };\n  }\n  public findBelongingPort(id: string): Port | null {\n    id = id.split(':')[0];\n    if (this.ports!.has(id)) {\n      return this.ports!.get(id)!;\n    }\n    for (const graph of this.graphs!.values()) {\n      if (graph.findBelongingPort(id)) {\n        return graph;\n      }\n    }\n    return null;\n  }\n  public findPort(id: string[]): Port | null {\n    if (id.length === 0) {\n      return this;\n    }\n    if (this.ports!.has(id[0])) {\n      const node = this.ports!.get(id[0])!;\n      return node.findPort(id.slice(1));\n    }\n    for (const graph of this.graphs!.values()) {\n      const node = graph.findPort(id);\n      if (node) {\n        return node;\n      }\n    }\n    return null;\n  }\n  public getPorts() {\n    return this.ports;\n  }\n  public getEdges() {\n    return this.edges;\n  }\n  public getChildren() {\n    return this.children;\n  }\n  public getBoundingBoxSize() {\n    return this.graphType!.getBoundingBoxSize();\n  }\n  public distanceToBorder(angle: number) {\n    return this.graphType!.distanceToBorder(angle);\n  }\n}\n\n\n\n\n\n\n","import Node from '@/graph/node/Node';\nimport {NodeData, Size} from '@/graph/base/data';\nimport Port from '@/graph/base/Port';\n\nexport default abstract class NodeType {\n  public readonly parent: Node;\n  protected constructor(parent: Node) {\n    this.parent = parent;\n  }\n  public abstract setData(data: NodeData): void;\n  public abstract render(): object[];\n  public findPort(id: string[]): Port | null {\n    return null;\n  }\n  public abstract getBoundingBoxSize(): Size;\n  public abstract distanceToBorder(angle: number): number;\n}\n","import NodeType from '@/graph/node/type/NodeType';\nimport Node from '@/graph/node/Node';\nimport {BoxNodeData, Size} from '@/graph/base/data';\n\ninterface BoxNodeConfig {\n  label: string | null;\n  style: 'solid' | 'filled';\n  fillColor: string;\n  strokeColor: string;\n  strokeWidth: number;\n  fontSize: number;\n  fontFamily: string;\n  lineHeight: number;\n  padding: number;\n  align: 'left' | 'center' | 'right';\n}\n\nexport default class BoxNodeType extends NodeType {\n  private static defaultConfig: BoxNodeConfig = {\n    label: null,\n    style: 'solid',  // or 'filled'\n    fillColor: 'white',\n    strokeColor: 'black',\n    strokeWidth: 1,\n    fontSize: 12,\n    fontFamily: 'sans-serif',\n    lineHeight: 1.2,\n    padding: 4,\n    align: 'center',\n  };\n  private config?: BoxNodeConfig;\n  private textSize?: Size;\n  private contentSize?: Size;\n  private borderSize?: Size;\n  constructor(parent: Node) {\n    super(parent);\n  }\n  public setData(data: BoxNodeData) {\n    const newConfig = Object.assign({}, BoxNodeType.defaultConfig, data);\n    const textSizeNeedsUpdate = !this.config ||\n      this.config.label !== newConfig.label ||\n      this.config.fontSize !== newConfig.fontSize ||\n      this.config.fontFamily !== newConfig.fontFamily ||\n      this.config.lineHeight !== newConfig.lineHeight;\n    const contentSizeNeedsUpdate = textSizeNeedsUpdate ||\n      this.config!.padding !== newConfig.padding;\n    const borderSizeNeedsUpdate = contentSizeNeedsUpdate ||\n      this.config!.strokeWidth !== newConfig.strokeWidth;\n    if (textSizeNeedsUpdate) {\n      const ctx = this.parent.root.ctx;\n      ctx.font = `${newConfig.fontSize}px ${newConfig.fontFamily}`;\n      const lines = newConfig.label ? newConfig.label.split('\\n') : [];\n      this.textSize = {\n        width: Math.max(...lines.map((x) => ctx.measureText(x).width), 0),\n        height: lines.length * newConfig.fontSize * newConfig.lineHeight,\n      };\n    }\n    if (contentSizeNeedsUpdate) {\n      this.contentSize = {\n        width: this.textSize!.width + 2 * newConfig.padding,\n        height: this.textSize!.height + 2 * newConfig.padding,\n      };\n    }\n    if (borderSizeNeedsUpdate) {\n      // Konva's border extends towards both inner and outer\n      this.borderSize = {\n        width: this.contentSize!.width + newConfig.strokeWidth,\n        height: this.contentSize!.height + newConfig.strokeWidth,\n      };\n    }\n    this.config = newConfig;\n  }\n  public render() {\n    const rect = {\n      is: 'v-rect',\n      key: 'rect',\n      config: {\n        x: -this.contentSize!.width / 2,\n        y: -this.contentSize!.height / 2,\n        width: this.contentSize!.width,\n        height: this.contentSize!.height,\n        fill: this.config!.style === 'filled' ?\n          this.config!.fillColor : undefined,\n        stroke: this.config!.strokeWidth > 0 ?\n          this.config!.strokeColor : undefined,\n        strokeWidth: this.config!.strokeWidth,\n      },\n    };\n    const rendered: object[] = [rect];\n    if (this.config!.label) {\n      const text = {\n        is: 'v-text',\n        key: 'text',\n        config: {\n          x: -this.contentSize!.width / 2,\n          y: -this.contentSize!.height / 2,\n          text: this.config!.label,\n          fontSize: this.config!.fontSize,\n          fontFamily: this.config!.fontFamily,\n          lineHeight: this.config!.lineHeight,\n          padding: this.config!.padding,\n          align: this.config!.align,\n        },\n      };\n      rendered.push(text);\n    }\n    return rendered;\n  }\n  public getBoundingBoxSize() {\n    return this.borderSize!;\n  }\n  public distanceToBorder(angle: number) {\n    return Math.min(\n      Math.abs(this.borderSize!.width / 2 / Math.cos(angle)),\n      Math.abs(this.borderSize!.height / 2 / Math.sin(angle)),\n    );\n  }\n}\n","import RecordNodeType from '@/graph/node/type/RecordNodeType';\nimport {Field, Record, RecordData} from '@/graph/node/type/recordParser';\nimport {Size} from '@/graph/base/data';\nimport Root from '@/graph/Root';\nimport Port from '@/graph/base/Port';\n\nexport default class RecordCell extends Port {\n  private readonly nodeType: RecordNodeType;\n  private isField?: boolean;\n  private isHorizontal?: boolean;\n  private label?: string;\n  private children?: RecordCell[];\n  private textSize?: Size;\n  private contentSize?: Size;\n  private cellSize?: Size;\n  constructor(root: Root, parent: Port, nodeType: RecordNodeType) {\n    super(root, parent);\n    this.nodeType = nodeType;\n  }\n  public setData(data: RecordData, isHorizontal = true) {\n    this.isField = data.type === 'field';\n    this.isHorizontal = isHorizontal;\n    if (this.isField) {\n      const fieldData = data as Field;\n      if (fieldData.port) {\n        this.nodeType.getPorts()!.set(fieldData.port, this);\n      }\n      const ctx = this.root.ctx;\n      const config = this.nodeType.getConfig()!;\n      this.label = fieldData.text;\n      ctx.font = `${config.fontSize}px ${config.fontFamily}`;\n      const lines =  this.label ?  this.label.split('\\n') : [];\n      this.textSize = {\n        width: Math.max(...lines.map((x) => ctx.measureText(x).width), 0),\n        height: lines.length * config.fontSize * config.lineHeight,\n      };\n      this.contentSize = {\n        width: this.textSize.width + 2 * config.padding,\n        height: this.textSize.height + 2 * config.padding,\n      };\n      this.cellSize = {\n        width: this.contentSize.width,\n        height: this.contentSize.height,\n      };\n    } else {\n      const recordData = data as Record;\n      this.children = [];\n      for (const child of recordData.children) {\n        const cell = new RecordCell(this.root, this, this.nodeType);\n        cell.setData(child, !isHorizontal);\n        this.children.push(cell);\n      }\n      if (isHorizontal) {\n        this.cellSize = {\n          width: this.children.map((x: RecordCell) => x.cellSize!.width)\n            .reduce((a, b) => a + b, 0),\n          height: Math.max(...this.children.map(\n            (x: RecordCell) => x.cellSize!.height)),\n        };\n      } else {\n        this.cellSize = {\n          width: Math.max(...this.children.map(\n            (x: RecordCell) => x.cellSize!.width)),\n          height: this.children.map((x: RecordCell) => x.cellSize!.height)\n            .reduce((a, b) => a + b, 0),\n        };\n      }\n    }\n  }\n  public setCellSize(width: number, height: number) {\n    if (!this.isField) {\n      if (this.isHorizontal) {\n        const deltaWidth = (width - this.cellSize!.width) / this.children!.length;\n        let startX = -width / 2;\n        for (const child of this.children!) {\n          child.setCellSize(child.cellSize!.width + deltaWidth, height);\n          child.position = {\n            x: startX + child.cellSize!.width / 2,\n            y: 0,\n          };\n          startX += child.cellSize!.width;\n        }\n      } else {\n        const deltaHeight = (height - this.cellSize!.height) /\n          this.children!.length;\n        let startY = -height / 2;\n        for (const child of this.children!) {\n          child.setCellSize(width, child.cellSize!.height + deltaHeight);\n          child.position = {\n            x: 0,\n            y: startY + child.cellSize!.height / 2,\n          };\n          startY += child.cellSize!.height;\n        }\n      }\n    }\n    this.cellSize = { width, height };\n  }\n  public getCellSize(): Size | undefined {\n    return this.cellSize;\n  }\n  public render(): object[] {\n    let rendered: object[];\n    if (this.isField) {\n      const config = this.nodeType.getConfig()!;\n      rendered = [\n        {\n          is: 'v-rect',\n          key: 'rect',\n          config: {\n            x: -this.cellSize!.width / 2,\n            y: -this.cellSize!.height / 2,\n            width: this.cellSize!.width,\n            height: this.cellSize!.height,\n            fill: config.style === 'filled' ? config.fillColor : undefined,\n            stroke: config.strokeWidth > 0 ? config.strokeColor : undefined,\n            strokeWidth: config.strokeWidth,\n          },\n        },\n      ];\n      if (this.label) {\n        rendered.push({\n          is: 'v-text',\n          key: 'text',\n          config: {\n            x: -this.contentSize!.width / 2,\n            y: -this.contentSize!.height / 2,\n            text: this.label,\n            fontSize: config.fontSize,\n            fontFamily: config.fontFamily,\n            lineHeight: config.lineHeight,\n            padding: config.padding,\n            align: config.align,\n          },\n        });\n      }\n    } else {\n      rendered = this.children!.map((x, i) => {\n        const position = x.getPosition();\n        return {\n          is: 'Group',\n          key: `record-${i}`,\n          config: {\n            x: position.x,\n            y: position.y,\n          },\n          children: x.render(),\n        };\n      });\n    }\n    return rendered;\n  }\n  public getBoundingBoxSize(): Size {\n    const config = this.nodeType.getConfig()!;\n    return {\n      width: this.cellSize!.width + config.strokeWidth,\n      height: this.cellSize!.height + config.strokeWidth,\n    };\n  }\n  public distanceToBorder(angle: number): number {\n    const borderSize = this.getBoundingBoxSize();\n    return Math.min(\n      Math.abs(borderSize.width / 2 / Math.cos(angle)),\n      Math.abs(borderSize.height / 2 / Math.sin(angle)),\n    );\n  }\n}\n","import NodeType from './NodeType';\nimport Node from '@/graph/node/Node';\nimport recordParser from './recordParser';\nimport RecordCell from './RecordCell';\nimport {RecordNodeData, Size} from '@/graph/base/data';\nimport Port from '@/graph/base/Port';\n\ninterface RecordNodeConfig {\n  label: string;\n  direction: 'horizontal' | 'vertical';\n  style: 'solid' | 'filled';\n  fillColor: string;\n  strokeColor: string;\n  strokeWidth: number;\n  fontSize: number;\n  fontFamily: string;\n  lineHeight: number;\n  padding: number;\n  align: 'left' | 'center' | 'right';\n}\n\nexport default class RecordNodeType extends NodeType {\n  public static defaultConfig: RecordNodeConfig = {\n    label: '',\n    direction: 'horizontal', // or 'vertical'\n    style: 'solid',\n    fillColor: 'white',\n    strokeColor: 'black',\n    strokeWidth: 1,\n    fontSize: 12,\n    fontFamily: 'sans-serif',\n    lineHeight: 1.2,\n    padding: 4,\n    align: 'center',\n  };\n  private config?: RecordNodeConfig;\n  private ports?: Map<string, Port>;\n  private root?: RecordCell;\n  private borderSize?: Size;\n  constructor(parent: Node) {\n    super(parent);\n  }\n  public getConfig(): RecordNodeConfig | undefined {\n    return this.config;\n  }\n  public getPorts(): Map<string, Port> | undefined {\n    return this.ports;\n  }\n  public setData(data: RecordNodeData) {\n    const newConfig = Object.assign({}, RecordNodeType.defaultConfig, data);\n    const contentNeedsUpdate = !this.config ||\n      this.config.label !== newConfig.label ||\n      this.config.direction !== newConfig.direction ||\n      this.config.fontSize !== newConfig.fontSize ||\n      this.config.fontFamily !== newConfig.fontFamily ||\n      this.config.lineHeight !== newConfig.lineHeight ||\n      this.config.padding !== newConfig.padding;\n    const borderNeedsUpdate = contentNeedsUpdate ||\n      this.config!.strokeWidth !== newConfig.strokeWidth;\n    this.config = newConfig;\n    if (contentNeedsUpdate) {\n      const record = recordParser(data.label);\n      this.root = new RecordCell(this.parent.root, this.parent, this);\n      this.ports = new Map();\n      this.root.setData(record, this.config.direction === 'horizontal');\n      const rootCellSize = this.root.getCellSize()!;\n      this.root.setCellSize(rootCellSize.width, rootCellSize.height);\n    }\n    if (borderNeedsUpdate) {\n      const rootCellSize = this.root!.getCellSize()!;\n      this.borderSize = {\n        width: rootCellSize.width + this.config.strokeWidth,\n        height: rootCellSize.height + this.config.strokeWidth,\n      };\n    }\n  }\n  public render() {\n    return this.root!.render();\n  }\n  public findPort(id: string[]): Port | null {\n    if (id.length === 1) {\n      const founded = this.ports!.get(id[0]);\n      if (founded) {\n        return founded;\n      }\n      return null;\n    }\n    return null;\n  }\n  public getBoundingBoxSize() {\n    return this.borderSize!;\n  }\n  public distanceToBorder(angle: number) {\n    return Math.min(\n      Math.abs(this.borderSize!.width / 2 / Math.cos(angle)),\n      Math.abs(this.borderSize!.height / 2 / Math.sin(angle)),\n    );\n  }\n}\n","import TableNodeType from '@/graph/node/type/TableNodeType';\nimport Root from '@/graph/Root';\nimport {Element} from 'xml-js';\nimport {Size} from '@/graph/base/data';\nimport Port from '@/graph/base/Port';\n\ninterface TableCellConfig {\n  rowSpan: number;\n  columnSpan: number;\n  border: number;\n  backgroundColor: string;\n}\n\nexport default class TableCell extends Port {\n  public rowOffset?: number;\n  public columnOffset?: number;\n  public contentSize?: Size;\n  public cellSize?: Size;\n  private readonly nodeType: TableNodeType;\n  private config?: TableCellConfig;\n  private port?: string;\n  private label?: string;\n  private textSize?: Size;\n  constructor(root: Root, parent: Port, nodeType: TableNodeType) {\n     super(root, parent);\n     this.nodeType = nodeType;\n  }\n  public setData(data: any) {\n    this.config = {\n      rowSpan: 1,\n      columnSpan: 1,\n      border: this.nodeType.getTableConfig()!.cellBorder,\n      backgroundColor: 'white',\n    };\n    if (data.attributes) {\n      for (const attribute of Object.keys(data.attributes)) {\n        const value = data.attributes[attribute];\n        switch (attribute.toLowerCase()) {\n          case 'rowspan':\n            this.config.rowSpan = parseInt(value, 10);\n            break;\n          case 'colspan':\n            this.config.columnSpan = parseInt(value, 10);\n            break;\n          case 'border':\n            this.config.border = parseInt(value, 10);\n            break;\n          case 'bgcolor':\n            this.config.backgroundColor = value;\n            break;\n          case 'port':\n            this.port = value;\n            break;\n          default:\n            throw new Error('Unknown attribute for table cell');\n        }\n      }\n    }\n    function getText(element: Element): string {\n      switch (element.type) {\n        case 'text':\n          if (typeof element.text === 'string') {\n            return element.text;\n          }\n          return '';\n        case 'element':\n          if (element.name && element.name.toLowerCase() === 'br') {\n            return '\\n';\n          }\n          if (element.elements) {\n            return element.elements.map(getText).join('');\n          } else {\n            return '';\n          }\n        default:\n          throw new Error('Unknown element type');\n      }\n    }\n    this.label = getText(data);\n    const parentConfig = this.nodeType.getConfig()!;\n    const tableConfig = this.nodeType.getTableConfig()!;\n    const ctx = this.root.ctx;\n    ctx.font = `${parentConfig.fontSize}px ${parentConfig.fontFamily}`;\n    const lines = this.label ? this.label.split('\\n') : [];\n    this.textSize = {\n      width: Math.max(...lines.map((x) => ctx.measureText(x).width), 0),\n      height: lines.length * parentConfig.fontSize * parentConfig.lineHeight,\n    };\n    this.contentSize = {\n      width: this.textSize.width + 2 * tableConfig.cellPadding,\n      height: this.textSize.height + 2 * tableConfig.cellPadding,\n    };\n    this.cellSize = {\n      width: this.contentSize.width,\n      height: this.contentSize.height,\n    };\n    this.rowOffset = 0;\n    this.columnOffset = 0;\n  }\n  public render() {\n    const rect = {\n      is: 'v-rect',\n      key: 'rect',\n      config: {\n        x: -this.cellSize!.width / 2,\n        y: -this.cellSize!.height / 2,\n        width: this.cellSize!.width,\n        height: this.cellSize!.height,\n        fill: this.config!.backgroundColor,\n        stroke: this.config!.border > 0 ? 'black' : undefined,\n        strokeWidth: this.config!.border,\n      },\n    };\n    const rendered: object[] = [rect];\n    if (this.label) {\n      const parentConfig = this.nodeType.getConfig()!;\n      const text = {\n        is: 'v-text',\n        key: 'text',\n        config: {\n          x: -this.contentSize!.width / 2,\n          y: -this.contentSize!.height / 2,\n          text: this.label,\n          fontSize: parentConfig.fontSize,\n          fontFamily: parentConfig.fontFamily,\n          lineHeight: parentConfig.lineHeight,\n          padding: this.nodeType.getTableConfig()!.cellPadding,\n          align: 'center',\n        },\n      };\n      rendered.push(text);\n    }\n    return {\n      is: 'Group',\n      key: `cell-${this.rowOffset}-${this.columnOffset}`,\n      config: {\n        x: this.position.x,\n        y: this.position.y,\n      },\n      children: rendered,\n    };\n  }\n  public getConfig(): TableCellConfig | undefined {\n    return this.config;\n  }\n  public getPort(): string | undefined {\n    return this.port;\n  }\n  public getBoundingBoxSize() {\n    return {\n      width: this.cellSize!.width + this.config!.border,\n      height: this.cellSize!.height + this.config!.border,\n    };\n  }\n  public distanceToBorder(angle: number) {\n    const borderSize = this.getBoundingBoxSize();\n    return Math.min(\n      Math.abs(borderSize.width / 2 / Math.cos(angle)),\n      Math.abs(borderSize.height / 2 / Math.sin(angle)),\n    );\n  }\n}\n","import convert, {Element} from 'xml-js';\nimport NodeType from './NodeType';\nimport TableCell from './TableCell';\nimport Node from '@/graph/node/Node';\nimport {Size, TableNodeData} from '@/graph/base/data';\nimport Port from '@/graph/base/Port';\n\ninterface TableNodeConfig {\n  label: string;\n  fontSize: number;\n  fontFamily: string;\n  lineHeight: number;\n}\n\ninterface TableConfig {\n  border: number;\n  cellBorder: number;\n  cellSpacing: number;\n  cellPadding: number;\n}\n\nexport default class TableNodeType extends NodeType {\n  public static defaultConfig: TableNodeConfig = {\n    label: '',\n    fontSize: 12,\n    fontFamily: 'sans-serif',\n    lineHeight: 1.2,\n  };\n  private config?: TableNodeConfig;\n  private tableConfig?: TableConfig;\n  private table?: TableCell[][];\n  private ports?: Map<string, Port>;\n  private contentSize?: Size;\n  private borderSize?: Size;\n  constructor(parent: Node) {\n    super(parent);\n  }\n  public setData(data: TableNodeData) {\n    const newConfig = Object.assign({}, TableNodeType.defaultConfig, data);\n    const layoutNeedsUpdate = !this.config ||\n      this.config.label !== newConfig.label ||\n      this.config.fontSize !== newConfig.fontSize ||\n      this.config.fontFamily !== newConfig.fontFamily ||\n      this.config.lineHeight !== newConfig.lineHeight;\n    this.config = newConfig;\n    if (layoutNeedsUpdate) {\n      const jsonObj = convert.xml2js(this.config.label) as Element;\n      if (!jsonObj.elements || !jsonObj.elements[0] ||\n          !jsonObj.elements[0].name ||\n          jsonObj.elements[0].name.toLowerCase() !== 'table') {\n        throw new Error('Expect table element');\n      }\n      const tableElement = jsonObj.elements[0];\n      this.tableConfig = {\n        border: 0,\n        cellBorder: 1,\n        cellSpacing: 0,\n        cellPadding: 4,\n      };\n      if (tableElement.attributes) {\n        for (const attribute of Object.keys(tableElement.attributes)) {\n          const value = tableElement.attributes[attribute] as string;\n          switch (attribute.toLowerCase()) {\n            case 'border':\n              this.tableConfig.border = parseInt(value, 10);\n              break;\n            case 'cellborder':\n              this.tableConfig.cellBorder = parseInt(value, 10);\n              break;\n            case 'cellspacing':\n              this.tableConfig.cellSpacing = parseInt(value, 10);\n              break;\n            case 'cellpadding':\n              this.tableConfig.cellPadding = parseInt(value, 10);\n              break;\n            default:\n              throw new Error('Unknown attribute for table');\n          }\n        }\n      }\n      // Parse table and get numbers of rows and columns\n      this.table = [];\n      this.ports = new Map();\n      let rows = 0;\n      let columns = 0;\n      let firstRow = true;\n      if (tableElement.elements) {\n        for (const tr of tableElement.elements) {\n          if (!tr.name || tr.name.toLowerCase() !== 'tr') {\n            throw new Error('Expect tr element');\n          }\n          const row = [];\n          if (tr.elements) {\n            for (const td of tr.elements) {\n              if (!td.name || td.name.toLowerCase() !== 'td') {\n                throw new Error('Expect td element');\n              }\n              const cell = new TableCell(this.parent.root, this.parent, this);\n              cell.setData(td);\n              const port = cell.getPort();\n              if (port) {\n                this.ports.set(port, cell);\n              }\n              if (firstRow) {\n                columns += cell.getConfig()!.columnSpan;\n              }\n              row.push(cell);\n            }\n          }\n          ++rows;\n          if (firstRow) {\n            firstRow = false;\n          }\n          this.table.push(row);\n        }\n      }\n      // Create empty cell size table\n      const cellSizes = [];\n      for (let i = 0; i < rows; ++i) {\n        cellSizes.push(Array(columns).fill(null));\n      }\n      // Fill size table with minimum required size\n      for (let rowOffset = 0; rowOffset < rows; ++rowOffset) {\n        let columnOffset = 0;\n        for (const cell of this.table[rowOffset]) {\n          while (columnOffset < columns && cellSizes[rowOffset][columnOffset]) {\n            ++columnOffset;\n          }\n          cell.rowOffset = rowOffset;\n          cell.columnOffset = columnOffset;\n          const {rowSpan, columnSpan} = cell.getConfig()!;\n          const cellHeight = (cell.contentSize!.height -\n            (rowSpan - 1) * this.tableConfig.cellSpacing) / rowSpan;\n          const cellWidth = (cell.contentSize!.width -\n            (columnSpan - 1) * this.tableConfig.cellSpacing) / columnSpan;\n          for (let i = 0; i < rowSpan; ++i) {\n            for (let j = 0; j < columnSpan; ++j) {\n              cellSizes[rowOffset + i][columnOffset + j] = {\n                width: cellWidth,\n                height: cellHeight,\n              };\n            }\n          }\n          columnOffset += columnSpan;\n        }\n      }\n      // Get height of rows and width of columns\n      const rowHeight = [];\n      const columnWidth = [];\n      for (let i = 0; i < rows; ++i) {\n        let max = -Infinity;\n        for (let j = 0; j < columns; ++j) {\n          if (cellSizes[i][j].height > max) {\n            max = cellSizes[i][j].height;\n          }\n        }\n        rowHeight.push(max);\n      }\n      for (let j = 0; j < columns; ++j) {\n        let max = -Infinity;\n        for (let i = 0; i < rows; ++i) {\n          if (cellSizes[i][j].width > max) {\n            max = cellSizes[i][j].width;\n          }\n        }\n        columnWidth.push(max);\n      }\n      // Get accumulated height and width\n      const accRowHeight = [0];\n      const accColumnWidth = [0];\n      for (let i = 0; i < rows; ++i) {\n        accRowHeight.push(accRowHeight[i] + rowHeight[i] +\n          this.tableConfig.cellSpacing);\n      }\n      for (let i = 0; i < columns; ++i) {\n        accColumnWidth.push(accColumnWidth[i] + columnWidth[i] +\n          this.tableConfig.cellSpacing);\n      }\n      this.contentSize = {\n        width: accColumnWidth[accColumnWidth.length - 1] -\n          this.tableConfig.cellSpacing,\n        height: accRowHeight[accRowHeight.length - 1] -\n          this.tableConfig.cellSpacing,\n      };\n      // Set size and position to cells\n      for (const row of this.table) {\n        for (const cell of row) {\n          const {rowSpan, columnSpan} = cell.getConfig()!;\n          const {rowOffset, columnOffset} = cell;\n          const upperLeftX = accColumnWidth[columnOffset!];\n          const upperLeftY = accRowHeight[rowOffset!];\n          const width = accColumnWidth[columnOffset! + columnSpan] -\n            upperLeftX - this.tableConfig.cellSpacing;\n          const height = accRowHeight[rowOffset! + rowSpan] -\n            upperLeftY - this.tableConfig.cellSpacing;\n          cell.setPosition({\n            x: upperLeftX + width / 2 - this.contentSize.width / 2,\n            y: upperLeftY + height / 2 - this.contentSize.height / 2,\n          });\n          cell.cellSize = { width, height };\n        }\n      }\n      this.borderSize = {\n        width: this.contentSize.width + this.tableConfig.border +\n          2 * this.tableConfig.cellSpacing,\n        height: this.contentSize.height + this.tableConfig.border +\n          2 * this.tableConfig.cellSpacing,\n      };\n    }\n  }\n  public render() {\n    const rendered = [];\n    rendered.push( {\n      is: 'v-rect',\n      key: 'rect',\n      config: {\n        x: -this.contentSize!.width / 2 - this.tableConfig!.cellSpacing,\n        y: -this.contentSize!.height / 2 - this.tableConfig!.cellSpacing,\n        width: this.contentSize!.width + 2 * this.tableConfig!.cellSpacing,\n        height: this.contentSize!.height + 2 * this.tableConfig!.cellSpacing,\n        fill: 'white',\n        stroke: this.tableConfig!.border > 0 ? 'black' : undefined,\n        strokeWidth: this.tableConfig!.border,\n      },\n    });\n    for (const row of this.table!) {\n      for (const cell of row) {\n        rendered.push(cell.render());\n      }\n    }\n    return rendered;\n  }\n  public getConfig(): TableNodeConfig | undefined {\n    return this.config;\n  }\n  public getTableConfig(): TableConfig | undefined {\n    return this.tableConfig;\n  }\n  public findPort(id: string[]): Port | null {\n    if (id.length === 1) {\n      const founded = this.ports!.get(id[0]);\n      if (founded) {\n        return founded;\n      }\n      return null;\n    }\n    return null;\n  }\n  public getBoundingBoxSize() {\n    return this.borderSize!;\n  }\n  public distanceToBorder(angle: number) {\n    return Math.min(\n      Math.abs(this.borderSize!.width / 2 / Math.cos(angle)),\n      Math.abs(this.borderSize!.height / 2 / Math.sin(angle)),\n    );\n  }\n}\n","import BoxNodeType from '@/graph/node/type/BoxNodeType';\nimport NodeType from '@/graph/node/type/NodeType';\nimport {NodeData} from '@/graph/base/data';\nimport Node from '@/graph/node/Node';\nimport RecordNodeType from '@/graph/node/type/RecordNodeType';\nimport TableNodeType from '@/graph/node/type/TableNodeType';\n\nexport default function nodeTypeFactory(data: NodeData)\n    : new (parent: Node) => NodeType {\n  switch (data.shape) {\n    case 'table':\n      return TableNodeType;\n    case 'record':\n      return RecordNodeType;\n    default:\n      return BoxNodeType;\n  }\n}\n","import {NodeData} from '@/graph/base/data';\nimport Root from '@/graph/Root';\nimport nodeTypeFactory from '@/graph/node/type';\nimport NodeType from '@/graph/node/type/NodeType';\nimport Renderable from '@/graph/base/Renderable';\nimport Port from '@/graph/base/Port';\nimport Positioned from '@/graph/base/Positioned';\n\nexport default class Node extends Port implements Renderable {\n  public static getId(data: NodeData) {\n    if (!data.id) {\n      throw new Error('Missing id field for node');\n    }\n    return data.id;\n  }\n  private nodeType?: NodeType;\n  constructor(root: Root, parent: Positioned | null = null) {\n    super(root, parent);\n  }\n  public setData(data: NodeData) {\n    this.id = Node.getId(data);\n    const typeClass = nodeTypeFactory(data);\n    if (!this.nodeType || this.nodeType.constructor !== typeClass) {\n      this.nodeType = new typeClass(this);\n    }\n    this.nodeType.setData(data);\n  }\n  public render() {\n    return {\n      is: 'Group',\n      key: this.id,\n      config: {\n        x: this.position.x,\n        y: this.position.y,\n      },\n      children: this.nodeType!.render(),\n    };\n  }\n  public findPort(id: string[]): Port | null {\n    if (id.length === 0) {\n      return this;\n    }\n    return this.nodeType!.findPort(id);\n  }\n  public getBoundingBoxSize() {\n    return this.nodeType!.getBoundingBoxSize();\n  }\n  public distanceToBorder(angle: number) {\n    return this.nodeType!.distanceToBorder(angle);\n  }\n}\n","import Root from '@/graph/Root';\nimport Edge from '@/graph/edge/Edge';\nimport Graph from '@/graph/graph/Graph';\nimport Node from '@/graph/node/Node';\nimport {RenderableData} from '@/graph/base/data';\nimport Renderable from '@/graph/base/Renderable';\nimport Positioned from '@/graph/base/Positioned';\n\ninterface RenderableConstructor {\n  new (root: Root, parent: Positioned | null): Renderable;\n  getId(data: RenderableData): string;\n}\n\nexport default function renderableFactory(data: RenderableData)\n    : RenderableConstructor {\n  switch (data.type) {\n    case 'node':\n      return Node;\n    case 'edge':\n      return Edge;\n    case 'graph':\n      return Graph;\n    default:\n      throw new Error('Unknown renderable object');\n  }\n}\n","export default \"digraph stdThreadJoin {\\nlabel=\\\" VFG of stdThreadJoin\\\"\\ngraph [rankdir=\\\"LR\\\"]\\nsubgraph cluster_input {\\nlabel=\\\"Inputs\\\"\\nstyle=filled\\ncolor=black\\nfillcolor=darkolivegreen1\\nN912 [label=\\\"N912\\\\n[arg:stdThreadJoin_0]\\\", style=filled, fillcolor=\\\"cyan3\\\", shape=box]\\nN913 [label=\\\"N913\\\\n[arg:stdThreadJoin_0]*\\\", style=filled, fillcolor=\\\"cyan3\\\", shape=box]\\n} # end of input\\nsubgraph cluster_output {\\nlabel=\\\"Outputs\\\"\\nstyle=filled\\ncolor=black\\nfillcolor=goldenrod1\\nN940 [label=\\\"N940\\\\n_\\\", style=filled, fillcolor=\\\"cornflowerblue\\\", shape=box]\\n} # end of output\\n# body nodes\\nN919 [label=\\\"N919\\\\n&dummy\\\", style=filled, fillcolor=\\\"cyan3\\\", shape=box]\\nN925 [label=\\\"N925\\\\n0\\\", style=filled, fillcolor=\\\"lightgrey\\\", shape=box]\\nN926 [label=<<table  border='0' cellspacing='0'><tr><td port='top' bgcolor='palegreen' border='1'>N926(%6)<br/>getelementptr</td></tr><tr><td port='op_1' border='1'>N912</td></tr><tr><td port='op_2' border='1'>N925</td></tr><tr><td port='op_3' border='1'>N925</td></tr></table>>, shape=none]\\nN927 [label=\\\"N927\\\\nDEREF\\\", style=filled, fillcolor=\\\"gainsboro\\\", shape=box]\\nN928 [label=\\\"N928\\\\nstdThreadJoin::6*\\\", style=filled, fillcolor=\\\"cyan3\\\", shape=box]\\nN930 [label=\\\"N930\\\\n[arg:_pthread_join_0]\\\", style=filled, fillcolor=\\\"cornflowerblue\\\", shape=box]\\nN931 [label=\\\"N931\\\\n[arg:_pthread_join_1]\\\", style=filled, fillcolor=\\\"cornflowerblue\\\", shape=box]\\nN932 [label=\\\"N932\\\\nstdThreadJoin::8\\\", style=filled, fillcolor=\\\"cyan3\\\", shape=box]\\nN933 [label=<<table  border='0' cellspacing='0'><tr><td port='top' bgcolor='palegreen' border='1'>N933(%9)<br/>icmp ne</td></tr><tr><td port='op_1' border='1'>N925</td></tr><tr><td port='op_2' border='1'>N932</td></tr></table>>, shape=none]\\nN934 [label=\\\"N934\\\\n1\\\", style=filled, fillcolor=\\\"lightgrey\\\", shape=box]\\nN937 [label=\\\"N937\\\\n&gamma;\\\", style=filled, fillcolor=\\\"darksalmon\\\", shape=box]\\n# proxy\\nP595 [label=\\\"\\\",style=filled,color=crimson,fillcolor=crimson,shape=circle,height=0.05,width=0.05]\\nP596 [label=\\\"\\\",style=filled,color=crimson,fillcolor=crimson,shape=circle,height=0.05,width=0.05]\\n# end of body\\nN937 -> N940\\nN912 -> N926:op_1\\nN925 -> N926:op_2\\nN925 -> N926:op_3\\nN926:top -> N927\\nN928 -> N930\\nN919 -> N931\\nN925 -> N933:op_1\\nN932 -> N933:op_2\\nN925 -> P595 [arrowhead=none]\\nP595 -> N937\\nN933:top -> P595 [label=\\\"N933\\\",style=dotted,color=crimson]\\nN934 -> P596 [arrowhead=none]\\nP596 -> N937\\nN933:top -> P596 [label=\\\"!(N933)\\\",style=dotted,color=crimson]\\nCS_31 [shape=record,style=bold,label=\\\"_pthread_join | { {<cs_id_in_0> N930 | <cs_id_in_1> N931} | {<cs_id_out_0> N932} }\\\"]\\nN930 -> CS_31:cs_id_in_0\\nN931 -> CS_31:cs_id_in_1\\nCS_31:cs_id_out_0 -> N932\\n}\\n\"","export default \"{\\n  \\\"type\\\": \\\"graph\\\",\\n  \\\"id\\\": \\\"stdThreadJoin\\\",\\n  \\\"label\\\": \\\"VFG of stdThreadJoin\\\",\\n  \\\"layout\\\": {\\n    \\\"type\\\": \\\"KamadaKawai\\\",\\n    \\\"springLength\\\": 150,\\n    \\\"direction\\\": \\\"LR\\\"\\n  },\\n  \\\"children\\\": [\\n    {\\n      \\\"type\\\": \\\"graph\\\",\\n      \\\"id\\\": \\\"cluster_input\\\",\\n      \\\"label\\\": \\\"Inputs\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"darkolivegreen\\\",\\n      \\\"strokeWidth\\\": 1,\\n      \\\"strokeColor\\\": \\\"black\\\",\\n      \\\"children\\\": [\\n        {\\n          \\\"type\\\": \\\"node\\\",\\n          \\\"id\\\": \\\"N912\\\",\\n          \\\"label\\\": \\\"N912\\\\n[arg:stdThreadJoin_0]\\\",\\n          \\\"style\\\": \\\"filled\\\",\\n          \\\"fillColor\\\": \\\"cyan\\\",\\n          \\\"shape\\\": \\\"box\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"node\\\",\\n          \\\"id\\\": \\\"N913\\\",\\n          \\\"label\\\": \\\"N913\\\\n[arg:stdThreadJoin_0]*\\\",\\n          \\\"style\\\": \\\"filled\\\",\\n          \\\"fillColor\\\": \\\"cyan\\\",\\n          \\\"shape\\\": \\\"box\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"type\\\": \\\"graph\\\",\\n      \\\"id\\\": \\\"cluster_output\\\",\\n      \\\"label\\\": \\\"Outputs\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"goldenrod\\\",\\n      \\\"strokeWidth\\\": 1,\\n      \\\"strokeColor\\\": \\\"black\\\",\\n      \\\"children\\\": [\\n        {\\n          \\\"type\\\": \\\"node\\\",\\n          \\\"id\\\": \\\"N940\\\",\\n          \\\"label\\\": \\\"N940\\\\n_\\\",\\n          \\\"style\\\": \\\"filled\\\",\\n          \\\"fillColor\\\": \\\"cornflowerblue\\\",\\n          \\\"shape\\\": \\\"box\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N919\\\",\\n      \\\"label\\\": \\\"N919\\\\n&dummy\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"cyan\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N925\\\",\\n      \\\"label\\\": \\\"N925\\\\n0\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"lightgrey\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N926\\\",\\n      \\\"label\\\": \\\"<table  border='0' cellspacing='0'><tr><td port='top' bgcolor='palegreen' border='1'>N926(%6)<br/>getelementptr</td></tr><tr><td port='op_1' border='1'>N912</td></tr><tr><td port='op_2' border='1'>N925</td></tr><tr><td port='op_3' border='1'>N925</td></tr></table>\\\",\\n      \\\"shape\\\": \\\"table\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N927\\\",\\n      \\\"label\\\": \\\"N927\\\\nDEREF\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"gainsboro\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N928\\\",\\n      \\\"label\\\": \\\"N928\\\\nstdThreadJoin::6*\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"cyan\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N930\\\",\\n      \\\"label\\\": \\\"N930\\\\n[arg:_pthread_join_0]\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"cornflowerblue\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N931\\\",\\n      \\\"label\\\": \\\"N931\\\\n[arg:_pthread_join_1]\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"cornflowerblue\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N932\\\",\\n      \\\"label\\\": \\\"N932\\\\nstdThreadJoin::8\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"cyan\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N933\\\",\\n      \\\"label\\\": \\\"<table  border='0' cellspacing='0'><tr><td port='top' bgcolor='palegreen' border='1'>N933(%9)<br/>icmp ne</td></tr><tr><td port='op_1' border='1'>N925</td></tr><tr><td port='op_2' border='1'>N932</td></tr></table>\\\",\\n      \\\"shape\\\": \\\"table\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N934\\\",\\n      \\\"label\\\": \\\"N934\\\\n1\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"lightgrey\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"N937\\\",\\n      \\\"label\\\": \\\"N937\\\\n&gamma;\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"darksalmon\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"P595\\\",\\n      \\\"label\\\": \\\"\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"color\\\": \\\"crimson\\\",\\n      \\\"fillColor\\\": \\\"crimson\\\",\\n      \\\"shape\\\": \\\"circle\\\",\\n      \\\"radius\\\": 0.025\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"P596\\\",\\n      \\\"label\\\": \\\"\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"color\\\": \\\"crimson\\\",\\n      \\\"fillColor\\\": \\\"crimson\\\",\\n      \\\"shape\\\": \\\"circle\\\",\\n      \\\"radius\\\": 0.025\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N937\\\",\\n      \\\"to\\\": \\\"N940\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N912\\\",\\n      \\\"to\\\": \\\"N926:op_1\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N925\\\",\\n      \\\"to\\\": \\\"N926:op_2\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N925\\\",\\n      \\\"to\\\": \\\"N926:op_3\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N926:top\\\",\\n      \\\"to\\\": \\\"N927\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N928\\\",\\n      \\\"to\\\": \\\"N930\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N919\\\",\\n      \\\"to\\\": \\\"N931\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N925\\\",\\n      \\\"to\\\": \\\"N933:op_1\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N932\\\",\\n      \\\"to\\\": \\\"N933:op_2\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N925\\\",\\n      \\\"to\\\": \\\"P595\\\",\\n      \\\"arrowHead\\\": \\\"none\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"P595\\\",\\n      \\\"to\\\": \\\"N937\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N933:top\\\",\\n      \\\"to\\\": \\\"P595\\\",\\n      \\\"label\\\": \\\"N933\\\",\\n      \\\"style\\\": \\\"dotted\\\",\\n      \\\"color\\\": \\\"crimson\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N934\\\",\\n      \\\"to\\\": \\\"P596\\\",\\n      \\\"arrowHead\\\": \\\"none\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"P596\\\",\\n      \\\"to\\\": \\\"N937\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N933:top\\\",\\n      \\\"to\\\": \\\"P596\\\",\\n      \\\"label\\\": \\\"!(N933)\\\",\\n      \\\"style\\\": \\\"dotted\\\",\\n      \\\"color\\\": \\\"crimson\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"CS_31\\\",\\n      \\\"shape\\\": \\\"record\\\",\\n      \\\"style\\\": \\\"bold\\\",\\n      \\\"direction\\\": \\\"vertical\\\",\\n      \\\"label\\\": \\\"_pthread_join | { {<cs_id_in_0> N930 | <cs_id_in_1> N931} | {<cs_id_out_0> N932} }\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N930\\\",\\n      \\\"to\\\": \\\"CS_31:cs_id_in_0\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"N931\\\",\\n      \\\"to\\\": \\\"CS_31:cs_id_in_1\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"CS_31:cs_id_out_0\\\",\\n      \\\"to\\\": \\\"N932\\\"\\n    }\\n  ]\\n}\\n\"","export default \"{\\n  \\\"type\\\": \\\"node\\\",\\n  \\\"id\\\": \\\"N926\\\",\\n  \\\"label\\\": \\\"hello\\\\\\\\nworld |{ b |{c|<here> d|e}| f}| g | h\\\",\\n  \\\"shape\\\": \\\"record\\\"\\n}\\n\"","export default \"{\\n  \\\"type\\\": \\\"graph\\\",\\n  \\\"id\\\": \\\"stdThreadJoin\\\",\\n  \\\"label\\\": \\\"VFG of stdThreadJoin\\\",\\n  \\\"layout\\\": {\\n    \\\"type\\\": \\\"KamadaKawai\\\",\\n    \\\"springLength\\\": 150,\\n    \\\"direction\\\": \\\"LR\\\"\\n  },\\n  \\\"children\\\": [\\n    {\\n      \\\"type\\\": \\\"graph\\\",\\n      \\\"id\\\": \\\"cluster_input\\\",\\n      \\\"label\\\": \\\"Inputs\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"darkolivegreen\\\",\\n      \\\"strokeWidth\\\": 1,\\n      \\\"strokeColor\\\": \\\"black\\\",\\n      \\\"children\\\": [\\n        {\\n          \\\"type\\\": \\\"node\\\",\\n          \\\"id\\\": \\\"N921\\\",\\n          \\\"label\\\": \\\"N912\\\\n[arg:stdThreadJoin_0]\\\",\\n          \\\"style\\\": \\\"filled\\\",\\n          \\\"fillColor\\\": \\\"cyan\\\",\\n          \\\"shape\\\": \\\"box\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"node\\\",\\n          \\\"id\\\": \\\"N913\\\",\\n          \\\"label\\\": \\\"N913\\\\n[arg:stdThreadJoin_0]*\\\",\\n          \\\"style\\\": \\\"filled\\\",\\n          \\\"fillColor\\\": \\\"cyan\\\",\\n          \\\"shape\\\": \\\"box\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"type\\\": \\\"graph\\\",\\n      \\\"id\\\": \\\"cluster_output\\\",\\n      \\\"label\\\": \\\"Outputs\\\",\\n      \\\"style\\\": \\\"filled\\\",\\n      \\\"fillColor\\\": \\\"goldenrod\\\",\\n      \\\"strokeWidth\\\": 1,\\n      \\\"strokeColor\\\": \\\"black\\\",\\n      \\\"children\\\": [\\n        {\\n          \\\"type\\\": \\\"node\\\",\\n          \\\"id\\\": \\\"N940\\\",\\n          \\\"label\\\": \\\"N940\\\\n_\\\",\\n          \\\"style\\\": \\\"filled\\\",\\n          \\\"fillColor\\\": \\\"cornflowerblue\\\",\\n          \\\"shape\\\": \\\"box\\\"\\n        }\\n      ]\\n    }\\n  ]\\n}\\n\"","export default \"{\\n  \\\"type\\\": \\\"graph\\\",\\n  \\\"id\\\": \\\"cluster_input\\\",\\n  \\\"layout\\\": {\\n    \\\"type\\\": \\\"KamadaKawai\\\",\\n    \\\"direction\\\": \\\"LR\\\"\\n  },\\n  \\\"children\\\": [\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"0\\\",\\n      \\\"label\\\": \\\"0\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"1\\\",\\n      \\\"label\\\": \\\"1\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"2\\\",\\n      \\\"label\\\": \\\"2\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"3\\\",\\n      \\\"label\\\": \\\"3\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"4\\\",\\n      \\\"label\\\": \\\"4\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"5\\\",\\n      \\\"label\\\": \\\"5\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"6\\\",\\n      \\\"label\\\": \\\"6\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"7\\\",\\n      \\\"label\\\": \\\"7\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"8\\\",\\n      \\\"label\\\": \\\"8\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"9\\\",\\n      \\\"label\\\": \\\"9\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"10\\\",\\n      \\\"label\\\": \\\"10\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"node\\\",\\n      \\\"id\\\": \\\"11\\\",\\n      \\\"label\\\": \\\"11\\\",\\n      \\\"shape\\\": \\\"box\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"0\\\",\\n      \\\"to\\\": \\\"1\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"1\\\",\\n      \\\"to\\\": \\\"2\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"2\\\",\\n      \\\"to\\\": \\\"0\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"0\\\",\\n      \\\"to\\\": \\\"3\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"3\\\",\\n      \\\"to\\\": \\\"2\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"3\\\",\\n      \\\"to\\\": \\\"4\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"4\\\",\\n      \\\"to\\\": \\\"0\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"4\\\",\\n      \\\"to\\\": \\\"5\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"5\\\",\\n      \\\"to\\\": \\\"0\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"5\\\",\\n      \\\"to\\\": \\\"1\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"1\\\",\\n      \\\"to\\\": \\\"8\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"8\\\",\\n      \\\"to\\\": \\\"5\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"5\\\",\\n      \\\"to\\\": \\\"7\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"7\\\",\\n      \\\"to\\\": \\\"4\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"4\\\",\\n      \\\"to\\\": \\\"6\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"6\\\",\\n      \\\"to\\\": \\\"3\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"3\\\",\\n      \\\"to\\\": \\\"10\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"10\\\",\\n      \\\"to\\\": \\\"2\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"2\\\",\\n      \\\"to\\\": \\\"9\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"9\\\",\\n      \\\"to\\\": \\\"1\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"8\\\",\\n      \\\"to\\\": \\\"9\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"9\\\",\\n      \\\"to\\\": \\\"10\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"10\\\",\\n      \\\"to\\\": \\\"6\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"6\\\",\\n      \\\"to\\\": \\\"7\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"7\\\",\\n      \\\"to\\\": \\\"8\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"11\\\",\\n      \\\"to\\\": \\\"8\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"11\\\",\\n      \\\"to\\\": \\\"9\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"11\\\",\\n      \\\"to\\\": \\\"10\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"11\\\",\\n      \\\"to\\\": \\\"6\\\"\\n    },\\n    {\\n      \\\"type\\\": \\\"edge\\\",\\n      \\\"from\\\": \\\"11\\\",\\n      \\\"to\\\": \\\"7\\\"\\n    }\\n  ]\\n}\\n\"","export default \"{\\n  \\\"type\\\": \\\"node\\\",\\n  \\\"id\\\": \\\"N926\\\",\\n  \\\"label\\\": \\\"<TABLE BORDER=\\\\\\\"1\\\\\\\" CELLBORDER=\\\\\\\"1\\\\\\\" CELLSPACING=\\\\\\\"2\\\\\\\" CELLPADDING=\\\\\\\"4\\\\\\\"><TR><TD ROWSPAN=\\\\\\\"3\\\\\\\"><FONT COLOR=\\\\\\\"red\\\\\\\">hello</FONT><BR/>world</TD><TD COLSPAN=\\\\\\\"3\\\\\\\">b</TD><TD ROWSPAN=\\\\\\\"3\\\\\\\" BGCOLOR=\\\\\\\"lightgrey\\\\\\\">g</TD><TD ROWSPAN=\\\\\\\"3\\\\\\\">h</TD></TR><TR><TD>c</TD><TD PORT=\\\\\\\"here\\\\\\\">d</TD><TD>e</TD></TR><TR><TD COLSPAN=\\\\\\\"3\\\\\\\">f</TD></TR></TABLE>\\\",\\n  \\\"shape\\\": \\\"table\\\"\\n}\\n\"","import EventEmitter from '@/graph/base/EventEmitter';\nimport { RenderableData } from '@/graph/base/data';\nimport renderableFactory from '@/graph/base/renderableFactory';\n\nexport default class Root extends EventEmitter {\n  public ctx: CanvasRenderingContext2D = document.createElement('canvas')\n    .getContext('2d')!;\n  public child: Renderable | null = null;\n  public findPort(id: string[]) {\n    // noinspection SuspiciousTypeOfGuard\n    if (this.child instanceof Port) {\n      return this.child.findPort(id);\n    }\n    return null;\n  }\n  public setData(data: RenderableData) {\n    const newClass = renderableFactory(data);\n    if (this.child === null || this.child.constructor !== newClass) {\n      this.child = new newClass(this, null);\n    }\n    this.child!.setData(data);\n    this.emit('render', [{\n      key: 'main',\n      children: [\n        this.child!.render(),\n      ],\n    }]);\n  }\n  public redraw(data: RenderableData) {\n    this.child = new (renderableFactory(data))(this, null);\n    this.child.setData(data);\n    this.emit('render', [{\n      key: 'main',\n      children: [\n        this.child.render(),\n      ],\n    }]);\n  }\n}\n\nexport const globalRoot = new Root();\n// @ts-ignore\nwindow.globalRoot = globalRoot;\nexport const globalParsers\n    : { [input: string]: (input: string) => RenderableData } = {\n  json(input: string): RenderableData { return JSON.parse(input); },\n  graphviz(/* input: string */): RenderableData { throw new Error('Not implemented'); },\n};\n\n// Examples\nimport stdThreadJoinGv from '!raw-loader!./examples/stdThreadJoin.gv';\nimport stdThreadJoinJson from '!raw-loader!./examples/stdThreadJoin.txt';\nimport recordJson from '!raw-loader!./examples/record.txt';\nimport subGraphJson from '!raw-loader!./examples/subgraph.txt';\nimport icosahedronJson from '!raw-loader!./examples/icosahedron.txt';\nimport tableJson from '!raw-loader!./examples/table.txt';\nimport Renderable from '@/graph/base/Renderable';\nimport Port from '@/graph/base/Port';\n\ninterface Example {\n  name: string;\n  parser: string;\n  content: string;\n}\n\nexport const globalExamples: Example[] = [\n  {\n    name: 'stdThreadJoinGv',\n    parser: 'graphviz',\n    content: stdThreadJoinGv,\n  },\n  {\n    name: 'stdThreadJoinJson',\n    parser: 'json',\n    content: stdThreadJoinJson,\n  },\n  {\n    name: 'record',\n    parser: 'json',\n    content: recordJson,\n  },\n  {\n    name: 'subGraph',\n    parser: 'json',\n    content: subGraphJson,\n  },\n  {\n    name: 'icosahedronJson',\n    parser: 'json',\n    content: icosahedronJson,\n  },\n  {\n    name: 'table',\n    parser: 'json',\n    content: tableJson,\n  },\n];\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Watch } from 'vue-property-decorator';\nimport CollapsiblePane from './components/CollapsiblePane.vue';\nimport Graph from './components/Graph.vue';\nimport {\n  globalRoot,\n  globalParsers,\n  globalExamples,\n} from './graph/Root';\nimport 'vue-awesome/icons/upload';\nimport 'vue-awesome/icons/sync';\n\n@Component({\n  components: {\n    CollapsiblePane,\n    Graph,\n  },\n})\nexport default class Group extends Vue {\n  get desktopLayout() {\n    return this.windowWidth > 719;\n  }\n  get realSettingsWidth() {\n    return this.desktopLayout ? this.settingsWidth : this.canvasWidth;\n  }\n  // UI data\n  // noinspection JSUnusedLocalSymbols\n  private settingsOpen = true;\n  private settingsWidth = 300;\n  private minGraphWidth = 150;\n  private minSettingsWidth = 150;\n  private sizerMouseActive = false;\n  private sizerTouchActive = false;\n  private windowWidth = document.documentElement.clientWidth;\n  private windowHeight = document.documentElement.clientHeight;\n  private canvasWidth = 0;\n  private canvasHeight = 0;\n  // Input data\n  private parser = 'json';\n  private rawInput = '';\n  private parseError = null;\n  private parsedInput = '';\n  // noinspection JSUnusedLocalSymbols\n  private examples = globalExamples;\n  // Rendered data\n  // noinspection JSMismatchedCollectionQueryUpdate\n  private rendered: object[] = [];\n  public parseInput() {\n    try {\n      if (this.rawInput) {\n        const parsed = globalParsers[this.parser](this.rawInput);\n        this.parsedInput = JSON.stringify(parsed, null, 2);\n        globalRoot.setData(parsed);\n      } else {\n        this.parsedInput = '';\n      }\n      this.parseError = null;\n    } catch (e) {\n      /* tslint:disable:no-console */\n      console.log(e);\n      this.parseError = e.stack;\n    }\n  }\n  public mounted() {\n    window.addEventListener('resize', this.getSize);\n    this.updateCanvasSize();\n    globalRoot.addEventListener('render', (data: object[]) => {\n      this.rendered = data;\n    });\n  }\n  public beforeDestroy() {\n    window.removeEventListener('resize', this.getSize);\n  }\n  @Watch('settingsWidth')\n  public onSettingsWidthChanged() {\n    this.updateCanvasSize();\n  }\n  @Watch('parser')\n  public onParserChanged() {\n    this.parseInput();\n  }\n  @Watch('rawInput')\n  public onRawInputChanged() {\n    this.parseInput();\n  }\n  public redraw() {\n    globalRoot.redraw(JSON.parse(this.parsedInput));\n  }\n  public selectExample(i: number) {\n    const example = globalExamples[i];\n    this.parser = example.parser;\n    this.rawInput = example.content;\n  }\n  public inputFileChange(e: InputEvent) {\n    const file = (e.target as HTMLInputElement).files![0];\n    if (!file) {\n      return;\n    }\n    switch (file.type) {\n      case 'application/json':\n        this.parser = 'json';\n        break;\n      case 'text/vnd.graphviz':\n        this.parser = 'graphviz';\n        break;\n      default:\n        alert('Unknown file type');\n        return;\n    }\n    const reader = new FileReader();\n    reader.onload = (evt: ProgressEvent<FileReader>) => {\n      this.rawInput = evt.target!.result as string;\n    };\n    reader.readAsText(file);\n  }\n  public getSize() {\n    this.windowWidth = document.documentElement.clientWidth;\n    this.windowHeight = document.documentElement.clientHeight;\n    this.$nextTick(() => this.updateCanvasSize());\n  }\n  public updateCanvasSize() {\n    this.canvasWidth = (this.$refs.canvas as HTMLElement).offsetWidth;\n    this.canvasHeight = (this.$refs.canvas as HTMLElement).offsetHeight;\n    // globalRoot.setViewportSize(this.canvasWidth, this.canvasHeight);\n  }\n  public onMainSizerMouseDown() {\n    this.sizerMouseActive = true;\n  }\n  public onMainSizerMouseUp() {\n    this.sizerMouseActive = false;\n  }\n  public onMainSizerMouseMove(e: MouseEvent) {\n    if (e.buttons === 0) {\n      this.sizerMouseActive = false;\n    }\n    if (this.sizerMouseActive) {\n      let elementOffsetX = 0;\n      let target = e.currentTarget;\n      while (target) {\n        elementOffsetX += (target as HTMLElement).offsetLeft;\n        target = (target as HTMLElement).offsetParent;\n      }\n      const mouseOffsetX = e.pageX;\n      const width = (e.currentTarget! as HTMLElement).offsetWidth;\n      const offsetX = mouseOffsetX - elementOffsetX;\n      if (offsetX >= this.minGraphWidth &&\n        (width - offsetX) >= this.minSettingsWidth) {\n        this.settingsWidth = Math.round(width - offsetX);\n      }\n    }\n  }\n  public onMainSizerTouchStart() {\n    this.sizerTouchActive = true;\n  }\n  public onMainSizerTouchEnd() {\n    this.sizerTouchActive = false;\n  }\n  public onMainSizerTouchMove(e: TouchEvent) {\n    if (this.sizerTouchActive) {\n      let elementOffsetX = 0;\n      let target = e.currentTarget;\n      while (target) {\n        elementOffsetX += (target as HTMLElement).offsetLeft;\n        target = (target as HTMLElement).offsetParent;\n      }\n      const mouseOffsetX = e.touches[0].pageX;\n      const width = (e.currentTarget! as HTMLElement).offsetWidth;\n      const offsetX = mouseOffsetX - elementOffsetX;\n      if (offsetX >= this.minGraphWidth &&\n        (width - offsetX) >= this.minSettingsWidth) {\n        this.settingsWidth = Math.round(width - offsetX);\n      }\n    }\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5df0d3e7&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Icon from 'vue-awesome/components/Icon.vue';\nimport VueKonva from 'vue-konva';\nimport App from './App.vue';\n\nVue.config.productionTip = false;\n\nVue.component('v-icon', Icon);\nVue.use(VueKonva);\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=style&index=0&id=a3cbdefc&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=style&index=0&id=a3cbdefc&lang=stylus&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapsiblePane.vue?vue&type=style&index=0&id=08120549&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapsiblePane.vue?vue&type=style&index=0&id=08120549&lang=stylus&scoped=true&\""],"sourceRoot":""}